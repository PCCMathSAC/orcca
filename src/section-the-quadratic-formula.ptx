<?xml version="1.0" encoding="UTF-8" ?>
<!-- *********************************************************************-->
<!-- Copyright 2016-2019                                                  -->
<!-- Portland Community College                                           -->
<!--                                                                      -->
<!-- This file is part of Open Resources for Community College Algebra    -->
<!-- (ORCCA).                                                             -->
<!--                                                                      -->
<!-- Open Resources for Community College Algebra is licensed under a     -->
<!-- Creative Commons Attribution 4.0 International License.              -->
<!--                                                                      -->
<!-- Under this license, any user of this textbook or the textbook        -->
<!-- contents must provide proper attribution as follows.                 -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- include in every digital format page view (including but not         -->
<!-- limited to EPUB, PDF, and HTML) and on every physical printed page   -->
<!-- the following attribution:                                           -->
<!--                                                                      -->
<!-- Original source material, products with readable and accessible      -->
<!-- math content, and other information freely available at              -->
<!-- pcc.edu/orcca.                                                       -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- reproduce any math content (such as math expressions and equations)  -->
<!-- in a readable manner, and offer math content in at least one web     -->
<!-- accessible manner.                                                   -->
<!--                                                                      -->
<!-- The Portland Community College name, Portland Community College      -->
<!-- logo, ORCCA name, Open Resources for Community College Algebra name, -->
<!-- ORCCA logo, and front and back cover designs are not subject to the  -->
<!-- Creative Commons license and may not be reproduced without the       -->
<!-- prior and express written consent of Portland Community College.     -->
<!--                                                                      -->
<!-- For questions regarding this license, please contact                 -->
<!-- orcca-group@pcc.edu.                                                 -->
<!-- *********************************************************************-->
<section xml:id="section-the-quadratic-formula" permid="ISS">
  <title>The Quadratic Formula</title>
  <objectives permid="BCO">
    <title>PCC Course Content and Outcome Guide</title>
    <ul permid="jzk">
      <li permid="bUL">
        <xref ref="ccog-solve-quadratic-equations-using-quadratic-formula" text="local">MTH 65 CCOG</xref>
      </li>

      <li permid="ojd">
        <xref ref="ccog-solve-real-world-models" text="local">MTH 65 CCOG</xref>
      </li>
    </ul>
  </objectives>

  <introduction permid="hJX">
    <p permid="CWC">
      We have learned how to solve certain quadratic equations using the square root property.
      In this section,
      we will learn another method, the quadratic formula.
    </p>

    <figure permid="jdL">
      <caption>Alternative Video Lesson</caption>
      <video youtubeplaylist="PLmuZCPhWPt-dvXvemkv2B4YtnK-s2WCh9"/>
    </figure>
  </introduction>

  <subsection permid="pab">
    <title>Solving Quadratic Equations with the Quadratic Formula</title>
    <p permid="nNE">
      The standard form for a quadratic equation is
      <me permid="VKa">
        ax^2+bx+c=0
      </me>
      where <m>a</m> is some nonzero number.
    </p>

    <p permid="TUN">
      When <m>b=0</m> and the equation's form is <m>ax^2+c=0</m>,
      then we can simply use the square root property to solve it.
      For example, <m>x^2-4=0</m> leads to <m>x^2=4</m>, which leads to <m>x=\pm2</m>,
      a solution set of <m>\{-2,2\}</m>.
    </p>

    <!-- Below is no longer appropriate given edition 2 -->
    <!-- <p permid="AbW">
      Second, if we can factor the left side of the equation in <m>ax^2+bx+c=0</m>,
      then we can solve the equation by factoring.
    </p>

    <example permid="SmE">
      <statement>
        <p permid="hoy">
          Solve for <m>x</m> in <m>x^2-4x-12=0</m>.
        </p>
      </statement>
      <solution permid="tYp">
        <p permid="LGu">
          <md permid="OfB">
            <mrow>x^2-4x-12\amp=0</mrow>
            <mrow>(x-6)(x+2)\amp=0</mrow>
          </md>
          <md permid="umK">
            <mrow>x-6\amp=0\amp\text{or}\amp\amp x+2\amp=0</mrow>
            <mrow>x\amp=6\amp\text{or}\amp\amp x\amp=-2</mrow>
          </md>
          The solution set is <m>\{-2,6\}</m>.
        </p>
      </solution>
    </example> -->

    <p>
      But can we solve equations where <m>b\neq0</m>?
      A general method for solving a quadratic equation is to use what is known as the quadratic formula.
    </p>

    <fact xml:id="fact-the-quadratic-formula" permid="WWx">
      <title>The Quadratic Formula</title>
      <idx><h>solving</h><h>quadratic equations</h><h>quadratic formula</h></idx>

      <p permid="qIk">
        For any quadratic equation <m>ax^2+bx+c=0</m> where <m>a\neq0</m>,
        the solutions are given by
        <me permid="atT">
          x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
        </me>
      </p>
    </fact>

    <p permid="Mqo">
      As we have seen from solving quadratic equations,
      there can be at most two solutions.
      Both of the solutions are included in the quadratic formula with the <m>\pm</m> symbol.
      We could write the two solutions separately:
      <md permid="GBc">
        <mrow>x=\frac{-b-\sqrt{b^2-4ac}}{2a}\amp\amp\text{ or }\amp\amp x=\frac{-b+\sqrt{b^2-4ac}}{2a}</mrow>
      </md>
    </p>

    <p permid="sxx">
      This method for solving quadratic equations will work to solve
      <em>every</em> quadratic equation.
      It is most helpful when <m>b\ne0</m><!-- and when <m>ax^2+bx+c</m> cannot be factored-->.
      <!-- In this section, we will focus on how to use the formula. -->
    </p>

    <!-- Below refers to factoring, not appropriate for edition 2 -->
    <!-- <p permid="YEG">
      In <xref ref="section-solving-quadratic-equations-by-factoring">Section</xref>,
      we saw an example where a physics class launched a tennis ball off the roof of a building.
      In that example,
      the numbers were simplified so we could solve it by factoring.
      Now we will solve a similar example with more realistic numbers.
    </p> -->

    <example xml:id="example-quadratic-equation-flying-object" permid="ytN">
      <statement>
        <p permid="NvH">
          Linh is in a physics class that launches a tennis ball from a rooftop that is <m>90.2</m> feet above the ground.
          They fire it directly upward at a speed of <m>14.4</m> feet per second and measure the time it takes for the ball to hit the ground below.
          We can model the height of the tennis ball, <m>h</m>,
          in feet, with the quadratic equation <m>h=-16x^2+14.4x+90.2</m>,
          where <m>x</m> represents the time in seconds after the launch.
          According to the model, when should the ball hit the ground?
          Round the time to one decimal place.
        </p>

        <p permid="tCQ">
          The ground has a height of <m>0</m> feet.
          Substituting <m>0</m> for <m>h</m> in the equation,
          we have this quadratic equation:
          <me permid="mIl">
            0=-16x^2+14.4x+90.2
          </me>
          We cannot solve this equation with<!--  factoring or --> the square root property,
          so we will use the quadratic formula.
          First we will identify that <m>\highlight{a=-16}</m>,
          <m>\highlight{b=14.4}</m> and <m>\highlight{c=90.2}</m>,
          and substitute them into the formula:
          <md permid="SPu">
            <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>x\amp=\frac{-(\substitute{14.4})\pm\sqrt{(\substitute{14.4})^2-4(\substitute{-16})(\substitute{90.2})}}{2(\substitute{-16})}</mrow>
            <mrow>x\amp=\frac{-14.4\pm\sqrt{207.36-(-5772.8)}}{-32}</mrow>
            <mrow>x\amp=\frac{-14.4\pm\sqrt{207.36+5772.8}}{-32}</mrow>
            <mrow>x\amp=\frac{-14.4\pm\sqrt{5980.16}}{-32}</mrow>
            <intertext>These are the exact solutions but because we have a context we want to approximate the solutions with decimals.</intertext>
            <mrow>x\amp\approx-1.966\text{ or }x\approx2.866</mrow>
          </md>
          We don't use the negative solution because a negative time does not make sense in this context.
          The ball will hit the ground approximately <m>2.9</m> seconds after it is launched.
        </p>
      </statement>
    </example>

    <p permid="ELP">
      The quadratic formula can be used to solve any quadratic equation,
      but it requires that you don't make <em>any</em>
      slip-up with remembering the formula,
      that you correctly identify <m>a</m>, <m>b</m>, and <m>c</m>,
      and that you don't make any arithmetic mistakes when you calculate and simplify.
      We recommend that you always check whether you can<!--  factor or --> use the square root property before using the quadratic formula.
      Here is another example.
    </p>

    <example permid="eAW">
      <statement>
        <p permid="ZJZ">
          Solve for <m>x</m> in <m>2x^2-9x+5=0</m>.
        </p>
      </statement>
      <solution permid="afy">
        <p permid="rND">
          First, we check and see that we cannot<!--  factor the left side
          (because we can't find two numbers that multiply to <m>10</m> and add to <m>-9</m>)
          or --> use the square root property
          (because <m>b\neq0</m>)
          so we will use the quadratic formula.
          Next we identify that <m>\highlight{a=2}</m>,
          <m>\highlight{b=-9}</m> and <m>\highlight{c=5}</m>.
          We substitute them into the quadratic formula:
          <md permid="yWD">
            <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>x\amp=\frac{-(\substitute{-9})\pm\sqrt{(\substitute{-9})^2-4(\substitute{2})(\substitute{5})}}{2(\substitute{2})}</mrow>
            <mrow>x\amp=\frac{9\pm\sqrt{81-40}}{4}</mrow>
            <mrow>x\amp=\frac{9\pm\sqrt{41}}{4}</mrow>
          </md>
          This is fully simplified because we cannot simplify
          <m>\sqrt{41}</m> or reduce the fraction.
          The solution set is <m>\left\{\frac{9-\sqrt{41}}{4},\frac{9+\sqrt{41}}{4}\right\}</m>.
          We do not have a context here so we leave the solutions in their exact form.
        </p>
      </solution>
    </example>

    <p permid="kSY">
      When a quadratic equation is not in standard form we must convert it before we can identify the values of <m>a</m>,
      <m>b</m> and <m>c</m>.
      We will show that in the next example.
    </p>

    <example xml:id="example-solve-quadratic-equation-using-quadratic-formula" permid="KIf">
      <statement>
        <p permid="FRi">
          Solve for <m>x</m> in <m>x^2=-10x-3</m>.
        </p>
      </statement>
      <solution permid="GmH">
        <p permid="XUM">
          First, we convert the equation into standard form by adding <m>10x</m> and <m>3</m> to each side of the equation:
          <me permid="fdM">
            x^2+10x+3=0
          </me>
          Next, we check that we cannot<!--  factor the left side or --> use the square root property so we will use the quadratic formula.
          We identify that <m>\highlight{a=1}</m>,
          <m>\highlight{b=10}</m> and <m>\highlight{c=3}</m>.
          We substitute them into the quadratic formula:
          <md permid="LkV">
            <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>x\amp=\frac{-\substitute{10}\pm\sqrt{(\substitute{10})^2-4(\substitute{1})(\substitute{3})}}{2(\substitute{1})}</mrow>
            <mrow>x\amp=\frac{-10\pm\sqrt{100-12}}{2}</mrow>
            <mrow>x\amp=\frac{-10\pm\sqrt{88}}{2}</mrow>
          </md>
          We notice that the radical can be simplified:
          <md permid="rse">
            <mrow>x\amp=\frac{-10\pm2\sqrt{22}}{2}</mrow>
            <mrow>x\amp=\frac{-10}{2}\pm\frac{2\sqrt{22}}{2}</mrow>
            <mrow>x\amp=-5\pm\sqrt{22}</mrow>
          </md>
          The solution set is <m>\{-5-\sqrt{22}, -5+\sqrt{22}\}</m>.
        </p>
      </solution>
    </example>

    <remark permid="DdG">
      <p permid="WPt">
        The irrational solutions to quadratic equations can be checked,
        although doing so can sometimes involve a lot of simplification and is not shown throughout this section.
        As an example, to check the solution of
        <m>-5+\sqrt{22}</m> from <xref ref="example-solve-quadratic-equation-using-quadratic-formula">Example</xref>,
        we would replace <m>x</m> with
        <m>-5+\sqrt{22}</m> and check that the two sides of the equation are equal.
        This check is shown here:
        <md permid="Xzn">
          <mrow>x^2\amp=-10x-3</mrow>
          <mrow>(\substitute{-5+\sqrt{22}})^2\amp\stackrel{?}{=}-10(\substitute{-5+\sqrt{22}})-3</mrow>
          <mrow>(-5)^2+2(-5)(\sqrt{22})+(\sqrt{22})^2\amp\stackrel{?}{=}-10(-5+\sqrt{22})-3</mrow>
          <mrow>25-10\sqrt{22}+22 \amp\stackrel{?}{=}50-10\sqrt{22}-3</mrow>
          <mrow>47-10\sqrt{22}\amp\stackrel{\checkmark}{=}47-10\sqrt{22}</mrow>
        </md>
      </p>
    </remark>

    <p permid="Rah">
      When the radicand from the quadratic formula, <m>b^2-4ac</m>,
      which is called the <term>discriminant</term>,
          <idx><h>discriminant</h></idx>
      is a negative number, the quadratic equation has no real solution.
      <xref ref="example-quadratic-equation-no-solution">Example</xref>
      shows what happens in this case.
    </p>

    <example xml:id="example-quadratic-equation-no-solution" permid="qPo">
      <statement>
        <p permid="lYr">
          Solve for <m>y</m> in <m>y^2-4y+8=0</m>.
        </p>
      </statement>
      <solution permid="mtQ">
        <p permid="EbV">
          Identify that <m>\highlight{a=1}</m>,
          <m>\highlight{b=-4}</m> and <m>\highlight{c=8}</m>.
          We will substitute them into the quadratic formula:
          <md permid="DGw">
            <mrow>y\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>\amp=\frac{-(\substitute{-4})\pm\sqrt{(\substitute{-4})^2-4(\substitute{1})(\substitute{8})}}{2(\substitute{1})}</mrow>
            <mrow>\amp=\frac{4\pm\sqrt{16-32}}{2}</mrow>
            <mrow>\amp=\frac{4\pm\sqrt{-16}}{2}</mrow>
          </md>
          The square root of a negative number is not a real number,
          so we will simply state that this equation has no real solutions.
        </p>
      </solution>
    </example>

    <p>
      Sometimes a radical equation gives rise to a quadratic equation,
      and the quadratic formula is useful.
    </p>

    <example permid="aUJ">
      <statement>
        <p permid="Dqo">
          Solve for <m>z</m> in <m>\sqrt{z}+2=z</m>.
        </p>
      </statement>
      <solution permid="RPs">
        <p permid="zLO">
          We will isolate the radical first,
          and then square both sides.
          <md permid="QoA">
            <mrow>\sqrt{z}+2\amp=z</mrow>
            <mrow>\sqrt{z}\amp=z-2</mrow>
            <mrow>\left(\sqrt{z}\right)^{\highlight{2}}\amp=(z-2)^{\highlight{2}}</mrow>
            <mrow>z\amp=z^2-4z+4</mrow>
            <mrow>0\amp=z^2-5z+4</mrow>
            <mrow>z\amp=\frac{5\pm\sqrt{(-5)^2-4(1)(4)}}{2}</mrow>
            <mrow>\amp=\frac{5\pm\sqrt{25-16}}{2}</mrow>
            <mrow>\amp=\frac{5\pm\sqrt{9}}{2}</mrow>
            <mrow>\amp=\frac{5\pm3}{2}</mrow>
          </md>
          <md permid="wvJ">
            <mrow>z\amp=\frac{5-3}{2}\amp\text{ or }\amp\amp z\amp=\frac{5+3}{2}</mrow>
            <mrow>z\amp=1\amp\text{ or }\amp\amp z\amp=4</mrow>
          </md>
          Because we squared both sides of an equation,
          we must check both solutions.
          <md permid="cCS">
            <mrow>\sqrt{\substitute{1}}+2\amp\stackrel{?}{=}1\amp\sqrt{\substitute{4}}+2\amp\stackrel{?}{=}4</mrow>
            <mrow>1+2\amp\stackrel{\text{no}}{=}1\amp2+2\amp\stackrel{\checkmark}{=}4</mrow>
          </md>
          It turned out that <m>1</m> is an extraneous solution,
          but <m>4</m> is a valid solution.
          So the equation has one solution: <m>4</m>.
          The solution set is <m>\{4\}</m>.
        </p>
      </solution>
    </example>

    <example permid="njb">
      <statement>
        <p permid="PEG">
          Solve the equation <m>\sqrt{2n-6}=1+\sqrt{n-2}</m> for <m>n</m>.
        </p>
      </statement>
      <solution permid="edK">
        <p permid="Mag">
          We cannot isolate two radicals,
          so we will simply square both sides,
          and later try to isolate the remaining radical.
          <md permid="UYt">
            <mrow>\sqrt{2n-6}\amp=1+\sqrt{n-2}</mrow>
            <mrow>\left(\sqrt{2n-6}\right)^{\highlight{2}}\amp=\left(1+\sqrt{n-2}\right)^{\highlight{2}}</mrow>
            <mrow>2n-6\amp=1^2+2\sqrt{n-2}+\left(\sqrt{n-2}\right)^2</mrow>
            <mrow>2n-6\amp=1+2\sqrt{n-2}+n-2</mrow>
            <mrow>2n-6\amp=2\sqrt{n-2}+n-1</mrow>
            <mrow>n-5\amp=2\sqrt{n-2}</mrow>
            <intertext>Note here that we can leave the factor of <m>2</m> next to the radical. We will square the <m>2</m> also.</intertext>
            <mrow>(n-5)^{\highlight{2}}\amp=\left(2\sqrt{n-2}\right)^{\highlight{2}}</mrow>
            <mrow>n^2-10n+25\amp=4(n-2)</mrow>
            <mrow>n^2-10n+25\amp=4n-8</mrow>
            <mrow>n^2-14n+33\amp=0</mrow>
          </md>
          <md>
            <mrow>n\amp=\frac{14\pm\sqrt{14^2-4(1)(33)}}{2}</mrow>
            <mrow>\amp=\frac{14\pm\sqrt{196-132}}{2}</mrow>
            <mrow>\amp=\frac{14\pm\sqrt{64}}{2}</mrow>
            <mrow>\amp=\frac{14\pm8}{2}</mrow>
          </md>
          <md permid="BfC">
            <mrow>n\amp=\frac{14-8}{2}\amp\text{ or }\amp\amp n\amp=\frac{14+8}{2}</mrow>
            <mrow>n\amp=3\amp\text{ or }\amp\amp n\amp=11</mrow>
          </md>
          So our two potential solutions are <m>3</m> and <m>11</m>.
          We should now verify that they truly are solutions.
          <md permid="hmL">
            <mrow>\sqrt{2(\substitute{3})-6}\amp\stackrel{?}{=}1+\sqrt{\substitute{3}-2}\amp\sqrt{2(\substitute{11})-6}\amp\stackrel{?}{=}1+\sqrt{\substitute{11}-2}</mrow>
            <mrow>\sqrt{6-6}\amp\stackrel{?}{=}1+\sqrt{1}\amp\sqrt{22-6}\amp\stackrel{?}{=}1+\sqrt{9}</mrow>
            <mrow>\sqrt{0}\amp\stackrel{?}{=}1+1\amp\sqrt{16}\amp\stackrel{?}{=}1+3</mrow>
            <mrow>0\amp\stackrel{\text{no}}{=}2\amp4\amp\stackrel{\checkmark}{=}4</mrow>
          </md>
          So, <m>11</m> is the only solution.
          The solution set is <m>\{11\}</m>.
        </p>
      </solution>
    </example>

    <!-- <p>
      The following are examples of how the quadratic formula can be used to solve word-based problems.
    </p>

    <example>
      <statement>
        <p>
          Two numbers' sum is <m>3.5</m>, and their product is <m>-30</m>. Find these two numbers.
        </p>
      </statement>
      <solution>
        <p>
          Let <m>x</m> and <m>y</m> denote these numbers.
          The statement that <q>the two numbers' sum is <m>3.5</m></q> can be translated to the equation <m>x+y=3.5</m>.
          Similarly the statement that <q>their product is <m>-30</m></q> can be translated to the equation <m>xy=-30</m>.
          Solving for <m>x</m> in <m>x+y=3.5</m> by subtracting <m>y</m> on each side gives <m>x=3.5-y</m>.
          Therefore, the equation <m>xy=-30</m> can be rewritten as:
          <md>
            <mrow>(3.5-y)y\amp=-30</mrow>
            <mrow>3.5y-y^2\amp=-30</mrow>
          </md>
          The result is a quadratic equation which can be rewritten into standard form by adding <m>30</m> on each side:
          <md>
            <mrow>-y^2+3.5y+30=0</mrow>
          </md>
          Then, to solve for <m>y</m>, we apply the quadratic formula:
          <md>
            <mrow>y\amp=\frac{-(3.5)\pm\sqrt{(3.5)^2-4(-1)(30)}}{2(-1)}</mrow>
            <mrow>y\amp=\frac{-3.5\pm\sqrt{12.25-(-120)}}{-2}</mrow>
            <mrow>y\amp=\frac{-3.5\pm\sqrt{132.25}}{-2}</mrow>
            <mrow>y\amp=\frac{-3.5\pm11.5}{-2}</mrow>
          </md>
          Hence, the two possible solutions for <m>y</m> are:
          <md>
            <mrow>y=\frac{-3.5+11.5}{-2}=-4\quad\text{or}\quad y=\frac{-3.5-11.5}{-2}=7.5</mrow>
          </md>
        </p>
        <p>
          If <m>y=-4</m>, then
          <md><mrow>x=3.5-y=3.5-(-4)=7.5</mrow></md>
          Alternatively, if <m>y=7.5</m>, then
          <md>
            <mrow>x=3.5-y=3.5-7.5=-4</mrow>
          </md>
          In either case, the two numbers are <m>7.5</m> and <m>-4</m>.
        </p>
        <p>
          In the work above where we solved for <m>x</m> in <m>x+y=3.5</m>, we could have instead solved for <m>y</m>. The solution from here follows similarly to the work above. Also, the final answer should be identical to our answer above.
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          A rectangle's base is <quantity><mag>5</mag><unit base="foot"/></quantity> longer than twice its height.
          The rectangle's area is <quantity><mag>133</mag><unit base="foot" exp="2"/></quantity>.
          Find the rectangle's dimensions (its base and height).
        </p>
      </statement>
      <solution>
        <p>
          Let <m>h</m> and <m>b</m> denote the height and base of the rectangle, respectively.
          The statement that <q>the base is <quantity><mag>5</mag><unit base="foot"/></quantity> longer than twice its height</q> can be translated to the equation <m>b=5+2h</m>.
          Also, the area <m>A</m> of a rectangle with base <m>b</m> and height <m>h</m> is given by <m>A=bh</m>.
          Since we know that <m>A=133</m> and <m>b=5+2h</m>, then we can write
          <md>
            <mrow>133\amp=(5+2h)h</mrow>
            <mrow>133\amp=5h+2h^2</mrow>
          </md>
          This result is a quadratic equation which can be rewritten into standard form by subtracting <m>133</m> on each side:
          <md>
            <mrow>2h^2+5h-113=0</mrow>
          </md>
          Then, to solve for <m>h</m>, we apply the quadratic formula:
          <md>
            <mrow>h\amp=\frac{-(5)\pm\sqrt{(5)^2-4(2)(-133)}}{2(2)}</mrow>
            <mrow>h\amp=\frac{-5\pm\sqrt{25-(-1064)}}{4}</mrow>
            <mrow>h\amp=\frac{-5\pm\sqrt{1089}}{4}</mrow>
            <mrow>h\amp=\frac{-5\pm33}{4}</mrow>
          </md>
          Hence, the two possible solutions for <m>h</m> are:
          <md>
            <mrow>h=\frac{-5+33}{4}=7\quad\text{or}\quad h=\frac{-5-33}{4}=-9.5</mrow>
          </md>
          We ignore the negative solution since it does not make sense to have a <q>negative height</q>.
          So the height is <quantity><mag>7</mag><unit base="foot"/></quantity>.
          Also, since <m>b=5+2h</m>, then <m>b=5+2(7)=19</m>. So the base is <quantity><mag>19</mag><unit base="foot"/></quantity>.
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          You will build a rectangular sheep pen next to the river.
          There is no need to build a fence along the river, so you only need to build three sides.
        </p>
        <p>
          You have a total of <m>485</m> feet of fence to use, and the area of the pen must be <m>29375</m> square feet.
          Find the dimensions (length and width) of the pen.
          There will be two solutions, find both. -->
          <!-- TODO: add figure/diagram of sheep pen next to river with labels l=485-2w at the length and w at the width, once we figure out how to get make images to work -->
        <!-- </p>
      </statement>
      <solution>
        <p>
          Let <m>\ell</m> and <m>w</m> denote the length and width of the pen, respectively. Then the area <m>A</m> of the pen is given by <m>A=\ell w</m>. Also, since we do not need to build fencing along the river, we know <em>one</em> of the side lengths is not included in the perimeter <m>P</m> of the pen.
          Thus, we know that <m>P=2w+\ell</m>.
        </p>
        <p>
          Let's solve for <m>\ell</m> in <m>P=2w+\ell</m> by subtracting <m>2w</m> on each side to get <m>P-2w=\ell</m>. Since <m>P=485</m>, then we can write <m>\ell=485-2w</m>. Also, we know that <m>A=29375</m>, therefore we can rewrite <m>A=\ell w</m> as:
          <md>
            <mrow>29375\amp=(485-2w)w</mrow>
            <mrow>29375\amp=485w-2w^2</mrow>
          </md>
          This result is a quadratic equation which can be rewritten into standard form by substracting <m>29375</m> on each side:
          <md>
            <mrow>-2w^2+485w-29375=0</mrow>
          </md>
          Then, to solve for <m>w</m>, we apply the quadratic formula:
          <md>
            <mrow>w\amp=\frac{-(485)\pm\sqrt{(485)^2-4(-2)(-29375)}}{2(-2)}</mrow>
            <mrow>w\amp=\frac{-485\pm\sqrt{235225-235000}}{-4}</mrow>
            <mrow>w\amp=\frac{-485\pm\sqrt{225}}{-4}</mrow>
            <mrow>w\amp=\frac{-485\pm15}{-4}</mrow>
          </md>
          Hence, the two possible solutions for <m>w</m> are:
          <md>
            <mrow>w=\frac{-485+15}{-4}=117.5\quad\text{or}\quad w=\frac{-485-15}{-4}=125</mrow>
          </md>
        </p>
        <p>
          If the width is <m>w=117.5</m>, then the length is
          <md>
            <mrow>\ell=P-2w=485-2(117.5)=250</mrow>
          </md>
          If the width is <m>w=125</m>, then the length is
          <md>
            <mrow>\ell=P-2w=485-2(125)=235</mrow>
          </md>
          So our two solutions are:
          <md>
            <mrow>w\amp=117.5~\text{feet}\amp\amp\text{and}\amp\ell\amp=250~\text{feet},~\text{or}</mrow>
            <mrow>w\amp=125~\text{feet}\amp\amp\text{and}\amp\ell\amp=235~\text{feet}</mrow>
          </md>
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          There is a rectangular lot in a garden with a length of <quantity><mag>9</mag><unit base="foot"/></quantity> and a width of <quantity><mag>6</mag><unit base="foot"/></quantity>.
          You plan to expand the lot by an equal length around its four sides, and make the area of the expanded rectangular lot <quantity><mag>180</mag><unit base="foot" exp="2"/></quantity>.
          How long should you expand the original lot in four directions? -->
          <!-- TODO: add figure for this problem that shows the original 6 x 9 lot, then a larger lot with length 6+2x and width 9+2x -->
        <!-- </p>
      </statement>
      <solution>
        <p>
          Since each side of the original lot is expanded by an equal amount, let <m>x</m> denote this amount.
          Also let <m>\ell</m> and <m>w</m> denote the length and width of the <em>expanded</em> lot, respectively. Then let <m>A</m> denote the area of the <em>expanded</em> lot.
          The <quantity><mag>9</mag><unit base="foot"/></quantity> length of the original lot is expanded by <m>x</m> on both its left side and right side.
          Thus, we can write <m>\ell=9+x+x=9+2x</m>.
          The <quantity><mag>6</mag><unit base="foot"/></quantity> width of the original lot is expanded by <m>x</m>  above and below.
          So we can also write <m>w=6+x+x=6+2x</m>.
        </p>
        <p>
          Since we know that the area <m>A</m> of the expanded lot is given by <m>A=\ell w</m> and we are given <m>A=180</m>, then, using our expressions for <m>\ell</m> and <m>w</m> above, we can write:
          <md>
            <mrow>180\amp=(9+2x)(6+2x)</mrow>
            <mrow>180\amp=(9)(6)+(9)(2x)+(2x)(6)+(2x)(2x)</mrow>
            <mrow>180\amp=54+18x+12x+4x^2</mrow>
            <mrow>180\amp=54+30x+4x^2</mrow>
          </md>
          This result is a quadratic equation which can be rewritten in standard form by subtracting <m>180</m> on each side:
          <md>
            <mrow>4x^2+30x-126=0</mrow>
          </md>
          We can solve for <m>x</m> by applying the quadratic formula:
          <md>
            <mrow>x\amp=\frac{-(30)\pm\sqrt{(30)^2-4(4)(-126)}}{2(4)}</mrow>
            <mrow>x\amp=\frac{-30\pm\sqrt{900-(-2016)}}{8}</mrow>
            <mrow>x\amp=\frac{-30\pm\sqrt{2916}}{8}</mrow>
            <mrow>x\amp=\frac{-30\pm54}{8}</mrow>
          </md>
          Hence, the two possible solutions for <m>x</m> are:
          <md>
            <mrow>x=\frac{-30+54}{8}=3\quad\text{or}\quad x=\frac{-30-54}{8}=-10.5</mrow>
          </md>
          We ignore the negative solution since it does not make sense to expand by a <q>negative length</q>.
          Therefore, we find that we should expand the original lot by <quantity><mag>3</mag><unit base="foot"/></quantity> in four directions.
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          One car started at a town, and traveled due north at <m>50</m> miles per hour.
          <m>2</m> hours later, at the same town, another car started to travel due east at <m>60</m> miles per hour.
          Assume both cars don't stop and maintain the same speed, after how many hours since the second car starts would the distance between both cars be <m>300</m> miles?
          Round your answer to two decimal places. -->
          <!-- TODO: add figure similar to exercises of this type of problem in this section -->
        <!-- </p>
      </statement>
      <solution>
        <p>
          Let <m>t</m> denote the number of hours since the second car began to travel east.
          Let <m>A</m> denote the distance traveled by the first car <m>t</m> hours since the second car starts.
          Then let <m>B</m> denote the distance traveled by the second car <m>t</m> hours since it starts.
          Note that <m>\text{(distance)}=\text{(speed)}\cdot\text{(time)}</m>.
          Then, for the second car, we can write <m>B=60t</m>.
        </p>
        <p>
          For the first car, recall that it had already been traveling for <m>2</m> hours at <m>50</m> miles per hour by the time that the second car begins traveling.
          Thus, we know that first car must have already traveled <m>(2)(50)=100</m> miles.
          Then the distance traveled by the first car after <m>t</m> hours since the second car starts must be <m>50t</m>.
          Then we can write:
          <md>
            <mrow>A\amp=\text{(distance already traveled)}+\text{(distance traveled after the second car starts)}</mrow>
            <mrow>A\amp=100+50t</mrow>
          </md>
        </p>
        <p>
          Let <m>C</m> denote the distance between both cars after <m>t</m> hours since the second car starts.
          Since the distances <m>A</m>, <m>B</m>, and <m>C</m> form a right triangle where <m>C</m> is the hypotenuse, we can apply the Pythagorean theorem to relate these quantities: <m>A^2+B^2=C^2</m>.
          We want to set <m>C=300</m>.
          Using the expressions for each quantity found above, we can then write:
          <md>
            <mrow>(100+50t)^2+(60t)^2\amp=(300)^2</mrow>
            <mrow>(100)^2+2(100)(50t)+(50t)^2+3600t^2\amp=90000</mrow>
            <mrow>10000+10000t+2500t^2+3600t^2\amp=90000</mrow>
            <mrow>10000+10000t+6100t^2\amp=90000</mrow>
          </md>
          This result is a quadratic equation which can be rewritten in standard form by subtracting <m>90000</m> on each side:
          <md>
            <mrow>6100t^2+10000t-80000=0</mrow>
          </md>
          We can solve for <m>t</m> by applying the quadratic equation:
          <md>
            <mrow>t\amp=\frac{-(10000)\pm\sqrt{(10000)^2-4(6100)(-80000)}}{2(6100)}</mrow>
            <mrow>t\amp=\frac{-10000\pm\sqrt{2052000000}}{12200}</mrow>
            <mrow>t\amp\approx\frac{-10000\pm45299.00}{12200}</mrow>
          </md>
          Hence, the two possible solutions for <m>t</m> are:
          <md>
            <mrow>t\approx\frac{-10000+45299.00}{12200}\approx2.8933\quad\text{or}\quad t\approx\frac{-10000-45299.00}{12200}\approx-4.5327</mrow>
          </md>
          We ignore the negative solution since it does not make sense to have <q>negative time</q>.
          Thus, by rounding the correct positive solution to two decimal places, we conclude that the second car needs to travel about <m>2.89</m> hours for the distance between both cars to be <m>300</m> miles.
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          Currently, an artist can sell <m>250</m> paintings every year at the price of <m>\$50.00</m> per painting.
          Each time they raise the price per painting by <m>\$5.00</m>, they sell <m>5</m> fewer paintings every year.
        </p>
        <p>
          Assume they will raise the price per painting <m>x</m> times, then they will sell <m>250-5x</m> paintings every year at the price of <m>50+5x</m> dollars per painting.
          Their yearly income can be modeled by the equation:
          <md>
            <mrow>i=(50+5x)(250-5x)</mrow>
          </md>
          where <m>i</m> stands for their yearly income in dollars.
        </p>
        <p>
          To earn an income of <m>\$20,000.00</m> per year, the artist could sell their paintings at two new different prices, a lower price and a higher price.
          Find both prices.
        </p>
      </statement>
      <solution>
        <p>
          To find the two prices, we need to set <m>i=20000</m>.
          Then, using the given equation for the income, we can write:
          <md>
            <mrow>20000\amp=(50+5x)(250-5x)</mrow>
            <mrow>20000\amp=(50)(250)+(50)(-5x)+(5x)(250)+(5x)(-5x)</mrow>
            <mrow>20000\amp=12500-250x+1250x-25x^2</mrow>
            <mrow>20000\amp=12500+1000x-25x^2</mrow>
          </md>
          This result is a quadratic equation which can be written in standrad form by subtracting <m>20000</m> on each side:
          <md>
            <mrow>-25x^2+1000x-7500=0</mrow>
          </md>
          We can solve for <m>x</m> by applying the quadratic formula:
          <md>
            <mrow>x\amp=\frac{-(1000)\pm\sqrt{(1000)^2-4(-25)(-750)}}{2(-25)}</mrow>
            <mrow>x\amp=\frac{-1000\pm\sqrt{(1000)^2-750000}}{-50}</mrow>
            <mrow>x\amp=\frac{-1000\pm\sqrt{250000}}{-50}</mrow>
            <mrow>x\amp=\frac{-1000\pm500}{-50}</mrow>
          </md>
          Hence, the two possible solutions for <m>x</m> are:
          <md>
            <mrow>x=\frac{-1000+500}{-50}=10\quad\text{or}\quad x=\frac{-1000-50}{-50}=30</mrow>
          </md>
          Recall that <m>x</m> denotes the number of times that the artist raises the price of their paintings. Thus, using our solutions for <m>x</m>, we find that the new lower price is
          <md>
            <mrow>50+5(10)=100~\text{dollars},</mrow>
          </md>
          and the new higher price is
          <md>
            <mrow>50+5(30)=200~\text{dollars}.</mrow>
          </md>
        </p>
      </solution>
    </example> -->

<!-- Originally this chapter came after the quadratic functions chapter. The move makes this a forward reference. -->
<!--         <example>
            <title>Pellet Trajectory Revisited</title>
            <statement>
                <p>Recall the example from <xref ref="section-properties-of-quadratic-functions"/>, we did an example where Yang measured the <xref ref="figure-shooting-distance" text="custom">vertical distance that his pellets deviated</xref> from the cross-hairs at various distances to the target. A model for the distance that the pellet will rise or fall in inches, <m>y</m>, is given by <m>y=-0.005x^2+0.19x-0.9</m>, where <m>x</m> represents the distance to the target in yards. At what target distance will the pellet fall <m>6</m> inches from the reticule's aim?</p>
            </statement>
            <solution>
                <p>First, start by setting up the equation. Since we know that the pellet will fall <m>6</m> inches, that means that <m>y=-6</m>. So our equation to solve is <m>-6=-0.005x^2+0.19x-0.9</m>. Since this isn't in standard form, we have to move the <m>-6</m> over to the other side.
                <md>
                    <mrow>-6\amp=-0.005x^2+0.19x-0.9</mrow>
                    <mrow>\addleft{6}-6\amp=-0.005x^2+0.19x-0.9\addright{6}</mrow>
                    <mrow>0\amp=-0.005x^2+0.19x+5.1</mrow>
                    <intertext>Next, we should assume that this doesn't factor nicely and go for the quadratic formula. In this case, <m>\highlight{a=-0.005}</m>, <m>\highlight{b=0.19}</m>, and <m>\highlight{c=5.1}</m>.</intertext>
                    <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                    <mrow>\amp=\frac{-0.19\pm\sqrt{0.19^2-4(-0.005)(5.1)}}{2(-0.005)}</mrow>
                    <mrow>\amp=\frac{-0.19\pm\sqrt{0.1381}}{-0.01}</mrow>
                </md></p>
                <p>This expression is in exact form, but this is scenario requires an approximation to be valuable. <me>x\approx-18.16 \text{ or } x\approx56.16</me>. The negative solution is meaningless in this case, so we should assume that the positive solution is the one for which we were looking. In conclusion, the pellet will have to travel about <m>56.16</m> yards before it falls <m>6</m> inches.</p>

            </solution>
        </example> -->
  </subsection>

  <reading-questions>
    <exercise>
      <statement>
        <p>
          What is the formula for the discriminant? (The part of the quadratic formula inside the radical.)
        </p>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Are there any kinds of quadratic equations where the quadratic formula is not the best tool to use?
        </p>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Given a quadratic equation, will the quadratic formula always show you two real solutions?
        </p>
      </statement>
    </exercise>
  </reading-questions>

  <exercises permid="hvC">
    <subexercises>
      <title>Review and Warmup</title>
      <exercisegroup cols="4">
        <introduction>
          <p>
            Write each fraction in simplified form.
          </p>
        </introduction>
        <exercise>
          <webwork>
            <description>
              <line>Reduce fractions. Denominators should be like the ones expected from the quadratic formula.</line>
              <line>In random order:</line>
              <line>an integer; displayed with positive denominator</line>
              <line>an integer; displayed with negative denominator</line>
              <line>not an integer; positive; less than 1; displayed with positive denominator</line>
              <line>not an integer; positive; less than 1; displayed with negative denominator</line>
            </description>
            <pg-code>
              # an integer; displayed with positive denominator
              $d[0] = 1;
              $n[0] = list_random(-9..-3,3..9);
              $den[0] = random(2,12,2);
              $num[0] = $n[0]*$den[0];
              #
              # an integer; displayed with negative denominator
              $d[1] = 1;
              $n[1] = list_random(-9..-3,3..9);
              $den[1] = random(-12,-2,2);
              $num[1] = $n[1]*$den[1];
              #
              # not an integer; positive; less than 1; displayed with positive denominator
              $d[2] = random(2,12,1);
              do {$n[2] = random(1,$d[2]-1,1)} until (gcd($d[2],$n[2]) == 1);
              do {$den[2] = $d[2]*random(2,floor(40/$d[2]),1)} until ($den[2] % 2 == 0);
              $num[2] = $n[2] * $den[2]/$d[2];
              #
              # not an integer; positive; less than 1; displayed with negative denominator
              $d[3] = random(2,12,1);
              do {$n[3] = random(1,$d[3]-1,1)} until (gcd($d[3],$n[3]) == 1);
              do {$den[3] = $d[3]*random(-floor(40/$d[3]),-2,1)} until ($den[3] % 2 == 0);
              $num[3] = $n[3] * $den[3]/$d[3];
              #
              Context("LimitedFraction")->flags->set(allowMixedNumbers=>0,showMixedNumbers=>0,requirePureFractions=>1);
              for my $i (0..3) {
                $f[$i] = "\frac{$num[$i]}{$den[$i]}";
                $ans[$i] = Fraction($n[$i],$d[$i]);
              };
              @i = NchooseK(4,4);
              #
              # explanations
              Context()->texStrings;
              $sol[0] = "Since [`$den[0]`] divides evenly into [`$num[0]`], the result is an integer. It's [`$ans[0]`].";
              $sol[1] = "Since [`$den[1]`] divides evenly into [`$num[1]`], the result is an integer. Note that dividing a "
                . (($num[1] &lt; 0)?'negative':'positive') . " number by a negative number results in a "
                . (($num[1] &lt; 0)?'positive':'negative') . " number. The result is [`$ans[1]`].";
              $sol[2] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[2],$den[2])
                . "`]. Dividing this out of each, the result is [`$ans[2]`].";
              $sol[3] = "Note that dividing a " . (($num[3] &lt; 0)?'negative':'positive') . " number by a negative number results in a "
                . (($num[3] &lt; 0)?'positive':'negative') . " number. The numerator and denominator have a greatest common factor of [`" . gcd($num[3],$den[3])
                . "`]. Dividing this out of each, the result is [`$ans[3]`].";
              Context()->normalStrings;
            </pg-code>
            <statement>
              <p>
                <ol>
                  <li>
                    <p>
                      <m><var name="$f[$i[0]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[0]]" width="10"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <m><var name="$f[$i[1]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[1]]" width="10"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <m><var name="$f[$i[2]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[2]]" width="10"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <m><var name="$f[$i[3]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[3]]" width="10"/>
                    </p>
                  </li>
                </ol>
              </p>
            </statement>
            <solution>
              <p>
                <ol>
                  <li>
                    <p>
                      <var name="$sol[$i[0]]" data="pgml"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <var name="$sol[$i[1]]" data="pgml"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <var name="$sol[$i[2]]" data="pgml"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <var name="$sol[$i[3]]" data="pgml"/>
                    </p>
                  </li>
                </ol>
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Reduce fractions. Denominators should be like the ones expected from the quadratic formula.</description>
            <pg-code>
              # not an integer; greater than 1; displayed with positive denominator
              $d[0] = random(2,12,1);
              do {$n[0] = random($d[0]+1,3*$d[0]-1,1)} until (gcd($d[0],$n[0]) == 1);
              do {$den[0] = $d[0]*random(2,floor(40/$d[0]),1)} until ($den[0] % 2 == 0);
              $num[0] = $n[0] * $den[0]/$d[0];
              #
              # not an integer; less than -1; displayed with positive denominator
              $d[1] = random(2,12,1);
              do {$n[1] = -random($d[1]+1,3*$d[1]-1,1)} until (gcd($d[1],$n[1]) == 1);
              do {$den[1] = $d[1]*random(2,floor(40/$d[1]),1)} until ($den[1] % 2 == 0);
              $num[1] = $n[1] * $den[1]/$d[1];
              #
              # not an integer; positive; less than 1; displayed with positive denominator
              $d[2] = random(2,12,1);
              do {$n[2] = random(1,$d[2]-1,1)} until (gcd($d[2],$n[2]) == 1);
              do {$den[2] = $d[2]*random(2,floor(40/$d[2]),1)} until ($den[2] % 2 == 0);
              $num[2] = $n[2] * $den[2]/$d[2];
              #
              # not an integer; positive; less than 1; displayed with negative denominator
              $d[3] = random(2,12,1);
              do {$n[3] = random(1,$d[3]-1,1)} until (gcd($d[3],$n[3]) == 1);
              do {$den[3] = $d[3]*random(-floor(40/$d[3]),-2,1)} until ($den[3] % 2 == 0);
              $num[3] = $n[3] * $den[3]/$d[3];
              #
              Context("LimitedFraction")->flags->set(allowMixedNumbers=>0,showMixedNumbers=>0,requirePureFractions=>1);
              for my $i (0..3) {
                $f[$i] = "\frac{$num[$i]}{$den[$i]}";
                $ans[$i] = Fraction($n[$i],$d[$i]);
              };
              @i = NchooseK(4,4);
              #
              # explanations
              Context()->texStrings;
              $sol[0] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[0],$den[0])
                . "`]. Dividing this out of each, the result is [`$ans[0]`].";
              $sol[1] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[1],$den[1])
                . "`]. Dividing this out of each, the result is [`$ans[1]`].";
              $sol[2] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[2],$den[2])
                . "`]. Dividing this out of each, the result is [`$ans[2]`].";
              $sol[3] = "Note that dividing a " . (($num[3] &lt; 0)?'negative':'positive') . " number by a negative number results in a "
                . (($num[3] &lt; 0)?'positive':'negative') . " number. The numerator and denominator have a greatest common factor of [`" . gcd($num[3],$den[3])
                . "`]. Dividing this out of each, the result is [`$ans[3]`].";
              Context()->normalStrings;
            </pg-code>
            <statement>
              <p>
                Write each fraction in simplified form.
                <ol>
                  <li>
                    <p>
                      <m><var name="$f[$i[0]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[0]]" width="10"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <m><var name="$f[$i[1]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[1]]" width="10"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <m><var name="$f[$i[2]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[2]]" width="10"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <m><var name="$f[$i[3]]"/></m>
                    </p>
                    <p>
                      <var name="$ans[$i[3]]" width="10"/>
                    </p>
                  </li>
                </ol>
              </p>
            </statement>
            <solution>
              <p>
                <ol>
                  <li>
                    <p>
                      <var name="$sol[$i[0]]" data="pgml"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <var name="$sol[$i[1]]" data="pgml"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <var name="$sol[$i[2]]" data="pgml"/>
                    </p>
                  </li>
                  <li>
                    <p>
                      <var name="$sol[$i[3]]" data="pgml"/>
                    </p>
                  </li>
                </ol>
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
      </exercisegroup>

      <exercisegroup cols="4">
        <introduction>
          <p>
            Evaluate the given expression for the given values.
          </p>
        </introduction>
        <exercise>
          <webwork>
            <description>Evaluate b^2 - 4ac with a, b, c positive integers</description>
            <pg-code>
              Context()->variables->are(a=>'Real',b=>'Real',c=>'Real');
              ($a,$c) = (1..5)[NchooseK(5,2)];
              $b = list_random(4..9);
              $d = Formula("b^2-4ac");
              $answer = $d->eval(a=>$a,b=>$b,c=>$c);
              Context()->flags->set(reduceConstants=>0);
              $substituted = $d->substitute(a=>$a,b=>$b,c=>$c);
              $b2 = $b**2;
              $ac4 = 4*$a*$c;
              $solutionstep = Formula("$b2-$ac4");
            </pg-code>
            <statement>
              <p>
                <m><var name="$d"/></m> for <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>
              </p>
              <p>
                <var name="$answer" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                Substituting in the three values,
                <md>
                  <mrow><var name="$d"/>\amp=<var name="$substituted"/></mrow>
                  <mrow>\amp=<var name="$solutionstep"/></mrow>
                  <mrow>\amp=<var name="$answer"/></mrow>
                </md>
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Evaluate b^2 - 4ac with b a negative integer and a, c integers</description>
            <pg-code>
              Context()->variables->are(a=>'Real',b=>'Real',c=>'Real');
              ($a,$c) = (-5..-1,1..5)[NchooseK(10,2)];
              $b = list_random(-9..-4);
              $d = Formula("b^2-4ac");
              $answer = $d->eval(a=>$a,b=>$b,c=>$c);
              Context()->flags->set(reduceConstants=>0);
              $substituted = $d->substitute(a=>$a,b=>$b,c=>$c);
              $b2 = $b**2;
              $ac4 = 4*$a*$c;
              $solutionstep = Formula("$b2-$ac4");
            </pg-code>
            <statement>
              <p>
                <m><var name="$d"/></m> for <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>
              </p>
              <p>
                <var name="$answer" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                Substituting in the three values,
                <md>
                  <mrow><var name="$d"/>\amp=<var name="$substituted"/></mrow>
                  <mrow>\amp=<var name="$solutionstep"/></mrow>
                  <mrow>\amp=<var name="$answer"/></mrow>
                </md>
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
      </exercisegroup>

      <exercisegroup>
        <introduction>
          <p>
            Simplify the radical.
          </p>
        </introduction>
        <exercise>
          <webwork>
            <description>Simplify a radical expression of the form sqrt(a^2b)</description>
            <pg-macros>
              <macro-file>contextForm.pl</macro-file>
            </pg-macros>
            <pg-code>
              $b = list_random(2,3,5,6,7,10,11,13,14,15);
              $a = random(2,int(sqrt(100/$b)),1);
              $r = $a**2*$b;
              Context("Form");
              $answer = Formula("$a sqrt($b)");
            </pg-code>
            <statement>
              <p>
                <m>\sqrt{<var name="$r"/>}</m>
              </p>
              <p>
                <var name="$answer" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem several times-->
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Skills Practice</title>
      <exercisegroup cols="3">
        <introduction>
          <p>
            Use the quadratic formula to solve the equation.
          </p>
        </introduction>
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where the roots are nonzero integers</description>
            <pg-code>
              ($r,$s) = (1..9)[NchooseK(9,2)];
              ($r,$s) = num_sort(map{$_*list_random(-1,1)}($r,$s));
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where a,b,c are integers and only one root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where a,b,c are integers and neither root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are integers and there is no solution</description>
            <pg-code>
              $c = random(1,9,1);
              $b = random(1,int(sqrt(4*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are rational and only one root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where there is a nonzero integer doubled root</description>
            <pg-code>
              $r = non_zero_random(-9,9,1);
              $b = -2*$r;
              $c = ($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{2}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where a!=1,b,c are integers and there is no solution</description>
            <pg-code>
              $a = random(2,9,1);
              $c = random(1,9,1);
              $b = random(1,int(sqrt(4*$a*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2(<var name="$a"/>)}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are rational and neither root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are positive, and there are irrational roots</description>
            <pg-code>
              do {
                $c = random(1,9,1);
                $b = random(int(sqrt(4*$c))+1,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where there is a nonzero rational doubled root</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $b = -2*$r;
              $c = ($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{2}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are integers, and there are irrational roots</description>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1);
                $b = ($c > 0) ? random(int(sqrt(4*$c))+1,9,1) * list_random(-1,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where a!=1,b,c are integers, and there are irrational roots</description>
            <pg-code>
              do {
                ($a,$c) = (-9..-2,2..9)[NchooseK(18,2)];
                $b = ($a*$c > 0) ? random(int(sqrt(4*$a*$c))+1,20,1) * list_random(-1,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$a*$c) != int(sqrt($b**2-4*$a*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$a*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2*$a);
              $P = Fraction($pull,2*$a);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where a,b,c integers and there is a nonzero rational doubled root</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $B = -2*$r;
              $C = ($r)**2;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $a2 = 2*$a;
              $discriminant = 0;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{<var name="$a2"/>}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are fractions, and there are irrational roots</description>
            <pg-code>
              Context("Fraction");
              do {
                do {
                  $cd = random(2,3,1);
                  $cn = non_zero_random(-5,5,1);
                  $c = Fraction($cn,$cd);
                } until (($c->value)[1] != 1);
                if ($c > 0) {
                  $bd = random(2,3,1);
                  $bn = random(int(sqrt(4*$c)*$bd)+1,6) * list_random(-1,1);
                  $b = Fraction($bn,$bd);
                } else {
                  $bd = 2;
                  $bn = non_zero_random(-3,3,1);
                  $b = Fraction($bn,$bd);
                }
              } until (sqrt($bn**2*$cd**2 - 4*$cn*$cd*$bd**2) != int(sqrt($bn**2*$cd**2 - 4*$cn*$cd*$bd**2)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = ($b)**2-4*$c;
              ($discn,$discd) = $disc->value;
              ($newdiscn,$newdiscd) = ($discn*$discd,$discd*$discd);
              $squarepart = 1;
              $squarefree = $newdiscn;
              for $i (2,3,5,7,11,13,17) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b/2);
              $P = Fraction($pull/(2*$newdiscd));
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where a,b,c are fractions, and there are irrational roots</description>
            <pg-code>
              Context("Fraction");
              do {
                do {
                  $ad = random(2,3,1);
                  $an = 1;
                  $a = Fraction($an,$ad);
                } until (($a->value)[1] != 1);
                do {
                  $cd = 2;
                  $cn = random(-3,3,2);
                  $c = Fraction($cn,$cd);
                } until (($c->value)[1] != 1);
                if ($c > 0) {
                  $bd = random(2,3,1);
                  $bn = random(int(sqrt(4*$a*$c)*$bd)+1,4) * list_random(-1,1);
                  $b = Fraction($bn,$bd);
                } else {
                  $bd = 2;
                  $bn = non_zero_random(-1,1,1);
                  $b = Fraction($bn,$bd);
                }
              } until (sqrt($bn**2*$ad**2*$cd**2 - 4*$an*$ad*$cn*$cd*$bd**2) != int(sqrt($bn**2*$ad**2*$cd**2 - 4*$an*$ad*$cn*$cd*$bd**2)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $disc = ($b)**2-4*$a*$c;
              ($discn,$discd) = $disc->value;
              ($newdiscn,$newdiscd) = ($discn*$discd,$discd*$discd);
              $squarepart = 1;
              $squarefree = $newdiscn;
              for $i (2,3,5,7,11,13,17,19) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              Context("Fraction");
              $pull = Fraction(sqrt($squarepart), $discd);
              $B = Fraction($b/(2*$a));
              $P = Fraction($pull/(2*$a));
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              $NB = -$B;
              ($r,$s) = (Formula("$NB - $P sqrt($squarefree)"),Formula("$NB + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
              Context("FiniteSolutionSets");
              $solutions = Formula("{$NB - $P sqrt($squarefree),$NB + $P sqrt($squarefree)}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where there is a doubled decimal root</description>
            <pg-code>
              $r = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              $b = -2*$r;
              $c = ($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $solutions = Formula("{$r}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{2}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2+bx+c=0 where there is a doubled decimal root</description>
            <pg-code>
              $r = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              $a = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              $b = -2*$a*$r;
              $c = $a*($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $solutions = Formula("{$r}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
              $a2 = 2*$a;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{<var name="$a2"/>}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are decimals, where one root is an integer and one has tenths place</description>
            <pg-code>
              $r = non_zero_random(-9,9,1);
              $s = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $solutions = Formula("{$r,$s}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2+bx+c=0 where b,c are decimals, and there are irrational roots</description>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                if ($c > 0) {
                  $b = (random(int(sqrt(4*$c))+1,9,1) + random(0.1,0.9,0.1)) * list_random(-1,1);
                } else {
                  $b = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                }
              } until (sqrt(($b**2-4*$c)*10) != int(sqrt(($b**2-4*$c)*10)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$c;
              $B = $b/2;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $r = Real(-$B - 1/2*sqrt($disc));
              $s = Real(-$B + 1/2*sqrt($disc));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp\approx<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
                </md>
                The solution set is approximately <m><var name="$solutions"/></m>.
                Note that since we started with decimal coefficients,
                we felt it was acceptible to round the solutions to decimal approximations rather than keep to the exact solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a x^2+bx+c=0 where a,b,c are decimals, and there are irrational roots</description>
            <pg-code>
              do {
                $a = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                $c = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                if ($a*$c > 0) {
                  $b = (random(int(sqrt(4*$a*$c))+1,9,1) + random(0.1,0.9,0.1)) * list_random(-1,1);
                } else {
                  $b = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                }
              } until (sqrt(($b**2-4*$a*$c)*10) != int(sqrt(($b**2-4*$a*$c)*10)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$a*$c;
              $denom = 2*$a;
              $B = $b/$denom;
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $r = Real(-$B - 1/$denom*sqrt($disc));
              $s = Real(-$B + 1/$denom*sqrt($disc));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp\approx<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
                </md>
                The solution set is approximately <m><var name="$solutions"/></m>.
                Note that since we started with decimal coefficients,
                we felt it was acceptible to round the solutions to decimal approximations rather than keep to the exact solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of x^2+bx+c=0 where the roots are nonzero integers</description>
            <pg-code>
              ($r,$s) = (1..9)[NchooseK(9,2)];
              ($r,$s) = num_sort(map{$_*list_random(-1,1)}($r,$s));
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2=bx+c where the roots are nonzero integers</description>
            <pg-code>
              ($r,$s) = (1..9)[NchooseK(9,2)];
              ($r,$s) = num_sort(map{$_*list_random(-1,1)}($r,$s));
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of ax^2+bx+c=0 where a,b,c are integers and only one root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2=bx+c where a,b,c are integers and only one root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              $left = Formula("$a x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangment of ax^2+bx+c=0 where a,b,c are integers and neither root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2=bx+c where a,b,c are integers and neither root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $left = Formula("$a x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of x^2+bx+c=0 where b,c are integers and there is no solution</description>
            <pg-code>
              $c = random(1,9,1);
              $b = random(1,int(sqrt(4*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $f = Formula("x^2 + $b x + $c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of x^2+bx+c=0 where b,c are rational and only one root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of x^2+bx+c=0 where roots are rational and neither root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of x^2+bx+c=0 where b,c are integers, and there are irrational roots</description>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1);
                $b = ($c > 0) ? random(int(sqrt(4*$c))+1,9,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of ax^2+bx+c=0 where a!=1,b,c are integers and there is no solution</description>
            <pg-code>
              $a = random(2,9,1);
              $c = non_zero_random(1,9,1);
              $b = random(1,int(sqrt(4*$a*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2(<var name="$a"/>)}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2=bx+c where b,c are rational and only one root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2=bx+c where roots are rational and neither root is an integer</description>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of ax^2+bx+c=0 where a!=1,b,c are integers, and there are irrational roots</description>
            <pg-code>
              do {
                ($a,$c) = (-9..-2,2..9)[NchooseK(18,2)];
                $b = ($a*$c > 0) ? random(int(sqrt(4*$a*$c))+1,20,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$a*$c) != int(sqrt($b**2-4*$a*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $disc = $b**2-4*$a*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2*$a);
              $P = Fraction($pull,2*$a);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve x^2=bx+c where b,c are integers, and there are irrational roots</description>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1);
                $b = ($c > 0) ? random(int(sqrt(4*$c))+1,9,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve ax^2=bx+c where a!=1,b,c are integers, and there are irrational roots</description>
            <pg-code>
              do {
                ($a,$c) = (-9..-2,2..9)[NchooseK(18,2)];
                $b = ($a*$c > 0) ? random(int(sqrt(4*$a*$c))+1,20,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$a*$c) != int(sqrt($b**2-4*$a*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              $left = Formula("$a x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $disc = $b**2-4*$a*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2*$a);
              $P = Fraction($pull,2*$a);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
      </exercisegroup>

      <exercisegroup cols="2">
        <title>Radical Equations That Give Rise to Quadratic Equations</title>
        <introduction>
          <p>
            Solve the equation.
          </p>
        </introduction>
        <exercise>
          <webwork>
            <description>Solve sqrt(x)=mx+b, where there are two integer solutions</description>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              Context("Fraction");
              $m = Fraction(sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The only possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
                They each check as valid solutions in the original equation,
                so the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve sqrt(x)=mx+b, where there is one (non-repeated) integer solution and one extraneous solution</description>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              ($r,$s) = (random(0,1,1) ? ($r,$s) : ($s,$r));
              ($low,$high) = num_sort($r,$s);
              Context("Fraction");
              # (r,sqrt(r)) and (s,-sqrt(s))
              $m = Fraction(-sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$low"/>\quad\text{or}\quad x=<var name="$high"/></mrow>
                </md>
                The only possible solutions are <m><var name="$low"/></m> and <m><var name="$high"/></m>.
                But if we check the original equation, we find that <m><var name="$r"/></m> is a soluiton,
                but <m><var name="$s"/></m> is not.
                So the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve sqrt(x)=mx+b, where there are no solutions because of a negative discriminant</description>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              Context("Fraction");
              # (r,sqrt(r)+1) and (s,sqrt(s)+1)   guarantees no solution
              $yr = sqrt($r)+random(1,2,1);
              $ys = sqrt($s)+random(1,2,1);
              $m = Fraction($ys-$yr,$s-$r);
              $b = Fraction($yr - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solution");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                </md>
                Since we would need to take the square root of a negative number, there is no solution.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve sqrt(x)=mx+b, where there are no solutions becasue there are two extraneous solutions</description>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              Context("Fraction");
              Context()->noreduce('(-x)-y');
              # (r,-sqrt(r)) and (s,-sqrt(s))
              $m = Fraction(-sqrt($s)+sqrt($r),$s-$r);
              $b = Fraction(-sqrt($r) - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solution");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The only possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
                But if we check the original equation, we find that neither of them actually work.
                So there are no solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve sqrt(nx+c)=mx+b, where there are two integer solutions</description>
            <pg-code>
              # unshifted $r, $s, possibilities for $n
              $rs = list_random([1,4,[3]],[1,9,[2,4,8]],[1,16,[3,5]],[4,9,[5]],[4,16,[2,3,4,6,12]],[9,16,[7]]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              $n = list_random(@{$rs->[2]});
              # shift c such that n divides (r-c)
              $c = $r - $n*non_zero_random(-3,3,1);
              Context("Fraction");
              $m = Fraction(sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $newm = $m*$n;
              $newb = $m*$c+$b;
              $a = lcm(($newm->value)[1],($newb->value)[1]);
              $anewm = $a*$newm;
              $anewb = $a*$newb;
              $left = Formula("$a sqrt($n x + $c)")->reduce;
              $right = Formula("$anewm x + $anewb")->reduce;
              $leftsquared = Formula("$a^2($n x + $c)")->reduce;
              $leftsquaredexpanded = Formula("$a^2*$n x + $a^2*$c")->reduce;
              $rightsquared = Formula("($anewm)^2 x^2 + 2*$anewm*$anewb x + ($anewb)^2")->reduce;
              $A = ($anewm)**2;
              $B = 2*$anewm*$anewb - $a*$a*$n;
              $C = ($anewb)**2 - $a*$a*$c;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              ($sol1,$sol2) = map{($_-$c)/$n}($r,$s);
              $solutions = Formula("{$sol1,$sol2}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow><var name="$leftsquaredexpanded"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$sol1"/>\quad\text{or}\quad x=<var name="$sol2"/></mrow>
                </md>
                The only possible solutions are <m><var name="$sol1"/></m> and <m><var name="$sol2"/></m>.
                They each check as valid solutions in the original equation,
                so the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of sqrt(nx+c)=mx+b, where there are two rational solutions</description>
            <pg-code>
              # unshifted $r, $s
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              if ($r % 2 != $s % 2 and $r % 3 != $s % 3) {$n = random(2,3,1)}
              elsif ($r % 2 != $s % 2) {$n = 2}
              elsif ($r % 3 != $s % 3) {$n = 3}
              else {$n = 5};
              # shift c such that n divides (r-c)
              $c = $r - non_zero_random(-3,3,1);
              Context("Fraction");
              $m = Fraction(sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $newm = $m*$n;
              $newb = $m*$c+$b;
              $a = lcm(($newm->value)[1],($newb->value)[1]);
              $anewm = $a*$newm;
              $anewb = $a*$newb;
              ($origleft,$origright) = (Formula("$anewm x")->reduce,Formula("$anewb"))[NchooseK(2,2)];
              $origleft = Formula("$a sqrt($n x + $c)-$origleft")->reduce;
              $left = Formula("$a sqrt($n x + $c)")->reduce;
              $right = Formula("$anewm x + $anewb")->reduce;
              $leftsquared = Formula("$a^2($n x + $c)")->reduce;
              $leftsquaredexpanded = Formula("$a^2*$n x + $a^2*$c")->reduce;
              $rightsquared = Formula("($anewm)^2 x^2 + 2*$anewm*$anewb x + ($anewb)^2")->reduce;
              $A = ($anewm)**2;
              $B = 2*$anewm*$anewb - $a*$a*$n;
              $C = ($anewb)**2 - $a*$a*$c;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              ($sol1,$sol2) = map{Fraction($_-$c,$n)}($r,$s);
              Context("FiniteSolutionSets");
              $solutions = Formula("{$sol1,$sol2}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$origleft"/>=<var name="$origright"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we arrange so the radical term is the only term on one side.
                <md>
                  <mrow><var name="$origleft"/>\amp=<var name="$origright"/></mrow>
                  <mrow><var name="$left"/>\amp=<var name="$right"/></mrow>
                </md>
                Now we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow><var name="$leftsquaredexpanded"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$sol1"/>\quad\text{or}\quad x=<var name="$sol2"/></mrow>
                </md>
                The only possible solutions are <m><var name="$sol1"/></m> and <m><var name="$sol2"/></m>.
                They each check as valid solutions in the original equation,
                so the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
        <exercise>
          <webwork>
            <description>Solve a rearrangement of sqrt(nx+c)=mx+b, where there is only one (non-repeated) solution and it is rational, non-integer</description>
            <pg-code>
              # unshifted $r, $s
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              if ($r % 2 != $s % 2 and $r % 3 != $s % 3) {$n = random(2,3,1)}
              elsif ($r % 2 != $s % 2) {$n = 2}
              elsif ($r % 3 != $s % 3) {$n = 3}
              else {$n = 5};
              # shift c such that n divides (r-c)
              $c = $r - non_zero_random(-3,3,1);
              Context("Fraction");
              #(r,sqrt(r)) and (s,-sqrt(s))
              $m = Fraction(-sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $newm = $m*$n;
              $newb = $m*$c+$b;
              $a = lcm(($newm->value)[1],($newb->value)[1]);
              $anewm = $a*$newm;
              $anewb = $a*$newb;
              ($origleft,$origright) = (Formula("$anewm x")->reduce,Formula("$anewb"))[NchooseK(2,2)];
              $origleft = Formula("$a sqrt($n x + $c)-$origleft")->reduce;
              $left = Formula("$a sqrt($n x + $c)")->reduce;
              $right = Formula("$anewm x + $anewb")->reduce;
              $leftsquared = Formula("$a^2($n x + $c)")->reduce;
              $leftsquaredexpanded = Formula("$a^2*$n x + $a^2*$c")->reduce;
              $rightsquared = Formula("($anewm)^2 x^2 + 2*$anewm*$anewb x + ($anewb)^2")->reduce;
              $A = ($anewm)**2;
              $B = 2*$anewm*$anewb - $a*$a*$n;
              $C = ($anewb)**2 - $a*$a*$c;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              ($sol1,$sol2) = map{Fraction($_-$c,$n)}($r,$s);
              Context("FiniteSolutionSets");
              $solutions = Formula("{$sol1}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$origleft"/>=<var name="$origright"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we arrange so the radical term is the only term on one side.
                <md>
                  <mrow><var name="$origleft"/>\amp=<var name="$origright"/></mrow>
                  <mrow><var name="$left"/>\amp=<var name="$right"/></mrow>
                </md>
                Now we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow><var name="$leftsquaredexpanded"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$sol1"/>\quad\text{or}\quad x=<var name="$sol2"/></mrow>
                </md>
                The only possible solutions are <m><var name="$sol1"/></m> and <m><var name="$sol2"/></m>.
                We can check that <m><var name="$sol1"/></m> solves the original equation,
                but <m><var name="$sol2"/></m> does not.
                So the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <!-- TODO: copy the above problem -->
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Applications</title>
      <m>$</m>
      <exercise>
        <webwork>
          <description>Find time for falling object to hit ground after upward throw from elevation using SI units.</description>
          <pg-code>
            $g = -9.8;
            $gU = NumberWithUnits("$g m/s^2");
            $h = random(4,12,1);
            $hU = NumberWithUnits("$h m");
            $v = random(10,26,1);
            $vU = NumberWithUnits("$v m/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h+2;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              While standing on a rooftop that is <var name="$hU"/> high off the ground,
              you throw a tennis ball off the roof in an arc. Because of the speed that you throw the ball,
              its height from the ground, in meters, <m>t</m> seconds after the throw is <m><var name="$f"/></m>.
              How long will it be until the ball hits the ground?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the ball hits the ground, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the ball to hit the ground.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find time for falling object to hit ground after upward throw from elevation using American units.</description>
          <pg-code>
            $g = -32;
            $gU = NumberWithUnits("$g ft/s^2");
            $h = random(16,42,1);
            $hU = NumberWithUnits("$h ft");
            $v = random(1.5,4,0.1);
            $vU = NumberWithUnits("$v ft/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              While standing on a tree branch that is <var name="$hU"/> high off the ground, a squirrel kicks a nut in an arc.
              The nut falls cleanly to the ground without hitting anything on the way down.
              While the nut is in the air,
              its height from the ground, in feet, <m>t</m> seconds after the kick is <m><var name="$f"/></m>.
              How long will it be until the nut hits the ground?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the nut hits the ground, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the ball to hit the ground.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find time for falling object on the moon to hit ground after upward throw from elevation using SI units.</description>
          <pg-code>
            $g = -1.62;
            $gU = NumberWithUnits("$g m/s^2");
            $h = random(2,8,1);
            $hU = NumberWithUnits("$h m");
            $v = random(1,2,0.1);
            $vU = NumberWithUnits("$v m/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h+2;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              An astronaut on the moon makes a running jump off a cliff onto a broad flat plain.
              The clifftop is <var name="$hU"/> higher than the plain. Because of the slight upward jump,
              the astronaut's height from the plain, in meters, <m>t</m> seconds after the jump is <m><var name="$f"/></m>.
              How long will it be until the astronaut lands in the plain?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the astronaut lands, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the astronaut to land.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find time for falling object on Mars to hit ground after upward throw from elevation using SI units.</description>
          <pg-code>
            $g = -3.7;
            $gU = NumberWithUnits("$g m/s^2");
            $h = random(10,20,1);
            $hU = NumberWithUnits("$h m");
            $v = random(2,4,0.1);
            $vU = NumberWithUnits("$v m/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h+2;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              An robot on Mars makes a running jump off a cliff onto a broad flat plain.
              The clifftop is <var name="$hU"/> higher than the plain. Because of the slight upward jump,
              the robot's height from the plain, in meters, <m>t</m> seconds after the jump is <m><var name="$f"/></m>.
              How long will it be until the robot lands in the plain?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the robot lands, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the robot to land.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find dimensions of a rectangular wall with known area and one dimension is known to be so many m longer than then other.</description>
          <pg-code>
            $h = random(8,12,0.25);
            $hU = NumberWithUnits("$h ft");
            $w = random(16,32,4);
            $extra = $w-$h;
            $extraU = NumberWithUnits("$extra ft");
            $area = $h*$w;
            $areaU = NumberWithUnits("$area ft^2");
            Context()->variables->are(h=>'Real');
            $widthformula = Formula("h+$extra");
            $areaformula = Formula("h(h+$extra)");
            $a = 1;
            $b = $extra;
            $c = -$area;
            $f = Formula("$a h^2 + $b h + $c")->reduce;
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $sU = NumberWithUnits("$s ft");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              One rectangular wall in your classroom is <m><var name="$extraU"/></m> longer than it is tall.
              The total area of the wall is <m><var name="$areaU"/></m>. How tall is the wall?
            </p>
            <p>
              <var name="$hU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              The area of a rectangle is given by multipying its two dimensions.
              If we let <m>h</m> stand for the height of the wall,
              then <m><var name="$widthformula"/></m> is the width,
              and the total area is <m><var name="$areaformula"/></m>.
              So we must solve the equation <m><var name="$areaformula"/>=<var name="$area"/></m>.
            </p>
            <p>
              After multiplying and moving to standard form, we have <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>h\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad h=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=<var name="$t"/>\quad\text{or}\quad h=<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$s"/></m> makes sense in this situation.
              The wall is <m><var name="$sU"/></m> tall.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find dimensions of a rectangular floor with known area and one dimension is known to be so many ft longer than then other.</description>
          <pg-code>
            $w = random(8,12,0.25);
            $wU = NumberWithUnits("$w m");
            $l = random(16,32,4);
            $extra = $l-$w;
            $extraU = NumberWithUnits("$extra m");
            $area = $w*$l;
            $areaU = NumberWithUnits("$area m^2");
            Context()->variables->are(w=>'Real');
            $lengthformula = Formula("w+$extra");
            $areaformula = Formula("w(w+$extra)");
            $a = 1;
            $b = $extra;
            $c = -$area;
            $f = Formula("$a w^2 + $b w + $c")->reduce;
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $sU = NumberWithUnits("$s m");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              The rectangular floor of your classroom is <m><var name="$extraU"/></m> longer than it is wide.
              The total floor area is <m><var name="$areaU"/></m>. How wide is the floor? (This is asking for the shorter dimension.)
            </p>
            <p>
              <var name="$hU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              The area of a rectangle is given by multipying its two dimensions.
              If we let <m>w</m> stand for the width of the floor (the shorter dimension),
              then <m><var name="$lengthformula"/></m> is the length,
              and the total area is <m><var name="$areaformula"/></m>.
              So we must solve the equation <m><var name="$areaformula"/>=<var name="$area"/></m>.
            </p>
            <p>
              After multiplying and moving to standard form, we have <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>h\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad h=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=<var name="$t"/>\quad\text{or}\quad h=<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$s"/></m> makes sense in this situation.
              The floor is <m><var name="$sU"/></m> wide.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find width of a picture frame for given rectangular image dimensions with fixed frame area.</description>
          <pg-code>
            $h = random(25,60,5);
            $hU = NumberWithUnits("$h cm");
            $w = 1.6*$h;
            $wU = NumberWithUnits("$w cm");
            $s = random(2,5,1)+random(0.1,0.9,0.1);
            $sU = NumberWithUnits("$s cm");
            $area = int(($h+2*$s)*($w+2*$s) - $h*$w);
            $areaU = NumberWithUnits("$area cm^2");
            $a = 4;
            $b = 2*($h+$w);
            $c = -$area;
            $surface = Formula("4x^2 + $b x")->reduce;
            $f = Formula("4x^2 + $b x + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $sU = NumberWithUnits("$s cm");
            $gr = init_graph(0,0,160,100,size=>[240,150]);
            $gr->moveTo(10,10);
            $gr->lineTo(150,10,'black');
            $gr->lineTo(150,90,'black');
            $gr->lineTo(10,90,'black');
            $gr->lineTo(10,10,'black');
            $gr->moveTo(20,20);
            $gr->lineTo(140,20,'black');
            $gr->lineTo(140,80,'black');
            $gr->lineTo(20,80,'black');
            $gr->lineTo(20,20,'black');
            $gr->moveTo(10,20);
            $gr->lineTo(20,20,'black',1,'dashed');
            $gr->lb(new Label(15,20,'x','black','center','bottom','large'));
            $gr->moveTo(20,10);
            $gr->lineTo(20,20,'black',1,'dashed');
            $gr->lb(new Label(20,15,'x','black','left','middle','large'));
            $gr->lb(new Label(80,20,$wU,'black','center','bottom','large'));
            $gr->lb(new Label(20,50,$hU,'black','left','middle','large'));
            $gr->fillRegion([15,15,"gray"]);
            $gr->new_color("lightblue", 214,230,244);
            $gr->fillRegion([80,50,"lightblue"]);
          </pg-code>
          <statement>
            <p>
              A metals factory will produce steel picture frames in the form of a rectagle with a smaller rectangle cut out,
              as in the diagram. The widths of the four edges is to be consistent,
              and leave a <m><var name="$wU"/></m> by <m><var name="$hU"/></m> visible area for photos and other images.
              There is a standard thickness for the metal from which these frames will be cut,
              and the manufacturer has a target weight in mind for the final product so that shipping costs will be kept low.
              This leads to the decision that the surface area of the frame needs to be <m><var name="$areaU"/></m>.
              How wide should the four edges be? (What is the value of <m>x</m> in the diagram?)
            </p>
            <image pg-name="$gr" width="40%"/>
            <p>
              <var name="$sU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              We can find a formula for the surface area of the frame by taking the area of the outer rectangle
              and subtracting the area of the inner rectangle. The outer rectangle's width is <m><var name="$w"/>+2x</m> centimeters.
              Its height is <m><var name="$h"/>+2x</m> centimeters.
              So its area is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)</m> square centimeters.
              The inner rectangle area is <m>(<var name="$w"/>)(<var name="$h"/>)</m> square centimeters.
              So the surface area of the frame, in square centimeters,
              is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)-(<var name="$w"/>)(<var name="$h"/>)</m>,
              which simplifies to <m><var name="$surface"/></m>.
              So we must solve the equation <m><var name="$surface"/>=<var name="$area"/></m>.
            </p>
            <p>
              Writing the quadratic equation in standard form, <m><var name="$f"/>=0</m>. Now we apply the quadratic formula.
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>,
              but only <m><var name="$s"/></m> makes sense in this context.
              Each edge of the frame will be about <m><var name="$sU"/></m> wide.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find width of a grass frame for given rectangular garden dimensions with fixed frame area.</description>
          <pg-code>
            ($h,$w) = num_sort((8..20)[NchooseK(13,2)]);
            $hU = NumberWithUnits("$h ft");
            $wU = NumberWithUnits("$w ft");
            $s = random(1,2,1)+random(0.1,0.9,0.1);
            $sU = NumberWithUnits("$s ft");
            $area = int(($h+2*$s)*($w+2*$s) - $h*$w);
            $areaU = NumberWithUnits("$area ft^2");
            $a = 4;
            $b = 2*($h+$w);
            $c = -$area;
            $surface = Formula("4x^2 + $b x")->reduce;
            $f = Formula("4x^2 + $b x + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $sU = NumberWithUnits("$s ft");
            $gr = init_graph(0,0,160,100,size=>[240,150]);
            $gr->moveTo(10,10);
            $gr->lineTo(150,10,'black');
            $gr->lineTo(150,90,'black');
            $gr->lineTo(10,90,'black');
            $gr->lineTo(10,10,'black');
            $gr->moveTo(20,20);
            $gr->lineTo(140,20,'black');
            $gr->lineTo(140,80,'black');
            $gr->lineTo(20,80,'black');
            $gr->lineTo(20,20,'black');
            $gr->moveTo(10,20);
            $gr->lineTo(20,20,'black',1,'dashed');
            $gr->lb(new Label(15,20,'x','black','center','bottom','large'));
            $gr->moveTo(20,10);
            $gr->lineTo(20,20,'black',1,'dashed');
            $gr->lb(new Label(20,15,'x','black','left','middle','large'));
            $gr->lb(new Label(80,20,$wU,'black','center','bottom','large'));
            $gr->lb(new Label(20,50,$hU,'black','left','middle','large'));
            $gr->new_color("grass",86,125,70);
            $gr->fillRegion([15,15,"grass"]);
            $gr->new_color("dirt",155,118,83);
            $gr->fillRegion([80,50,"dirt"]);
          </pg-code>
          <statement>
            <p>
              A vegetable garden will be surrounded by a frame of grass sod.
              The garden itself will be <m><var name="$wU"/></m> by <m><var name="$hU"/></m>.
              The widths of the four edges of the frame will be equal to each other.
              There is only <m><var name="$areaU"/></m> of grass sod available, and it will all be used for this frame.
              How wide should the four edges be? (What is the value of <m>x</m> in the diagram?)
            </p>
            <image pg-name="$gr" width="40%"/>
            <p>
              <var name="$sU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              We can find a formula for the surface area of the frame by taking the area of the outer rectangle
              and subtracting the area of the inner rectangle. The outer rectangle's width is <m><var name="$w"/>+2x</m> feet.
              Its height is <m><var name="$h"/>+2x</m> feet.
              So its area is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)</m> square feet.
              The inner rectangle area is <m>(<var name="$w"/>)(<var name="$h"/>)</m> square feet.
              So the surface area of the frame, in square feet,
              is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)-(<var name="$w"/>)(<var name="$h"/>)</m>,
              which simplifies to <m><var name="$surface"/></m>.
              So we must solve the equation <m><var name="$surface"/>=<var name="$area"/></m>.
            </p>
            <p>
              Writing the quadratic equation in standard form, <m><var name="$f"/>=0</m>. Now we apply the quadratic formula.
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>,
              but only <m><var name="$s"/></m> makes sense in this context.
              Each edge of the frame will be about <m><var name="$sU"/></m> wide.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find product price that leads to required profit, given a sales model as a function of price.</description>
          <pg-code>
            Context("Currency")->currency->addSymbol("dollars","dollar");
            Context()->variables->are(p=>'Real');
            Context()->flags->set(trimTrailingZeros=>1);
            Context()->noreduce('(-x)+y','(-x)-y');
            $initial = random(20000,40000,5000);
            $initialC = Currency($initial);
            $unit = random(6,10,0.5);
            $unitC = Currency($unit);
            $maxSales = 50000;
            $desiredProfit = random(40000,60000,10000);
            $desiredProfitC = Currency($desiredProfit);
            # no one will buy it for $50;
            $rate = $maxSales/50;
            $sales = Formula("$maxSales - $rate p")->reduce;
            $revenue = Formula("-$rate p^2 + $maxSales p")->reduce;
            $costs = Formula("-$rate*$unit p + ($maxSales*$unit + $initial)")->reduce;
            $a = -$rate;
            $b = $maxSales + $rate*$unit;
            $c = -($maxSales*$unit + $initial) - $desiredProfit;
            $profit = Formula("$a p^2 + $b p - ($maxSales*$unit + $initial)")->reduce;
            $f = Formula("$a p^2 + $b p + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $rC = Currency(Round($r,2));
          </pg-code>
          <statement>
            <p>
              You are ready to self-publish a book online.
              It has cost you <m><var name="$initialC"/></m> to get to this point, including hours of labor and printing equipment.
              To actually print and mail one copy costs you <m><var name="$unitC"/></m>.
              If the book were free, you estimate <m><var name="$maxSales"/></m> would order a copy.
              If you increase the price to <m>p</m> dollars per book you will have fewer orders,
              and after studying similar book sales you estimate you would have <m><var name="$sales"/></m> sales.
              What is the largest price that you could set to end up with a profit of <m><var name="$desiredProfitC"/></m>?
            </p>
            <p>
              <var name="$rC" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              If you set the price at <m>p</m> dollars per book, your revenue will be <m>(\text{number sold})\cdot\text{price}</m>,
              which is <m>(<var name="$sales"/>)p</m>, which simplifies to <m><var name="$revenue"/></m>.
              But your costs will be <m>\text{initial costs} + (\text{number sold})(\text{cost to print and mail})</m>,
              which is <m><var name="$initial"/> + (<var name="$sales"/>)(<var name="$unit"/>)</m>,
              which simplifies to <m><var name="$costs"/></m>.
            </p>
            <p>
              So your profit will be revenue minus costs, which is <m><var name="$revenue"/>-\left(<var name="$costs"/>\right)</m>,
              which simplifies to <m><var name="$profit"/></m>.
              We need to solve the equation <m><var name="$profit"/>=<var name="$desiredProfit"/></m>.
              In standard form, this is <m><var name="$f"/>=0</m>, and the quadratic formula says:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
              They are both valid solutions,
              but the question was to find the <em>largest</em> price we could set to reach a profit of <m><var name="$desiredProfitC"/></m>.
              So we should set the price to be <m><var name="$rC"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>Find product price that leads to required profit, given a sales model as a function of price.</description>
          <pg-code>
            Context("Currency")->currency->addSymbol("dollars","dollar");
            Context()->variables->are(p=>'Real');
            Context()->flags->set(trimTrailingZeros=>1,tolerance=>100);
            Context()->noreduce('(-x)+y','(-x)-y');
            Context()->{format}{number} = "%.11g";
            $initial = random(300,800,100)*10**6;
            $initialC = Currency($initial/10**6);
            $unit = random(40,60,10)*10**3;
            $unitC = Currency($unit/10**3);
            $maxSales = 1000000;
            $desiredProfit = random(1,2,1)*10**9;
            $desiredProfitC = Currency($desiredProfit/10**9);
            # no one will buy it for $250000;
            $rate = $maxSales/250000;
            $sales = Formula("$maxSales - $rate p")->reduce;
            $revenue = Formula("-$rate p^2 + $maxSales p")->reduce;
            $costs = Formula("-$rate*$unit p + ($maxSales*$unit + $initial)")->reduce;
            $a = -$rate;
            $b = $maxSales + $rate*$unit;
            $c = -($maxSales*$unit + $initial) - $desiredProfit;
            $profit = Formula("$a p^2 + $b p - ($maxSales*$unit + $initial)")->reduce;
            $f = Formula("$a p^2 + $b p + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $sC = Currency(Round($s,2));
          </pg-code>
          <statement>
            <p>
              A new electric car company is ready to sell its debut model.
              It has cost the company <m><var name="$initialC"/></m> million to set up a production line and be ready to produce cars.
              To actually build and deliver one of the new models costs <m><var name="$unitC"/></m> thousand.
              Studying the current state of the electric car market,
              you estimate that if you charge each customer <m>p</m> dollars, you would have <m><var name="$sales"/></m> sales.
              What is the lowest price that you could set to end up with a profit of <m><var name="$desiredProfitC"/></m> billion?
            </p>
            <p>
              <var name="$sC" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              If you set the price at <m>p</m> dollars per car, your revenue will be <m>(\text{number sold})\cdot\text{price}</m>,
              which is <m>(<var name="$sales"/>)p</m>, which simplifies to <m><var name="$revenue"/></m>.
              But your costs will be <m>\text{initial costs} + (\text{number sold})(\text{cost to print and mail})</m>,
              which is <m><var name="$initial"/> + (<var name="$sales"/>)(<var name="$unit"/>)</m>,
              which simplifies to <m><var name="$costs"/></m>.
            </p>
            <p>
              So your profit will be revenue minus costs, which is <m><var name="$revenue"/>-\left(<var name="$costs"/>\right)</m>,
              which simplifies to <m><var name="$profit"/></m>.
              We need to solve the equation <m><var name="$profit"/>=<var name="$desiredProfit"/></m>.
              In standard form, this is <m><var name="$f"/>=0</m>, and the quadratic formula says:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
              They are both valid solutions,
              but the question was to find the <em>lowest</em> price we could set to reach a profit of <m><var name="$desiredProfitC"/></m>.
              So we should set the price to be <m><var name="$sC"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>If you add this to a number, and subtract that from the same number, and multiply the results, you get this. What was the original number?</description>
          <pg-code>
            Context("Fraction");
            do {$r = Fraction(list_random(-9..-1),random(2,3,1))} until (($r->value)[1] != 1);
            do {$s = Fraction(list_random(1..9),random(2,3,1))} until (($r->value)[1] != 1);
            $a = 1;
            $b = -($r + $s);
            $c = $r*$s;
            Context()->noreduce('(-x)-y','(-x)+y');
            $f = Formula("x^2+$b x+$c")->reduce;
            $negb = -$b;
            $bsquared = ($b)**2;
            $discriminant = ($b)**2 - 4*1*$c;
            $sqrtdisc = Fraction(sqrt($discriminant));
            $sub = random(1,3,1);
            $add = -$r - $s + $sub;
            $as = $add*$sub;
            $product = -$as - $c;
          </pg-code>
          <statement>
            <p>
              If you add <m><var name="$add"/></m> to a certain positive number,
              then also subtract <m><var name="$sub"/></m> from that same number,
              and multiply the results, you get <m><var name="$product"/></m>.
              What was the original number?
            </p>
            <p>
              <var name="$s" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              Let <m>x</m> be the mystery number.
              We are told that <m>\left(x+<var name="$add"/>\right)\left(x-<var name="$sub"/>\right)=<var name="$product"/></m>.
              So
              <md>
                <mrow>x^2-<var name="$sub"/>x + <var name="$add"/>x - <var name="$as"/>\amp=<var name="$product"/></mrow>
                <mrow><var name="$f"/>\amp=0</mrow>
              </md>
              Now we can apply the quadratic formula:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
              </md>
              Both <m><var name="$r"/></m> and <m><var name="$s"/></m> solve the equation,
              but we were asked to find a positive number.
              So the mystery number is <m><var name="$s"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <description>If you double a number, and add this to the same number, and multiply the results, you get this. What was the original number?</description>
          <pg-code>
            Context("Fraction");
            $s = Fraction(random(1,9,2),2);
            $r = random(-9,-1,1);
            $B = -($r + $s);
            $C = $r*$s;
            $a = lcm(($B->value)[1],($C->value)[1]);
            $b = $a*$B;
            $c = $a*$C;
            Context()->noreduce('(-x)-y','(-x)+y');
            $f = Formula("$a x^2+$b x+$c")->reduce;
            $negb = -$b;
            $bsquared = ($b)**2;
            $discriminant = ($b)**2 - 4*$a*$c;
            $sqrtdisc = Fraction(sqrt($discriminant));
            $a2 = 2*$a;
            Context("FiniteSolutionSets");
            $solutions = Formula("{$r,$s}");
            $add = $b/2;
            $product = -$c;
          </pg-code>
          <statement>
            <p>
              If you double a certain positive number, then also add  <m><var name="$add"/></m> to that same number,
              and multiply the results, you get <m><var name="$product"/></m>.
              What was the original number?
            </p>
            <p>
              <var name="$s" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              Let <m>x</m> be the mystery number.
              We are told that <m>(2x)\left(x+<var name="$add"/>\right)=<var name="$product"/></m>.
              So
              <md>
                <mrow>2x^2 + <var name="$b"/>x \amp=<var name="$product"/></mrow>
                <mrow><var name="$f"/>\amp=0</mrow>
              </md>
              Now we can apply the quadratic formula:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
              </md>
              Both <m><var name="$r"/></m> and <m><var name="$s"/></m> solve the equation,
              but we were asked to find a positive number.
              So the mystery number is <m><var name="$s"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
    </subexercises>

    <subexercises>
      <title>Challenge</title>

      <exercise permid="VvF">
        <!-- Kara's challenge problem -->
        <webwork>
          <pg-code>
            Context()->variables->are(m=>'Real',n=>'Real',p=>'Real');
            $answer = Compute("(-n-sqrt(n^2-4mp))/(2m),(-n+sqrt(n^2-4mp))/(2m)");
          </pg-code>
          <statement>
            <p permid="bzm">
              Solve for <m>x</m> in the equation <m>mx^{2}+nx+p=0</m>, assuming <m>m\neq0</m>.
            </p>
            <instruction>
              Enter the two solutions as a comma-separated list.  Be mindful of how you use parentheses in typing up the answers.
            </instruction>
            <p permid="HGv">
              <var name = "$answer" width="40"/>
            </p>
          </statement>
          <solution permid="XkS">
            <p permid="oSX">
              To solve a quadratic equation of the form <m>ax^{2}+bx+c=0</m>,
              we can use the quadratic formula.
              In this case, <m>a=m</m>, <m>b=n</m>, and <m>c=p</m>.
              Therefore the solutions are <m>\frac{-n + \sqrt{n^{2}-4mp}}{2m}, \frac{-n - \sqrt{n^{2}-4mp}}{2m}</m>,
              or <m>\frac{-n \pm \sqrt{n^{2}-4mp}}{2m}</m>.
            </p>
          </solution>
        </webwork>
      </exercise>
    </subexercises>
  </exercises>
</section>

