<?xml version="1.0" encoding="UTF-8" ?>
<!-- *********************************************************************-->
<!-- Copyright 2016-2019                                                  -->
<!-- Portland Community College                                           -->
<!--                                                                      -->
<!-- This file is part of Open Resources for Community College Algebra    -->
<!-- (ORCCA).                                                             -->
<!--                                                                      -->
<!-- Open Resources for Community College Algebra is licensed under a     -->
<!-- Creative Commons Attribution 4.0 International License.              -->
<!--                                                                      -->
<!-- Under this license, any user of this textbook or the textbook        -->
<!-- contents must provide proper attribution as follows.                 -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- include in every digital format page view (including but not         -->
<!-- limited to EPUB, PDF, and HTML) and on every physical printed page   -->
<!-- the following attribution:                                           -->
<!--                                                                      -->
<!-- Original source material, products with readable and accessible      -->
<!-- math content, and other information freely available at              -->
<!-- pcc.edu/orcca.                                                       -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- reproduce any math content (such as math expressions and equations)  -->
<!-- in a readable manner, and offer math content in at least one web     -->
<!-- accessible manner.                                                   -->
<!--                                                                      -->
<!-- The Portland Community College name, Portland Community College      -->
<!-- logo, ORCCA name, Open Resources for Community College Algebra name, -->
<!-- ORCCA logo, and front and back cover designs are not subject to the  -->
<!-- Creative Commons license and may not be reproduced without the       -->
<!-- prior and express written consent of Portland Community College.     -->
<!--                                                                      -->
<!-- For questions regarding this license, please contact                 -->
<!-- orcca-group@pcc.edu.                                                 -->
<!-- *********************************************************************-->
<section xml:id="section-combining-like-terms">
  <title>Combining Like Terms</title>

  <objectives>
    <title>PCC Course Content and Outcome Guide</title>
    <ul>
      <li>
        <xref ref="ccog-simplify-algebraic-expressions" text="local">MTH 60 CCOG</xref>
      </li>

      <li>
        <xref ref="ccog-distinguish-between-factors-terms" text="local">MTH 60 CCOG</xref>
      </li>
    </ul>
  </objectives>

  <introduction>
    <p>
      Algebraic expressions can be large and complicated,
      so anything we can do to rewrite an expression in a simpler way is helpful.
      One of the fundamental skills we have for simplyfing epressions is
      <em>combining like terms</em>.
    </p>

    <figure xml:id="video-combining-like-terms">
      <caption>Alternative Video Lesson</caption>
      <video youtubeplaylist="PLmuZCPhWPt-dqjDRbGl2sSeMeTvrHik4p" />
    </figure>
  </introduction>

  <subsection>
    <title>Identifying Terms</title>
    <definition xml:id="definition-term">
      <statement>
        <p>
          In an algebraic expression, the <term>terms</term>                                                  <idx><h>Terms</h></idx>
          are quantities being added together.                                                                <idx><h>Terms</h><h>of algebraic expressions</h></idx>
        </p>
      </statement>
    </definition>

    <p>
      Note that terms are not the same thing as <term>factors</term>, whiich are quantities being             <idx><h>Factors</h></idx>
      multiplied together. Factors are studied more later ini this book.
    </p>

    <example>
      <statement>
        <p>
          List the terms in the expression <m>2\ell+2w</m>.
        </p>
      </statement>
      <solution>
        <p>
          The expression has two terms that are being added, <m>2\ell</m> and <m>2w</m>.
        </p>
      </solution>
    </example>

    <p>
      When an expression has subtraction, we can rewrite the it using addition of a negative
      to make it easier to see exactly what the terms are.
    </p>

    <example>
      <statement>
        <p>
          List the terms in the expression <m>-3x^2+5x-4</m>.
        </p>
      </statement>
      <solution>
        <p>
          We can rewrite this expression as <m>-3x^2+5x+(-4)</m>
          to see that the terms are <m>-3x^2</m>, <m>5x</m>, and <m>-4</m>.
          Note that the third term is <m>-4</m>, not just <m>4</m>.
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          List the terms in the expression
          <m>3\,\text{cm}+2\,\text{cm}-3\,\text{cm}+2\,\text{cm}</m>.
        </p>
      </statement>
      <solution>
        <p>
          This expression has four terms:
          <quantity>
            <mag>3</mag><unit base="meter" prefix="centi"/>
          </quantity>,
          <quantity>
            <mag>2</mag><unit base="meter" prefix="centi"/>
          </quantity>,
          <quantity>
            <mag>âˆ’3</mag><unit base="meter" prefix="centi"/>
          </quantity>, and
          <quantity>
            <mag>2</mag><unit base="meter" prefix="centi"/>
          </quantity>.
        </p>
      </solution>
    </example>

    <exercise label="identify-terms">
      <webwork>
        <pg-code>
          Context("Numeric");
          Context()->variables->are(x=>'Real',z=>'Real');
          $terms = List("5x, -4x, 10z");
        </pg-code>
        <statement>
          <p>
            List the terms in the expression <m>5x-4x+10z</m>.
          </p>
          <instruction>
            Enter the terms separated by commas.
          </instruction>
          <p>
            <var name="$terms" width="15" />
          </p>
        </statement>
        <solution>
          <p>
            The terms are <m>5x</m>, <m>-4x</m>, and <m>10z</m>.
          </p>
        </solution>
      </webwork>
    </exercise>
  </subsection>

  <subsection>
    <title>Combining Like Terms</title>                                                                       <idx><h>Combining like terms</h></idx>
    <p>
      If you have <m>3\,\text{cm}+2\,\text{cm}</m>,
      it is natural to add those together to get
      <quantity><mag>5</mag><unit base="meter" prefix="centi"/></quantity>.
      That works because their units
      (<quantity><unit base="meter" prefix="centi"/></quantity>) are the same.
      The same idea applies to other terms, even ones that don't have units.
      For example, with <m>2x+3x</m>, we have <m>2</m> <em>things</em>
      and then <m>3</m> more of those <em>things</em>.
      All together, we have <m>5</m> of those things.
      So <m>2x+3x</m> is the same as <m>5x</m>.
    </p>

    <p>
      Terms in an algebraic expression that can be combined by adding them together into one new
      term are called <term>like terms</term>.                                                                <idx><h>Like terms</h></idx>
      <ul>
        <li>
          <p>
            Sometimes like terms use a common variable, like how <m>2x+3x</m> has terms that
            each use <m>x</m>. This simplfies to <m>5x</m>.
          </p>
        </li>
        <li>
          <p>
            Sometimes like terms use the same units, like how <m>3\,\text{cm}+2\,\text{cm}</m> has
            terms that each use <quantity><unit prefix="centi" base="meter"/></quantity>.
            This simplfies to <quantity><mag>5</mag><unit base="meter" prefix="centi"/></quantity>.
          </p>
        </li>
        <li>
          <p>
            Sometimes like terms have something else in common, like how <m>3\sqrt{7}+2\sqrt{7}</m>           <idx><h>Like radicals</h></idx>
            has terms that each use <m>\sqrt{7}</m>. This simplfies to <m>5\sqrt{7}</m>.
          </p>
        </li>
      </ul>
    </p>

    <example xml:id="example-combining-like-terms">
      <statement>
        <p>
          In the expressions below, look for like terms and then simplify where possible                      <idx><h>Algebraic expressions</h><h>simplifying</h></idx>
          by adding or subtracting.                                                                           <idx><h>Simplifying algebraic expressions</h></idx>
          <ol marker="a." cols="2">
            <li>
              <p>
                <m>5\,\text{in}+20\,\text{in}</m>
              </p>
            </li>

            <li>
              <p>
                <m>16\,\text{ft}^2+4\,\text{ft}</m>
              </p>
            </li>

            <li>
              <p>
                <m>2\,\apple+5\,\apple</m>
              </p>
            </li>

            <li>
              <p>
                <m>5\,\text{min}+12\,\text{ft}</m>
              </p>
            </li>

            <li>
              <p>
                <m>5\,\dog-2\,\cat</m>
              </p>
            </li>

            <li>
              <p>
                <m>20\,\text{m}-6\,\text{m}</m>
              </p>
            </li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          We can combine terms with the same units, but we cannot combine terms with distinct units
          such as minutes and feet.
          <ol marker="a." cols="2">
            <li>
              <p>
                <m>5\,\text{in}+20\,\text{in}=25\,\text{in}</m>
              </p>
            </li>

            <li>
              <p>
                <m>16\,\text{ft}^2+4\,\text{ft}</m> cannot be simplified
              </p>
            </li>

            <li>
              <p>
                <m>2\,\apple+5\,\apple=7\,\apple</m>
              </p>
            </li>

            <li>
              <p>
                <m>5\,\text{min}+12\,\text{ft}</m> cannot be simplified
              </p>
            </li>

            <li>
              <p>
                <m>5\,\dog-2\,\cat</m> cannot be simplified
              </p>
            </li>

            <li>
              <p>
                <m>20\,\text{m}-6\,\text{m}=14\,\text{m}</m>
              </p>
            </li>
          </ol>
        </p>
      </solution>
    </example>

    <p>
      One of the examples from <xref ref="example-combining-like-terms" text="type-hybrid"/>
      was <m>16\,\text{ft}^2+4\,\text{ft}</m>. The units on these two terms look similar,
      but they are different. <quantity><mag>16</mag><unit base="foot" exp="2"/></quantity>
      is a measurement of how much area something has.
      <quantity><mag>4</mag><unit base="foot"/></quantity> is a measurement
      of how long something is. <xref ref="figure-unlike-terms" text="type-hybrid"/>
      illustrates this.
    </p>

    <figure xml:id="figure-unlike-terms">
      <caption>There is no way to add <quantity><mag>16</mag><unit base="foot" exp="2"/></quantity>
      to <quantity><mag>4</mag><unit base="foot"/></quantity>.</caption>
      <image label="area-versus-length" width="80%">
        <shortdescription>a four-by-four square, illustrating 16 square feet, alongside a line that is four feet long</shortdescription>
        <latex-image>
          \begin{tikzpicture}
            \coordinate (v) at (14,12);
            \foreach \i in {0,...,4}{
              \draw[thick] (\i,3) -- ( $ (\i,3)!.142!(v) $ );
            }
            \foreach \k in {0, 0.04,0.076,0.110,0.142}{
              \draw[thick] ( $ (4,3)!{\k}!(v) $) -- ( $ (0,3)!{\k}!(v) $);
            }
            \draw[fill=wood,opacity=0.5] (0,3) -- (4,3) -- ( $ (4,3)!{0.142}!(v) $) -- ( $ (0,3)!{0.142}!(v) $);

            \draw[decorate, decoration={
                markings,
                mark=between positions 2mm and \pgfdecoratedpathlength-2mm step 2mm with {
                  \draw[fill=wood]
                    (-2mm,-0.75mm)
                    to[out=-30,in=-150]
                    (2mm,0.75mm)
                    to[out=150,in=30]
                    (-2mm,-0.75mm);
                }
              }
            ] ( $ (5,3)!{0.076}!(v) $) -- ( $ (9,3)!{0.076}!(v) $);
            \node at (2,3) [below] {$16\,\mathrm{ft}^2$};
            \node at ( $ (7,3)!{0.076}!(v) $) [below, inner sep=1.2ex] {$4\,\mathrm{ft}$};
          \end{tikzpicture}
        </latex-image>
      </image>
    </figure>

    <example>
      <statement>
        <p>
          Simplify each expression by combining like terms (if possible).
          <ol marker="a." cols="2">
            <li><m>\frac{5}{7}x-\frac{2}{7}x+\frac{3}{7}y</m></li>
            <li><m>\frac{1}{2}x+\frac{1}{2}x^2</m></li>
            <li><m>-3.01r+1.2s-5t</m></li>
            <li><m>\frac{2}{3}y+\frac{5}{6}y</m></li>
            <li><m>\frac{10}{3}t-\frac{1}{2}x-t</m></li>
            <li><m>x-0.15x</m></li>
          </ol>
        </p>
      </statement>
      <solution>
        <p>
          <ol marker="a.">
            <li>
              <p>
                This expression has two like terms, <m>\frac{5}{7}x</m> and <m>-\frac{2}{7}x</m>,
                which we can combine. We have to subtract <m>\frac{5}{7}-\frac{2}{7}</m>,
                which is straightforward since they have the same denominator.
                <me>
                  \highlight{\frac{5}{7}x-\frac{2}{7}x}+\frac{3}{7}y
                  =\highlight{\frac{3}{7}x}+\frac{3}{7}y
                </me>
                We don't combine <m>\frac{3}{7}x</m> and <m>\frac{3}{7}y</m>
                because <m>x</m> and <m>y</m> are different variables.
              </p>
            </li>
            <li>
              <p>
                This expression cannot be simplified because the variable parts are not the same.
                We cannot add <m>x</m>-terms with <m>x^2</m>-terms just like we cannot add feet
                (a measure of length) with square feet (a measure of area).
              </p>
            </li>
            <li>
              <p>
                There are not any like terms.
              </p>
            </li>
            <li>
              <p>
                The two terms are like terms. To combine them, we need to add
                <m>\frac{2}{3}+\frac{5}{6}</m>. For a review of adding fractions with different
                denominators, see <xref ref="section-fractions-and-fraction-arithmetic"/>. In this
                case,
                <md>
                  <mrow>\frac{2}{3}+\frac{5}{6}\amp=\frac{2}{3}\cdot\frac{2}{2}+\frac{5}{6}</mrow>
                  <mrow>\amp=\frac{4}{6}+\frac{5}{6}</mrow>
                  <mrow>\amp=\frac{9}{6}=\frac{3}{2}</mrow>
                </md>
                So <m>\frac{2}{3}y+\frac{5}{6}y=\frac{3}{2}y</m>.
              </p>
            </li>
            <li>
              <p>
                There are two like terms: <m>\frac{10}{3}t</m> and <m>-t</m>.
                A lonely <m>t</m> is usually just written as <m>t</m>, but we can <em>think</em> of
                it as <m>1t</m>. So we are combining <m>\frac{10}{3}t</m> and <m>-t</m>
                and we need to subtract <m>\frac{10}{3}-1</m>.
                <md>
                  <mrow>\frac{10}{3}-1\amp=\frac{10}{3}-\frac{3}{3}</mrow>
                  <mrow>\amp=\frac{7}{3}</mrow>
                </md>
                Our two terms combine to make <m>\frac{7}{3}t</m>. There was another term when this
                started and the final simplified expression is <m>\frac{7}{3}t-\frac{1}{2}x</m>.
              </p>
            </li>
            <li>
              <p>
                This expression can be thought of as <m>1.00x-0.15x</m>.
                Subtracting decimals <m>1.00-0.15</m>, the result is <m>0.85</m>.
                So we have <m>0.85x</m>.
              </p>
            </li>
          </ol>
        </p>
      </solution>
    </example>

    <exercise label="combine-like-terms">
      <webwork xml:id="webwork-combine-like-terms">
        <pg-code>
          Context("Form");
          Context()->variables->are(x=>'Real',y=>'Real',z=>'Real');
          Context()->flags->remove("NumberCheck");
          $ans[0] = Formula("1.25x");
          $ans[3] = Formula("4x + 1.5y - 9z");
          Context("Form");
          Context()->variables->are(x=>'Real',y=>'Real',z=>'Real');
          $ans[1] = Formula("10/9 x - 7/10 y");
          $ans[2] = Formula("3/10 y + 2/3 y^2");
        </pg-code>
        <introduction>
          <p>
            Simplify each expression by combining like terms (if possible).
          </p>
          <instruction>
            If the expression cannot be simplified further, just enter it as it is.
          </instruction>
        </introduction>
        <task>
          <statement>
            <p>
              <m>x+0.25x</m>
            </p>
            <p>
              <var name="$ans[0]" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Think of this expression as <m>1.00x+0.25x</m> and simplify to get <m>1.25x</m>.
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              <m>\frac{4}{9}x-\frac{7}{10}y+\frac{2}{3}x</m>
            </p>
            <p>
              <var name="$ans[1]" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              This expression has two like terms that can be combined:
              <m>\frac{4}{9}x</m> and <m>\frac{2}{3}x</m>.
              To combine them, we need to add the fractions <m>\frac{4}{9}+\frac{2}{3}</m>.
              <md>
                <mrow>\frac{4}{9}+\frac{2}{3}\amp=\frac{4}{9}+\frac{6}{9}</mrow>
                <mrow>\amp=\frac{10}{9}</mrow>
              </md>
              So <m>\frac{4}{9}x+\frac{2}{3}x=\frac{10}{9}x</m>.
              And together with the third term, the answer is <m>\frac{10}{9}x-\frac{7}{10}y</m>.
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              <m>\frac{5}{6}y-\frac{8}{15}y+\frac{2}{3}y^2</m>
            </p>
            <p>
              <var name="$ans[2]" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              In this expression we can combine the <m>y</m>-terms.
              We need to subtract the fractions <m>\frac{5}{6}-\frac{8}{15}</m>.
              <md>
                <mrow>\frac{5}{6}-\frac{8}{15}\amp=\frac{25}{30}-\frac{16}{30}</mrow>
                <mrow>\amp=\frac{9}{30}</mrow>
                <mrow>\amp=\frac{3}{10}</mrow>
              </md>
              So <m>\frac{5}{6}y-\frac{8}{15}y=\frac{3}{10}y</m>.
              And together with the third term, the answer is <m>\frac{3}{10}y+\frac{2}{3}y^2</m>.
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              <m>4x+1.5y-9z</m>
            </p>
            <p>
              <var name="$ans[3]" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              This expression cannot be simplified further because there are not any like terms.
            </p>
          </solution>
        </task>
      </webwork>
    </exercise>
  </subsection>

  <subsection>
    <title>Applications</title>

    <p>
      The <term>perimeter</term> of a shape is the length of a piece of tape that could be taped
      tightly around the shape. When a shape has straight side edges, the perimeter comes from
      adding all of the side lengths together. This can lead to like terms that can be combined.
    </p>

    <example>
      <statement>
        <sidebyside>
          <p>
            Find the perimeter of this shape, which is not drawn to scale.
            Simplify the perimiter expression as much as possible.
          </p>
          <image label="pentagon-perimeter">
            <shortdescription>
              a five-sided shape whose sides are labeled 2x, 3y, 1.5x, 5y, and x
            </shortdescription>
            <latex-image>
              \begin{tikzpicture}
                \draw[fill=wood] (0,0)
                -- node[pos=0.5,below]{$2x$} (3,0)
                -- node[pos=0.5,below right]{$3y$} (4,2)
                -- node[pos=0.5,above right]{$1.5x$} (2,3)
                -- node[pos=0.5,above left]{$5y$} (-1,1)
                -- node[pos=0.5,below left]{$x$} cycle;   
              \end{tikzpicture}
            </latex-image>
          </image>
        </sidebyside>
      </statement>
      <solution>
        <p>
          The perimeter is the result from adding the five sides together: <m>2x+3y+1.5x+5y+x</m>.
          There are three <m>x</m>-terms that sum to <m>4.5x</m>, and two <m>y</m>-terms that sum to
          <m>8y</m>. So the perimeter is <m>4.5x+8y</m>.
        </p>
      </solution>
    </example>

    <exercise label="hexagon-perimeter">
      <webwork>
        <pg-code>
          Context("Form");
          Context()->variables->are(A=>'Real',B=>'Real',C=>'Real');
          $ans = Formula("7/2 A + 4/3 B + 83/68 C");
        </pg-code>
        <statement>
          <p>
            Find the perimeter of this shape, which is not drawn to scale.
            Simplify the perimiter expression as muh as possible.
          </p>
          <image width="47%">
            <shortdescription>
              a six-sided shape whose sides are labeled 3/2 A, 2/3 B, 3/4 C, 2A, 2/3 B, and 8/17 C
            </shortdescription>
            <latex-image>
              \begin{tikzpicture}
                \draw[fill=wood] (0,0)
                -- node[pos=0.5,below]{\(\frac{3}{2}A\)} (3,0)
                -- node[pos=0.5,below right]{\(\frac{2}{3}B\)} (5,1)
                -- node[pos=0.5,above right]{\(\frac{3}{4}C\)} (4,3)
                -- node[pos=0.5,above]{\(2A\)} (0,3)
                -- node[pos=0.5,above left]{\(\frac{2}{3}B\)} (-1,1)
                -- node[pos=0.5,below left]{\(\frac{8}{17}C\)} cycle;   
              \end{tikzpicture}
            </latex-image>
          </image>
          <p>
            <var name="$ans" width="20"/>
          </p>
        </statement>
        <solution>
          <p>
            The perimeter is the result from adding the six sides together:
            <m>\frac{3}{2}A+\frac{2}{3}B+\frac{3}{4}C+2A+\frac{2}{3}B+\frac{8}{17}C</m>.
            There are two <m>A</m>-terms, two <m>B</m>-terms, and two <m>C</m>-terms.
            We need to find:
            <md>
              <mrow>\frac{3}{2}+2\amp=\frac{3}{2}+\frac{2}{1}\cdot\frac{2}{2} \amp\qquad\frac{2}{3}+\frac{2}{3}\amp=\frac{4}{3}  \amp\qquad\frac{3}{4}+\frac{8}{17}\amp=\frac{3}{4}\cdot\frac{17}{17}+\frac{8}{17}\frac{4}{4}</mrow>
              <mrow>\amp=\frac{3}{2}+\frac{4}{2}                              \amp\amp                                           \amp\amp=\frac{51}{68}+\frac{32}{68}</mrow>
              <mrow>\amp=\frac{7}{2}                                          \amp\amp                                           \amp\amp=\frac{83}{68}</mrow>
            </md>
            So the perimeter is <m>\frac{7}{2}A+\frac{4}{3}B+\frac{83}{68}C</m>.
          </p>
        </solution>
      </webwork>
    </exercise>

    <p>
      Sometimes it makes sense to add two algebra expressions together, and that may give an
      opportunity to combine like terms.
    </p>

    <example>
      <statement>
        <p>
          A chemist has a bottle with <quantity><mag>1.2</mag><unit base="liter"/></quantity>
          of water mixed with <quantity><mag>0.3</mag><unit base="liter"/></quantity> of gasoline.
          At this time, they have forgotten the density of water
          (in <quantity><unit base="gram"/><per base="liter"/></quantity>) and the denisty of
          gasoline (also in <quantity><unit base="gram"/><per base="liter"/></quantity>) so they
          use <m>w</m> and <m>g</m> as variables for these densities.
          This means <m>1.2w+0.3g</m> is the total mass of this mixture, in grams.
        </p>
        <p>
          There is a second bottle, with <quantity><mag>0.9</mag><unit base="liter"/></quantity>
          of water mixed with <quantity><mag>0.5</mag><unit base="liter"/></quantity> of gasoline.
          The chemist pours it all together. What is the mass of the combined mixture?
        </p>
      </statement>
      <solution>
        <p>
          The first mass is <m>1.2w+0.3g</m> grams, and the second mass is <m>0.9w+0.5g</m> grams.
          So together, the mass in grams is:
          <md>
            <mrow>(1.2w+0.3g)+(0.9w+0.5g)\amp=\firsthighlight{1.2w}+\secondhighlight{0.3g}+\firsthighlight{0.9w}+\secondhighlight{0.5g}</mrow>
            <mrow>\amp=2.1w+0.8g</mrow>
          </md>
        </p>
      </solution>
    </example>


  </subsection>

  <reading-questions>
    <exercise label="negative-terms">
      <statement>
        <p>
          What should you be aware of when there is subtraction in an algebraic expression
          and you are identifying its terms?
        </p>
      </statement>
      <response/>
    </exercise>
    <exercise label="describe-like-terms">
      <statement>
        <p>
          Describe at least two different ways in which a pair of terms would be considered to be
          <q>like terms.</q>
        </p>
      </statement>
      <response/>
    </exercise>
    <exercise label="lonely-variable">
      <statement>
        <p>
          What might help when you are combining like terms, and one of the terms is a lonely
          variable like <m>x</m> or <m>y</m>?
        </p>
      </statement>
      <response/>
    </exercise>
  </reading-questions>

  <exercises>
    <subexercises>
      <title>Prerequisite/Review Skills</title>
      <introduction>
        <p>
          These exercises are only intended for students who are rusty with adding/subtracting
          decimals and fractions. If you feel comfortable, proceed to
          <xref ref="subexercises-combining-like-terms-skills-practice" text="title"/>.
        </p>
      </introduction>

      <!-- <exercisegroup cols="3">
        <title>Decimal Arithmetic</title>
        <introduction>
          <p>
            Add or subtract the decimals.
          </p>
        </introduction>
        <exercise label="add-tenths-no-carry">
          <webwork xml:id="webwork-add-tenths-no-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = (1..100)[NchooseK(100,2)];
              ($c,$d) = num_sort((1..9)[NchooseK(9,2)]);
              $a = $m + $c/10;
              $b = $n + ($d-$c)/10;
              $ans = Real($a + $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>+<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-tenths-no-carry-copy">
          <webwork copy="webwork-add-tenths-no-carry"/>
        </exercise>

        <exercise label="subtract-tenths-no-carry">
          <webwork xml:id="webwork-subtract-tenths-no-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = num_sort((1..100)[NchooseK(100,2)]);
              ($c,$d) = num_sort((1..9)[NchooseK(9,2)]);
              $a = $n + $d/10;
              $b = $m + $c/10;
              $ans = Real($a - $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>-<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-tenths-no-carry-copy">
          <webwork copy="webwork-subtract-tenths-no-carry"/>
        </exercise>

        <exercise label="add-tenths-carry">
          <webwork xml:id="webwork-add-tenths-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = (1..100)[NchooseK(100,2)];
              ($c,$d) = num_sort((1..9)[NchooseK(9,2)]);
              $a = $m + ($c-$d)/10;
              $b = $n + $d/10;
              $ans = Real($a + $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>+<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-tenths-carry-copy">
          <webwork copy="webwork-add-tenths-carry"/>
        </exercise>

        <exercise label="subtract-tenths-carry">
          <webwork xml:id="webwork-subtract-tenths-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = num_sort((1..100)[NchooseK(100,2)]);
              ($c,$d) = num_sort((1..9)[NchooseK(9,2)]);
              $a = $n + $c/10;
              $b = $m + $d/10;
              $ans = Real($a - $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>-<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-tenths-carry-copy">
          <webwork copy="webwork-subtract-tenths-carry"/>
        </exercise>

        <exercise label="add-hundredths-no-carry">
          <webwork xml:id="webwork-add-hundredths-no-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = (1..10)[NchooseK(10,2)];
              ($c,$d) = num_sort((1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99)[NchooseK(90,2)]);
              $a = $m + $c/100;
              $b = $n + ($d-$c)/100;
              $ans = Real($a + $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>+<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-hundredths-no-carry-copy">
          <webwork copy="webwork-add-hundredths-no-carry"/>
        </exercise>

        <exercise label="subtract-hundredths-no-carry">
          <webwork xml:id="webwork-subtract-hundredths-no-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = num_sort((1..10)[NchooseK(10,2)]);
              ($c,$d) = num_sort((1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99)[NchooseK(90,2)]);
              $a = $n + $d/100;
              $b = $m + $c/100;
              $ans = Real($a - $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>-<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-hundredths-no-carry-copy">
          <webwork copy="webwork-subtract-hundredths-no-carry"/>
        </exercise>

        <exercise label="add-hundredths-carry">
          <webwork xml:id="webwork-add-hundredths-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = (1..10)[NchooseK(10,2)];
              ($c,$d) = num_sort((1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99)[NchooseK(90,2)]);
              $a = $m + ($c-$d)/100;
              $b = $n + $d/100;
              $ans = Real($a + $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>+<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-hundredths-carry-copy">
          <webwork copy="webwork-add-hundredths-carry"/>
        </exercise>

        <exercise label="subtract-hundredths-carry">
          <webwork xml:id="webwork-subtract-hundredths-carry">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = num_sort((1..10)[NchooseK(10,2)]);
              ($c,$d) = num_sort((1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99)[NchooseK(90,2)]);
              $a = $n + $c/100;
              $b = $m + $d/100;
              $ans = Real($a - $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>-<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-hundredths-carry-copy">
          <webwork copy="webwork-subtract-hundredths-carry"/>
        </exercise>

        <exercise label="add-tenths-hundredths">
          <webwork xml:id="webwork-add-tenths-hundredths">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = (1..10)[NchooseK(10,2)];
              $c = random(1,9,1);
              $d = list_random(1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              $a = $m + $c/10;
              $b = $n + $d/100;
              $ans = Real($a + $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>+<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-tenths-hundredths-copy">
          <webwork copy="webwork-add-tenths-hundredths"/>
        </exercise>

        <exercise label="subtract-tenths-hundredths">
          <webwork xml:id="webwork-subtract-tenths-hundredths">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = num_sort((1..10)[NchooseK(10,2)]);
              $c = random(1,9,1);
              $d = list_random(1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              $a = $n + $c/10;
              $b = $m + $d/100;
              $ans = Real($a - $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>-<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-tenths-hundredths-copy">
          <webwork copy="webwork-subtract-tenths-hundredths"/>
        </exercise>

        <exercise label="add-hundredths-tenths">
          <webwork xml:id="webwork-add-hundredths-tenths">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = (1..10)[NchooseK(10,2)];
              $c = random(1,9,1);
              $d = list_random(1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              $a = $m + $d/100;
              $b = $n + $c/10;
              $ans = Real($a + $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>+<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-hundredths-tenths-copy">
          <webwork copy="webwork-add-hundredths-tenths"/>
        </exercise>

        <exercise label="subtract-hundredths-tenths">
          <webwork xml:id="webwork-subtract-hundredths-tenths">
            <pg-code>
              Context("LimitedNumeric");
              ($m,$n) = num_sort((1..10)[NchooseK(10,2)]);
              $c = random(1,9,1);
              $d = list_random(1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              $a = $n + $d/100;
              $b = $m + $c/10;
              $ans = Real($a - $b);
            </pg-code>
            <statement>
              <p>
                <m><var name="$a"/>-<var name="$b"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-hundredths-tenths-copy">
          <webwork copy="webwork-subtract-hundredths-tenths"/>
        </exercise>
      </exercisegroup> -->

      <exercisegroup cols="3">
        <title>Fraction Arithmetic</title>
        <introduction>
          <p>
            Add or subtract the fractions.
          </p>
        </introduction>
        <exercise label="add-same-denominator-no-reduce">
          <webwork xml:id="webwork-add-same-denominator-no-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..20];
              do {
                ($a,$b,$c) = num_sort(random_pairwise_coprime($range, $range, $range));
              } until (gcd($a + $b, $c) == 1);
              $A = Fraction($a,$c);
              $B = Fraction($b,$c);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-same-denominator-no-reduce-copy">
          <webwork copy="webwork-add-same-denominator-no-reduce"/>
        </exercise>

        <exercise label="subtract-same-denominator-no-reduce">
          <webwork xml:id="webwork-subtract-same-denominator-no-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..20];
              do {
                ($a,$b,$c) = num_sort(random_pairwise_coprime($range, $range, $range));
              } until (gcd($b - $a, $c) == 1);
              $A = Fraction($a,$c);
              $B = Fraction($b,$c);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-same-denominator-no-reduce-copy">
          <webwork copy="webwork-subtract-same-denominator-no-reduce"/>
        </exercise>

        <exercise label="add-same-denominator-reduce">
          <webwork xml:id="webwork-add-same-denominator-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..20];
              do {
                ($a,$b,$c) = num_sort(random_pairwise_coprime($range, $range, $range));
              } until (gcd($a + $b, $c) > 1);
              $A = Fraction($a,$c);
              $B = Fraction($b,$c);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-same-denominator-reduce-copy">
          <webwork copy="webwork-add-same-denominator-reduce"/>
        </exercise>

        <exercise label="subtract-same-denominator-reduce">
          <webwork xml:id="webwork-subtract-same-denominator-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..20];
              do {
                ($a,$b,$c) = num_sort(random_pairwise_coprime($range, $range, $range));
              } until (gcd($b - $a, $c) > 1);
              $A = Fraction($a,$c);
              $B = Fraction($b,$c);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-same-denominator-reduce-copy">
          <webwork copy="webwork-subtract-same-denominator-reduce"/>
        </exercise>

        <exercise label="add-integer-fraction">
          <webwork xml:id="webwork-add-integer-fraction">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..15];
              ($a,$b) = random_pairwise_coprime($range, $range);
              $c = random(1,int(100/$b));
              $A = Fraction($a,$b);
              $ans = $A + $c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$c"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-integer-fraction-copy">
          <webwork copy="webwork-add-integer-fraction"/>
        </exercise>

        <exercise label="subtract-integer-fraction">
          <webwork xml:id="webwork-subtract-integer-fraction">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..15];
              ($a,$b) = random_pairwise_coprime($range, $range);
              $c = random(1,int(100/$b));
              $A = Fraction($a,$b);
              ($min, $max) = num_sort($A,$c);
              $ans = $max-$min;
            </pg-code>
            <statement>
              <p>
                <m><var name="$max"/>-<var name="$min"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-integer-fraction-copy">
          <webwork copy="webwork-subtract-integer-fraction"/>
        </exercise>

        <exercise label="add-fractions-rel-prime-denoms">
          <webwork xml:id="webwork-add-fractions-rel-prime-denoms">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..20];
              ($b,$d) = random_pairwise_coprime($range, $range);
              $a = random(1, $b - 1);
              $c = random(1, $d - 1);
              $A = Fraction($a,$b);
              $B = Fraction($c,$d);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-fractions-rel-prime-denoms-copy">
          <webwork copy="webwork-add-fractions-rel-prime-denoms"/>
        </exercise>

        <exercise label="subtract-fractions-rel-prime-denoms">
          <webwork xml:id="webwork-subtract-fractions-rel-prime-denoms">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..10];
              ($b,$d) = random_pairwise_coprime($range, $range);
              $a = random(1, $b - 1);
              $c = random(1, $d - 1);
              $A = Fraction($a,$b);
              $B = Fraction($c,$d);
              ($A, $B) = num_sort($A, $B);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-fractions-rel-prime-denoms-copy">
          <webwork copy="webwork-subtract-fractions-rel-prime-denoms"/>
        </exercise>

        <exercise label="add-fractions-one-build-no-reduce">
          <webwork xml:id="webwork-add-fractions-one-build-no-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..11];
              do {
                ($b,$c,$k) = random_pairwise_coprime($range, $range, $range);
                $a = random(1, $b - 1);
              } until (gcd($k*$a + $c, $b) == 1);
              $A = Fraction($a, $b);
              $B = Fraction($c, $k*$b);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-fractions-one-build-no-reduce-copy">
          <webwork copy="webwork-add-fractions-one-build-no-reduce"/>
        </exercise>

        <exercise label="subtract-fractions-one-build-no-reduce">
          <webwork xml:id="webwork-subtract-fractions-one-build-no-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..11];
              do {
                ($b,$c,$k) = random_pairwise_coprime($range, $range, $range);
                $a = random(1, $b - 1);
              } until (gcd($k*$a - $c, $b) == 1);
              $A = Fraction($a, $b);
              $B = Fraction($c, $k*$b);
              ($A, $B) = num_sort($A, $B);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-fractions-one-build-no-reduce-copy">
          <webwork copy="webwork-subtract-fractions-one-build-no-reduce"/>
        </exercise>

        <exercise label="add-fractions-one-build-reduce">
          <webwork xml:id="webwork-add-fractions-one-build-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..11];
              do {
                ($b,$c,$k) = random_pairwise_coprime($range, $range, $range);
                $a = random(1, $b - 1);
              } until (gcd($k*$a + $c, $b) > 1);
              $A = Fraction($a, $b);
              $B = Fraction($c, $k*$b);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-fractions-one-build-reduce-copy">
          <webwork copy="webwork-add-fractions-one-build-reduce"/>
        </exercise>

        <exercise label="subtract-fractions-one-build-reduce">
          <webwork xml:id="webwork-subtract-fractions-one-build-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..11];
              do {
                ($b,$c,$k) = random_pairwise_coprime($range, $range, $range);
                $a = random(1, $b - 1);
              } until (gcd($k*$a - $c, $b) > 1);
              $A = Fraction($a, $b);
              $B = Fraction($c, $k*$b);
              ($A, $B) = num_sort($A, $B);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-fractions-one-build-reduce-copy">
          <webwork copy="webwork-subtract-fractions-one-build-reduce"/>
        </exercise>

        <exercise label="add-fractions-two-build-no-reduce">
          <webwork xml:id="webwork-add-fractions-two-build-no-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..10];
              do {
                ($b,$d) = random_pairwise_coprime($range, $range);
                $k = random(2,5);
                $a = (random_pairwise_coprime([$b*$k], $range))[1];
                $c = (random_pairwise_coprime([$d*$k], $range))[1];
              } until (gcd($a*$d + $b*$c, $k) == 1);
              $A = Fraction($a, $b*$k);
              $B = Fraction($c, $d*$k);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-fractions-two-build-no-reduce-copy">
          <webwork copy="webwork-add-fractions-two-build-no-reduce"/>
        </exercise>

        <exercise label="subtract-fractions-two-build-no-reduce">
          <webwork xml:id="webwork-subtract-fractions-two-build-no-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..10];
              do {
                ($b,$d) = random_pairwise_coprime($range, $range);
                $k = random(2,5);
                $a = (random_pairwise_coprime([$b*$k], $range))[1];
                $c = (random_pairwise_coprime([$d*$k], $range))[1];
              } until (gcd($a*$d - $b*$c, $k) == 1);
              $A = Fraction($a, $b*$k);
              $B = Fraction($c, $d*$k);
              ($A, $B) = num_sort($A, $B);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-fractions-two-build-no-reduce-copy">
          <webwork copy="webwork-subtract-fractions-two-build-no-reduce"/>
        </exercise>

        <exercise label="add-fractions-two-build-reduce">
          <webwork xml:id="webwork-add-fractions-two-build-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..10];
              do {
                ($b,$d) = random_pairwise_coprime($range, $range);
                $k = random(2,5);
                $a = (random_pairwise_coprime([$b*$k], $range))[1];
                $c = (random_pairwise_coprime([$d*$k], $range))[1];
              } until (gcd($a*$d + $b*$c, $k) > 1);
              $A = Fraction($a, $b*$k);
              $B = Fraction($c, $d*$k);
              $ans = $A + $B;
            </pg-code>
            <statement>
              <p>
                <m><var name="$A"/>+<var name="$B"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-add-fractions-two-build-reduce-copy">
          <webwork copy="webwork-add-fractions-two-build-reduce"/>
        </exercise>

        <exercise label="subtract-fractions-two-build-reduce">
          <webwork xml:id="webwork-subtract-fractions-two-build-reduce">
            <pg-code>
              Context("LimitedFraction")->flags->set(allowMixedNumbers => 0, showMixedNumbers => 0);
              $range = [2..10];
              do {
                ($b,$d) = random_pairwise_coprime($range, $range);
                $k = random(2,5);
                $a = (random_pairwise_coprime([$b*$k], $range))[1];
                $c = (random_pairwise_coprime([$d*$k], $range))[1];
              } until (gcd($a*$d - $b*$c, $k) > 1);
              $A = Fraction($a, $b*$k);
              $B = Fraction($c, $d*$k);
              ($A, $B) = num_sort($A, $B);
              $ans = $B - $A;
            </pg-code>
            <statement>
              <p>
                <m><var name="$B"/>-<var name="$A"/></m>
              </p>
              <p>
                <var name="$ans" width="5"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-subtract-fractions-two-build-reduce-copy">
          <webwork copy="webwork-subtract-fractions-two-build-reduce"/>
        </exercise>
      </exercisegroup>
    </subexercises>

    <subexercises xml:id="subexercises-combining-like-terms-skills-practice">
      <title>Skills Practice</title>
      <exercisegroup cols="2">
        <title>Identifying Terms</title>
        <introduction>
          <p>
            List the terms in each expression.
          </p>
        </introduction>

        <exercise label="list-terms-distinct-variables">
          <webwork xml:id="webwork-list-terms-distinct-variables">
            <pg-code>
              Context("Fraction");
              Context()->noreduce('(-x)-y','(-x)+y');
              $n = random(3,4);
              @vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,$n)];
              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }
              @coefs = (@ones, @ints, @decimals, @fracs)[NchooseK(360,$n)];
              @signs = (1,-1);
              for my $i (2..$n) {
                push(@signs,list_random(-1,1))
              }
              @signs = (@signs)[NchooseK($n,$n)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..$n);
              Context()->variables->are();
              Context()->operators->remove("U");
              for my $x (@vars) {
                Context()->variables->add($x => 'Real');
              }
              @terms = ();
              for my $i (1..$n) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $ans = List(@terms);
              $sum = Formula(join('+', @terms))->reduce;
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <instruction>
                Separate the terms in your list using commas.
              </instruction>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-list-terms-distinct-variables-copy">
          <webwork copy="webwork-list-terms-distinct-variables"/>
        </exercise>

        <exercise label="list-terms-two-variables">
          <webwork xml:id="webwork-list-terms-two-variables">
            <pg-code>
              Context("Fraction");
              Context()->noreduce('(-x)-y','(-x)+y');
              $n = random(3,4);
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars);
              for my $i (2..$n) {
                push(@vars,list_random(@orig_vars));
              }
              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }
              @coefs = (@ones, @ints, @decimals, @fracs)[NchooseK(360,$n)];
              @signs = (1,-1);
              for my $i (2..$n) {
                push(@signs,list_random(-1,1))
              }
              @signs = (@signs)[NchooseK($n,$n)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..$n);
              Context()->variables->are();
              Context()->operators->remove("U");
              for my $x (@orig_vars) {
                Context()->variables->add($x => 'Real');
              }
              @terms = ();
              for my $i (1..$n) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $ans = List(@terms);
              $sum = Formula(join('+', @terms))->reduce;
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <instruction>
                Separate the terms in your list using commas.
              </instruction>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-list-terms-two-variables-copy">
          <webwork copy="webwork-list-terms-two-variables"/>
        </exercise>

        <exercise label="list-terms-distinct-powers">
          <webwork xml:id="webwork-list-terms-distinct-powers">
            <pg-code>
              Context("Fraction");
              Context()->noreduce('(-x)-y','(-x)+y');
              $n = random(3,4);
              $var = list_random('x','y','z','t');
              @powers = (0..9)[NchooseK(10,$n)];
              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }
              @coefs = (@ones, @ints, @decimals, @fracs)[NchooseK(360,$n)];
              @signs = (1,-1);
              for my $i (2..$n) {
                push(@signs,list_random(-1,1))
              }
              @signs = (@signs)[NchooseK($n,$n)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..$n);
              Context()->variables->are($var => 'Real');
              @terms = ();
              for my $i (1..$n) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $ans = List(@terms);
              $sum = Formula(join('+', @terms))->reduce;
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <instruction>
                Separate the terms in your list using commas.
              </instruction>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-list-terms-distinct-powers-copy">
          <webwork copy="webwork-list-terms-distinct-powers"/>
        </exercise>

        <exercise label="list-terms-two-powers">
          <webwork xml:id="webwork-list-terms-two-powers">
            <pg-code>
              Context("Fraction");
              Context()->noreduce('(-x)-y','(-x)+y');
              $n = random(3,4);
              $var = list_random('x','y','z','t');
              @powers = (0..9)[NchooseK(10,2)];
              for my $i (2..$n) {
                push(@powers,$powers[list_random(0,1)]);
              }
              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }
              @coefs = (@ones, @ints, @decimals, @fracs)[NchooseK(360,$n)];
              @signs = (1,-1);
              for my $i (2..$n) {
                push(@signs,list_random(-1,1))
              }
              @signs = (@signs)[NchooseK($n,$n)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..$n);
              Context()->variables->are($var => 'Real');
              @terms = ();
              for my $i (1..$n) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $ans = List(@terms);
              $sum = Formula(join('+', @terms))->reduce;
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <instruction>
                Separate the terms in your list using commas.
              </instruction>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-list-terms-two-powers-copy">
          <webwork copy="webwork-list-terms-two-powers"/>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="2">
        <title>Combining Like Terms</title>
        <introduction>
          <p>
            Simplify the expression by combining like terms if possible.
          </p>
        </introduction>
        <exercise label="combine-two-terms-no-frac-one-or-two-decimal">
          <webwork xml:id="webwork-combine-two-terms-no-frac-one-or-two-decimal">
            <pg-code>
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @signs = (1,list_random(-1,1));
              @signs = (@signs)[NchooseK(2,2)];
              @coefs = (list_random(@decimals), list_random(@ones, @ints, @decimals));
              @coefs = (@coefs)[NchooseK(2,2)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1,2);
              @terms = ();
              for my $i (1,2) {
                push(@terms, Formula("$coefs[$i-1]*$var"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are($var => 'Real');

              $ans = Formula('(' . join('+', @coefs) . ")$var")->reduce;
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-two-terms-no-frac-one-or-two-decimal-copy">
          <webwork copy="webwork-combine-two-terms-no-frac-one-or-two-decimal"/>
        </exercise>

        <exercise label="combine-two-terms-no-decimals-one-or-two-frac">
          <webwork xml:id="webwork-combine-two-terms-no-decimals-one-or-two-frac">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..91);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1));
              @signs = (@signs)[NchooseK(2,2)];
              @coefs = (list_random(@fracs), list_random(@ones, @ints, @fracs));
              @coefs = (@coefs)[NchooseK(2,2)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1,2);
              @terms = ();
              for my $i (1,2) {
                push(@terms, Formula("$coefs[$i-1]*$var"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $c = $coefs[0] + $coefs[1];

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are($var => 'Real');
              $ans = Formula("($c)$var");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-two-terms-no-decimals-one-or-two-frac-copy">
          <webwork copy="webwork-combine-two-terms-no-decimals-one-or-two-frac"/>
        </exercise>

        <exercise label="combine-two-terms-no-combine">
          <webwork xml:id="webwork-combine-two-terms-no-combine">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              @vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($vars[$i-1] => 'Real');
              }

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1));
              @signs = (@signs)[NchooseK(2,2)];
              @coefs = (@ones, @ints, @fracs, @decimals)[NchooseK(360,2)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1,2);
              @terms = ();
              for my $i (1,2) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($vars[$i-1] => 'Real');
              }
              $ans = Formula("$sum");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-two-terms-no-combine-copy">
          <webwork copy="webwork-combine-two-terms-no-combine"/>
        </exercise>

        <exercise label="combine-three-terms-distinct-powers">
          <webwork xml:id="webwork-combine-three-terms-distinct-powers">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var=>'Real');

              @ones = (1) x 90;
              @ints = (2..10) x 10;
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = (@ones, @ints, @fracs, @decimals)[NchooseK(360,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @powers = num_sort((0..5)[NchooseK(6,3)]);
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are($var=>'Real');
              $ans = Formula("$sum");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-distinct-powers-copy">
          <webwork copy="webwork-combine-three-terms-distinct-powers"/>
        </exercise>

        <exercise label="combine-three-terms-two-combine-distinct-variables-fractions">
          <webwork xml:id="webwork-combine-three-terms-two-combine-distinct-variables-fractions">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars, list_random(@orig_vars));
              @vars = (@vars)[NchooseK(3,3)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = (@fracs)[NchooseK(90,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = Fraction($sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0));
              $combinedcoefs{$orig_vars[1]} = Fraction($sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1));
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }
              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-two-combine-distinct-variables-fractions-copy">
          <webwork copy="webwork-combine-three-terms-two-combine-distinct-variables-fractions"/>
        </exercise>

        <exercise label="combine-three-terms-two-combine-distinct-variables-decimals">
          <webwork xml:id="webwork-combine-three-terms-two-combine-distinct-variables-decimals">
            <pg-code>
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars, list_random(@orig_vars));
              @vars = (@vars)[NchooseK(3,3)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = (list_random(@decimals), (@ones, @ints, @decimals)[NchooseK(270,3)]);
              @coefs = (@coefs)[NchooseK(3,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = $sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0);
              $combinedcoefs{$orig_vars[1]} = $sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1);
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }
              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-two-combine-distinct-variables-decimals-copy">
          <webwork copy="webwork-combine-three-terms-two-combine-distinct-variables-decimals"/>
        </exercise>

        <exercise label="combine-three-terms-two-combine-distinct-powers-fractions">
          <webwork xml:id="webwork-combine-three-terms-two-combine-distinct-powers-fractions">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..10) x 10;
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = ((@fracs)[NchooseK(90,2)], list_random(@ones, @ints, @fracs));
              @coefs = (@coefs)[NchooseK(3,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @powers = num_sort((1..6)[NchooseK(6,2)]);
              push @powers, list_random(@powers);
              @powers = (@powers)[NchooseK(3,3)];
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $d = $sum;
              $combinedcoefs{0} = $d->eval($var => 0);
              for my $i (1..6) {
                $d = $d->D($var)/$i;
                $combinedcoefs{$i} = $d->eval($var => 0);
              }
              @reducedterms = map{Formula("$combinedcoefs{$_} $var^$_")} (1..6);
              $ans = Formula(join('+', @reducedterms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are($var => 'Real');
              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-two-combine-distinct-powers-fractions-copy">
          <webwork copy="webwork-combine-three-terms-two-combine-distinct-powers-fractions"/>
        </exercise>

        <exercise label="combine-three-terms-two-combine-distinct-powers-decimals">
          <webwork xml:id="webwork-combine-three-terms-two-combine-distinct-powers-decimals">
            <pg-code>
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = (@decimals)[NchooseK(90,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @powers = num_sort((1..6)[NchooseK(6,2)]);
              push @powers, list_random(@powers);
              @powers = (@powers)[NchooseK(3,3)];
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $d = $sum;
              $combinedcoefs{0} = $d->eval($var => 0);
              for my $i (1..6) {
                $d = $d->D($var)/$i;
                $combinedcoefs{$i} = $d->eval($var => 0);
              }
              @reducedterms = map{Formula("$combinedcoefs{$_} $var^$_")} (1..6);
              $ans = Formula(join('+', @reducedterms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are($var => 'Real');
              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-two-combine-distinct-powers-decimals-copy">
          <webwork copy="webwork-combine-three-terms-two-combine-distinct-powers-decimals"/>
        </exercise>

        <exercise label="combine-three-terms-fractions">
          <webwork xml:id="webwork-combine-three-terms-fractions">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..10) x 10;
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = ((@fracs)[NchooseK(90,2)], list_random(@ones, @ints));
              @coefs = (@coefs)[NchooseK(3,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$var"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $combinedcoef = $coefs[0] + $coefs[1] + $coefs[2];

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are($var => 'Real');
              $ans = Formula("$combinedcoef $var");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-fractions-copy">
          <webwork copy="webwork-combine-three-terms-fractions"/>
        </exercise>

        <exercise label="combine-three-terms-decimals">
          <webwork xml:id="webwork-combine-three-terms-decimals">
            <pg-code>
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @signs = (1,list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(3,3)];
              @coefs = ((@decimals)[NchooseK(90,2)], list_random(@ones, @ints));
              @coefs = (@coefs)[NchooseK(3,3)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..3);
              @terms = ();
              for my $i (1..3) {
                push(@terms, Formula("$coefs[$i-1]*$var"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $combinedcoef = $coefs[0] + $coefs[1] + $coefs[2];

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are($var => 'Real');
              $ans = Formula("$combinedcoef $var");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-three-terms-decimals-copy">
          <webwork copy="webwork-combine-three-terms-decimals"/>
        </exercise>

        <exercise label="combine-four-terms-distinct-variables-fractions">
          <webwork xml:id="webwork-combine-four-terms-distinct-variables-fractions">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars, @orig_vars);
              @vars = (@vars)[NchooseK(4,4)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1),list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(4,4)];
              @coefs = (@fracs)[NchooseK(90,4)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..4);
              @terms = ();
              for my $i (1..4) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = Fraction($sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0));
              $combinedcoefs{$orig_vars[1]} = Fraction($sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1));
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-four-terms-distinct-variables-fractions-copy">
          <webwork copy="webwork-combine-four-terms-distinct-variables-fractions"/>
        </exercise>

        <exercise label="combine-four-terms-distinct-variables-decimals">
          <webwork xml:id="webwork-combine-four-terms-distinct-variables-decimals">
            <pg-code>
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars, @orig_vars);
              @vars = (@vars)[NchooseK(4,4)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @signs = (1,list_random(-1,1),list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(4,4)];
              @coefs = (@decimals,@ones,@ints)[NchooseK(270,4)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..4);
              @terms = ();
              for my $i (1..4) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = $sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0);
              $combinedcoefs{$orig_vars[1]} = $sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1);
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-four-terms-distinct-variables-decimals-copy">
          <webwork copy="webwork-combine-four-terms-distinct-variables-decimals"/>
        </exercise>

        <exercise label="combine-four-terms-distinct-powers-decimals">
          <webwork xml:id="webwork-combine-four-terms-distinct-powers-decimals">
            <pg-code>
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @signs = (1,list_random(-1,1),list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(4,4)];
              @coefs = (@decimals,@ones,@ints)[NchooseK(270,4)];
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..4);
              @powers = num_sort((1..6)[NchooseK(6,2)]);
              @powers = (@powers, @powers);
              @powers = (@powers)[NchooseK(4,4)];
              @terms = ();
              for my $i (1..4) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $d = $sum;
              $combinedcoefs{0} = $d->eval($var => 0);
              for my $i (1..6) {
                $d = $d->D($var)/$i;
                $combinedcoefs{$i} = $d->eval($var => 0);
              }
              @reducedterms = map{Formula("$combinedcoefs{$_} $var^$_")} (1..6);
              $ans = Formula(join('+', @reducedterms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are($var => 'Real');

              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-four-terms-distinct-powers-decimals-copy">
          <webwork copy="webwork-combine-four-terms-distinct-powers-decimals"/>
        </exercise>

        <exercise label="combine-four-terms-distinct-powers-fractions">
          <webwork xml:id="webwork-combine-four-terms-distinct-powers-fractions">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              Context()->noreduce('(-x)+y','(-x)-y');
              $var = list_random('a'..'n','p'..'z','A'..'N','P'..'Z');
              Context()->variables->are($var => 'Real');

              @ones = (1) x 90;
              @ints = (2..10) x 10;
              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @signs = (1,list_random(-1,1),list_random(-1,1),list_random(-1,1));
              @signs = (@signs)[NchooseK(4,4)];
              @coefs = ((@fracs)[NchooseK(90,3)], list_random(@ones,@ints));
              @coefs = map {$signs[$_-1]*$coefs[$_-1]} (1..4);
              @powers = num_sort((1..6)[NchooseK(6,2)]);
              @powers = (@powers, @powers);
              @powers = (@powers)[NchooseK(4,4)];
              @terms = ();
              for my $i (1..4) {
                push(@terms, Formula("$coefs[$i-1]*$var^$powers[$i-1]"));
              }
              $sum = Formula(join('+', @terms))->reduce;

              $d = $sum;
              $combinedcoefs{0} = $d->eval($var => 0);
              for my $i (1..6) {
                $d = $d->D($var)/$i;
                $combinedcoefs{$i} = Fraction($d->eval($var => 0));
              }
              @reducedterms = map{Formula("$combinedcoefs{$_} $var^$_")} (1..6);
              $ans = Formula(join('+', @reducedterms))->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are($var => 'Real');

              $ans = Formula("$ans");
            </pg-code>
            <statement>
              <p>
                <m><var name="$sum"/></m>
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="webwork-combine-four-terms-distinct-powers-fractions-copy">
          <webwork copy="webwork-combine-four-terms-distinct-powers-fractions"/>
        </exercise>
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Applications</title>
      <exercisegroup cols="3">
        <title>Perimeter</title>
        <introduction>
          <p>
            Write a simplified expression for the perimeter of the given shape
            (which is not drawn to scale).
          </p>
        </introduction>

        <exercise label="quadrilateral-perimeter-combine-like-terms">
          <webwork xml:id="webwork-quadrilateral-perimeter-combine-like-terms">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars, @orig_vars);
              @vars = (@vars)[NchooseK(4,4)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @coefs = num_sort((@fracs)[NchooseK(90,4)]);
              @terms = ();
              for my $i (1..4) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = Fraction($sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0));
              $combinedcoefs{$orig_vars[1]} = Fraction($sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1));
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              $ans = Formula("$ans");

              $polygon = list_random(
                [[0,3,3.5,2], [0,0,2,2.5], [2,1,0,3]],
                [[0,4,3.5,1], [0,0,2,2.5], [3,0,1,2]],
                [[0,3,3.5,2], [0,-1,1,2.5], [3,1,0,2]],
                [[0,3,3.5,2], [0,-1,2,2.5], [2,1,0,3]],
                [[0,3,3.5,1], [0,-1,2,2], [3,2,1,0]],
              );

              @x = @{$polygon->[0]};
              @y = @{$polygon->[1]};
              @termsTeX = map{$terms[$_]->TeX} (@{$polygon->[2]});
            </pg-code>
            <statement>
              <image width="94%">
                <shortdescription>
                  a quadrilateral whose sides are labeled <var name="$terms[0]"/>, <var name="$terms[1]"/>, <var name="$terms[2]"/>, and <var name="$terms[3]"/>.
                </shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \draw[fill=wood] ($x[0],$y[0])
                    -- node[pos=0.5,below]{\($termsTeX[0]\)} ($x[1],$y[1])
                    -- node[pos=0.5,right]{\($termsTeX[1]\)} ($x[2],$y[2])
                    -- node[pos=0.5,above]{\($termsTeX[2]\)} ($x[3],$y[3])
                    -- node[pos=0.5,left]{\($termsTeX[3]\)} cycle;   
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
            <solution>
              <p>
                The perimeter is the result from adding the four sides together:
                <m><var name="$termsTeX[0]"/> + <var name="$termsTeX[1]"/> + <var name="$termsTeX[2]"/> + <var name="$termsTeX[3]"/></m>.
                There are two <m><var name="$vars[0]"/></m>-terms and two <m><var name="$vars[1]"/></m>-terms.
                We combine each pair of like terms and the perimeter is <m><var name="$ans"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise label="webwork-quadrilateral-perimeter-combine-like-terms-copy">
          <webwork copy="webwork-quadrilateral-perimeter-combine-like-terms"/>
        </exercise>

        <exercise label="hexagon-perimeter-combine-like-terms-decimals">
          <webwork xml:id="webwork-hexagon-perimeter-combine-like-terms-decimals">
            <pg-code>
              Context()->operators->remove("U");
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,2)];
              @vars = (@orig_vars, @orig_vars, @orig_vars);
              @vars = (@vars)[NchooseK(6,6)];
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @ones = (1) x 90;
              @ints = (2..91);
              @decimals = map {$_ / 10} (1..9,11..19,21..29,31..39,41..49,51..59,61..69,71..79,81..89,91..99);

              @coefs = num_sort((@ones, @ints, @decimals)[NchooseK(270,6)]);
              @terms = ();
              for my $i (1..6) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = $sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0);
              $combinedcoefs{$orig_vars[1]} = $sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1);
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->flags->remove("NumberCheck");
              Context()->variables->are();
              for my $i (1,2) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              $ans = Formula("$ans");

              $polygon = list_random(
                [[0,2,4,2,-1,-1], [0,0,1,3,2,1], [2,3,4,5,0,1]],
                [[0,1,3,2,-1,-1], [0,0,1,3,3,1], [0,3,4,5,2,1]],
                [[0,2,3,0,-1,-1], [0,0,1,3,3,1], [3,1,5,0,4,2]],
                [[0,2,3,2,0,-1], [-1,0,1,2,2,1], [4,0,1,3,2,5]],
              );

              @x = @{$polygon->[0]};
              @y = @{$polygon->[1]};
              @termsTeX = map{$terms[$_]->TeX} (@{$polygon->[2]});
            </pg-code>
            <statement>
              <image width="94%">
                <shortdescription>
                  a quadrilateral whose sides are labeled <var name="$terms[0]"/>, <var name="$terms[1]"/>, <var name="$terms[2]"/>, <var name="$terms[3]"/>, <var name="$terms[4]"/>, and <var name="$terms[5]"/>.
                </shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \draw[fill=wood] ($x[0],$y[0])
                    -- node[pos=0.5,below]{\($termsTeX[0]\)} ($x[1],$y[1])
                    -- node[pos=0.5,below right]{\($termsTeX[1]\)} ($x[2],$y[2])
                    -- node[pos=0.5,above right]{\($termsTeX[2]\)} ($x[3],$y[3])
                    -- node[pos=0.5,above left]{\($termsTeX[3]\)} ($x[4],$y[4])
                    -- node[pos=0.5,left]{\($termsTeX[4]\)} ($x[5],$y[5])
                    -- node[pos=0.5,below left]{\($termsTeX[5]\)} cycle;   
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
            <solution>
              <p>
                The perimeter is the result from adding the six sides together:
                <m><var name="$termsTeX[0]"/> + <var name="$termsTeX[1]"/> + <var name="$termsTeX[2]"/> + <var name="$termsTeX[3]"/> + <var name="$termsTeX[4]"/> + <var name="$termsTeX[5]"/></m>.
                There are two <m><var name="$vars[0]"/></m>-terms and two <m><var name="$vars[1]"/></m>-terms.
                We combine each pair of like terms and the perimeter is <m><var name="$ans"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise label="webwork-hexagon-perimeter-combine-like-terms-decimals-copy">
          <webwork copy="webwork-hexagon-perimeter-combine-like-terms-decimals"/>
        </exercise>

        <exercise label="hexagon-perimeter-combine-like-terms-fractions">
          <webwork xml:id="webwork-hexagon-perimeter-combine-like-terms-fractions">
            <pg-code>
              Context("Fraction");
              Context()->operators->remove("U");
              @orig_vars = ('a'..'n','p'..'z','A'..'N','P'..'Z')[NchooseK(50,3)];
              @vars = (@orig_vars, @orig_vars);
              @vars = (@vars)[NchooseK(6,6)];
              Context()->variables->are();
              for my $i (1,2,3) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              @fracs = ();
              for my $j (2..10) {
                for my $i (1..10) {
                  push(@fracs, Fraction($i,$j));
                }
              }

              @coefs = num_sort((@fracs)[NchooseK(90,6)]);
              @terms = ();
              for my $i (1..6) {
                push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
              }
              $sum = Formula(join('+', @terms))->reduce;

              %combinedcoefs = ();
              $combinedcoefs{$orig_vars[0]} = Fraction($sum->eval($orig_vars[0] => 1, $orig_vars[1] => 0, $orig_vars[2] => 0));
              $combinedcoefs{$orig_vars[1]} = Fraction($sum->eval($orig_vars[0] => 0, $orig_vars[1] => 1, $orig_vars[2] => 0));
              $combinedcoefs{$orig_vars[2]} = Fraction($sum->eval($orig_vars[0] => 0, $orig_vars[1] => 0, $orig_vars[2] => 1));
              $ans = Formula("$combinedcoefs{$orig_vars[0]} $orig_vars[0] + $combinedcoefs{$orig_vars[1]} $orig_vars[1] + $combinedcoefs{$orig_vars[2]} $orig_vars[2]")->reduce;

              Context("Form");
              Context()->operators->remove("U");
              Context()->variables->are();
              for my $i (1,2,3) {
                Context()->variables->add($orig_vars[$i-1] => 'Real');
              }

              $ans = Formula("$ans");

              $polygon = list_random(
                [[0,2,4,2,-1,-1], [0,0,1,3,2,1], [2,3,4,5,0,1]],
                [[0,1,3,2,-1,-1], [0,0,1,3,3,1], [0,3,4,5,2,1]],
                [[0,2,3,0,-1,-1], [0,0,1,3,3,1], [3,1,5,0,4,2]],
                [[0,2,3,2,0,-1], [-1,0,1,2,2,1], [4,0,1,3,2,5]],
              );

              @x = @{$polygon->[0]};
              @y = @{$polygon->[1]};
              @termsTeX = map{$terms[$_]->TeX} (@{$polygon->[2]});
            </pg-code>
            <statement>
              <image width="94%">
                <shortdescription>
                  a quadrilateral whose sides are labeled <var name="$terms[0]"/>, <var name="$terms[1]"/>, <var name="$terms[2]"/>, and <var name="$terms[3]"/>.
                </shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \draw[fill=wood] ($x[0],$y[0])
                    -- node[pos=0.5,below]{\($termsTeX[0]\)} ($x[1],$y[1])
                    -- node[pos=0.5,below right]{\($termsTeX[1]\)} ($x[2],$y[2])
                    -- node[pos=0.5,above right]{\($termsTeX[2]\)} ($x[3],$y[3])
                    -- node[pos=0.5,above left]{\($termsTeX[3]\)} ($x[4],$y[4])
                    -- node[pos=0.5,left]{\($termsTeX[4]\)} ($x[5],$y[5])
                    -- node[pos=0.5,below left]{\($termsTeX[5]\)} cycle;   
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
            <solution>
              <p>
                The perimeter is the result from adding the six sides together:
                <m><var name="$termsTeX[0]"/> + <var name="$termsTeX[1]"/> + <var name="$termsTeX[2]"/> + <var name="$termsTeX[3]"/> + <var name="$termsTeX[4]"/> + <var name="$termsTeX[5]"/></m>.
                There are three <m><var name="$vars[0]"/></m>-terms, two <m><var name="$vars[1]"/></m>-terms, and two <m><var name="$vars[2]"/></m>-terms.
                We combine each pair of like terms and the perimeter is <m><var name="$ans"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise label="webwork-hexagon-perimeter-combine-like-terms-fractions-copy">
          <webwork copy="webwork-hexagon-perimeter-combine-like-terms-fractions"/>
        </exercise>
      </exercisegroup>

      <exercise label="combine-like-terms-office-lunch">
        <title>Office Lunch</title>
        <webwork>
          <pg-code>
            @vars = ('S','S','B','B');
            Context()->variables->are(S => 'Real', B => 'Real');

            $n = random(20,25);
            @coefs = num_sort((5..15)[NchooseK(11,2)]);
            $coefs[2] = $n - $coefs[0] + random(-1,1);
            $coefs[3] = $n - $coefs[1] + random(-1,1);
            @terms = ();
            for my $i (1..4) {
              push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
            }
            $one = Formula("$coefs[0] S + $coefs[2] B");
            $two = Formula("$coefs[1] S + $coefs[3] B");
            $ans = Formula("($coefs[0] + $coefs[1]) S + ($coefs[2] + $coefs[3]) B");

            Context("Form");
            Context()->variables->are(S => 'Real', B => 'Real');

            $ans = Formula("$ans");
          </pg-code>
          <introduction>
            <p>
              Every Friday, an office supervisor provides catered lunches for everyone working in
              the office. People can order a sandwich (costs <m>S</m> dollars) or a burrito
              (costs <m>B</m> dollars).
            </p>
            <p>
              One week, the office ordered <m><var name="$coefs[0]"/></m> sandwiches and
              <m><var name="$coefs[2]"/></m> burritos. So the bill came to <m><var name="$one"/></m>
              dolllars.
            </p>
          </introduction>
          <task>
            <statement>
              <p>
                The next week, the office ordered <m><var name="$coefs[1]"/></m> sandwiches and
                <m><var name="$coefs[3]"/></m> burritos. How much was the bill that week, in dollars?
              </p>
              <p>
                <var name="$two" width="20"/>
              </p>
            </statement>
          </task>
          <task>
            <statement>
              <p>
                What was the combined bill for these two weeks?
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </task>
        </webwork>
      </exercise>

      <exercise label="combine-like-terms-pies-and-cakes">
        <title>Pies and Cakes</title>
        <webwork xml:id="webwork-combine-like-terms-pies-and-cakes">
          <pg-macros>
            <macro-file>randomNamesPronouns.pl</macro-file>
          </pg-macros>
          <pg-code>
            $p1 = randomPerson();
            $p1 = randomPerson();
            do {
                $p2 = randomPerson();
            } until ($p1->name ne $p2->name);

            @vars = ('p','p','c','c');
            Context()->variables->are(p => 'Real', c => 'Real');

            @coefs = num_sort((16..24)[NchooseK(9,4)]);
            @coefs = ($coefs[0],$coefs[3],$coefs[2],$coefs[1]);
            @terms = ();
            for my $i (1..4) {
              push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
            }
            $one = Formula("$coefs[0] p + $coefs[2] c");
            $two = Formula("$coefs[1] p + $coefs[3] c");
            $ans = Formula("($coefs[0] + $coefs[1]) p + ($coefs[2] + $coefs[3]) c");

            Context("Form");
            Context()->variables->are(p => 'Real', c => 'Real');

            $ans = Formula("$ans");
          </pg-code>
          <introduction>
            <p>
              <var name="$p1->name"/> and <var name="$p2->name"/> are co-owners of a  pastry shop.
              <var name="$p1->name"/> bakes pies and <var name="$p2->name"/> bakes cakes.
              <var name="$p1->name"/> is able to bake <m>p</m> pies each day <var name="$p1->subject"/> <var name="$p1->verb('work')"/> and
              <var name="$p2->name"/> is able to bake <m>c</m> cakes each day <var name="$p2->subject"/> <var name="$p2->verb('work')"/>.
            </p>
            <p>
              One month, <var name="$p1->name"/> worked <m><var name="$coefs[0]"/></m> days and
              <var name="$p2->name"/> worked <m><var name="$coefs[2]"/></m> days. That month
              they produced <m><var name="$one"/></m> baked goods in total.
            </p>
          </introduction>
          <task>
            <statement>
              <p>
                The next month, <var name="$p1->name"/> worked <m><var name="$coefs[1]"/></m> days and
                <var name="$p2->name"/> worked <m><var name="$coefs[3]"/></m> days. How many baked
                goods did they produce that month?
              </p>
              <p>
                <var name="$two" width="20"/>
              </p>
            </statement>
          </task>
          <task>
            <statement>
              <p>
                How many baked goods was that in total for those two months?
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </task>
        </webwork>
      </exercise>

      <exercise label="combine-like-terms-sportsball">
        <title>Sportsball</title>
        <webwork>
          <pg-code>
            @vars = ('P','P','L','L','S','S');
            Context()->variables->are(P => 'Real', L => 'Real', S => 'Real');

            @coefs = num_sort((2..50)[NchooseK(49,6)]);
            @terms = ();
            for my $i (1..6) {
              push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
            }
            $one = Formula("$coefs[0] P + $coefs[2] L + $coefs[4] S");
            $two = Formula("$coefs[1] P + $coefs[3] L + $coefs[5] S");
            $ans = Formula("($coefs[0] + $coefs[1]) P + ($coefs[2] + $coefs[3]) L +  ($coefs[4] + $coefs[5]) S");

            Context("Form");
            Context()->variables->are(P => 'Real', L => 'Real', S => 'Real');

            $ans = Formula("$ans");
          </pg-code>
          <introduction>
            <p>
              Sportsball is a game similar to basketball. There are three ways for a team
              to score some points:
              <ul>
                <li>
                  <p>
                    A <q>long field goal</q> earns a team <m>L</m> points.
                  </p>
                </li>
                <li>
                  <p>
                    A <q>short field goal</q> earns a team <m>S</m> points.
                  </p>
                </li>
                <li>
                  <p>
                    A <q>penalty shot</q> earns a team <m>P</m> points.
                  </p>
                </li>
              </ul>
              In the first half of one game, a team scored <m><var name="$coefs[0]"/></m> penalty shots,
              <m><var name="$coefs[2]"/></m> long field goals, and <m><var name="$coefs[4]"/></m> short field goals. So they
              earned <m><var name="$one"/></m> points.
            </p>
          </introduction>
          <task>
            <statement>
              <p>
                In the second half of that game, that same team scored <m><var name="$coefs[1]"/></m> penalty shots,
                <m><var name="$coefs[3]"/></m> long field goals, and <m><var name="$coefs[5]"/></m> short field goals. How many
                points did they earn during the second half?
              </p>
              <p>
                <var name="$two" width="20"/>
              </p>
            </statement>
          </task>
          <task>
            <statement>
              <p>
                How many points did the team score in total?
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </task>
        </webwork>
      </exercise>

      <exercise label="combine-like-terms-metal-recycling">
        <title>Metal Recycling</title>
        <webwork>
          <pg-code>
            @vars = ('A','A','S','S','T','T');
            Context()->variables->are(A => 'Real', S => 'Real', T => 'Real');

            @coefs = map {$_/100} ((201..400)[NchooseK(200,6)]);
            @terms = ();
            for my $i (1..6) {
              push(@terms, Formula("$coefs[$i-1]*$vars[$i-1]")->reduce);
            }
            $one = Formula("$coefs[0] A + $coefs[2] S + $coefs[4] T");
            $two = Formula("$coefs[1] A + $coefs[3] S + $coefs[5] T");
            $ans = Formula("($coefs[0] + $coefs[1]) A + ($coefs[2] + $coefs[3]) S +  ($coefs[4] + $coefs[5]) T");

            Context("Form");
            Context()->flags->remove("NumberCheck");
            Context()->variables->are(A => 'Real', S => 'Real', T => 'Real');

            $ans = Formula("$ans");
          </pg-code>
          <introduction>
            <p>
              A metals recycling plant makes its revenue from selling aluminum at <m>A</m> dollars per ton,
              steel at <m>S</m> dollars per ton, and tin at <m>T</m> dollars per ton. One week,
              they processed <m><var name="$coefs[0]"/></m> tons of aluminum,
              <m><var name="$coefs[2]"/></m> tons of steel, and <m><var name="$coefs[4]"/></m> tons
              of tin. So they generated <m><var name="$one"/></m> dollars in revenue.
            </p>
          </introduction>
          <task>
            <statement>
              <p>
                The next week, they processed <m><var name="$coefs[1]"/></m> tons of aluminum,
                <m><var name="$coefs[3]"/></m> tons of steel, and <m><var name="$coefs[5]"/></m> tons
                of tin. How much revenue (in dollars) did this generaate that week?
              </p>
              <p>
                <var name="$two" width="20"/>
              </p>
            </statement>
          </task>
          <task>
            <statement>
              <p>
                How much revenue (in dollars) was that in total those two weeks?
              </p>
              <p>
                <var name="$ans" width="20"/>
              </p>
            </statement>
          </task>
        </webwork>
      </exercise>
    </subexercises>
  </exercises>

  <!-- <worksheet>
    <title>Lecture Note Outlines from <xref ref="video-combining-like-terms">Video Playlist</xref></title>
    <page>
      <exercise workspace="2cm">
        <statement>
          <p>
            What are like terms?
          </p>
        </statement>
      </exercise>
      <exercise workspace="1.3cm">
        <statement>
          <p>
            Examples of like terms:
          </p>
        </statement>
      </exercise>
      <exercise workspace="1.3cm">
        <statement>
          <p>
            Examples of non-like terms:
          </p>
        </statement>
      </exercise>
      <p>
        Simplify the following expressions by combining like terms, if possible.
      </p>
      <sidebyside>
        <exercise workspace="4cm">
          <statement>
              <p>
                <m>12x+8x</m>
              </p>
          </statement>
        </exercise>
        <exercise workspace="4cm">
          <statement>
              <p>
                <m>8x-8y</m>
              </p>
          </statement>
        </exercise>
        <exercise workspace="4cm">
          <statement>
              <p>
                <m>2t-5t</m>
              </p>
          </statement>
        </exercise>
        <exercise workspace="4cm">
          <statement>
              <p>
                <m>3x^2+x</m>
              </p>
          </statement>
        </exercise>
      </sidebyside>
      <pagebreak/>
      <p>
        Simplify the following expressions by combining like terms, if possible.
      </p>
      <sidebyside>
        <exercise workspace="4cm">
          <statement>
            <p>
              <m>1.2x+3.5x</m>
            </p>
          </statement>
        </exercise>
        <exercise workspace="4cm">
          <statement>
            <p>
              <m>s+0.3s</m>
            </p>
          </statement>
        </exercise>
      </sidebyside>
      <sidebyside>
        <exercise workspace="4cm">
          <statement>
            <p>
              <m>p-0.07p</m>
            </p>
          </statement>
        </exercise>
        <exercise workspace="4cm">
          <statement>
            <p>
              <m>\frac{1}{2}z-\frac{3}{5}z</m>
            </p>
          </statement>
        </exercise>
      </sidebyside>
    </page>
  </worksheet> -->
</section>

