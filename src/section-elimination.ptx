<?xml version="1.0" encoding="UTF-8" ?>
<!-- *********************************************************************-->
<!-- Copyright 2016-2019                                                  -->
<!-- Portland Community College                                           -->
<!--                                                                      -->
<!-- This file is part of Open Resources for Community College Algebra    -->
<!-- (ORCCA).                                                             -->
<!--                                                                      -->
<!-- Open Resources for Community College Algebra is licensed under a     -->
<!-- Creative Commons Attribution 4.0 International License.              -->
<!--                                                                      -->
<!-- Under this license, any user of this textbook or the textbook        -->
<!-- contents must provide proper attribution as follows.                 -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- include in every digital format page view (including but not         -->
<!-- limited to EPUB, PDF, and HTML) and on every physical printed page   -->
<!-- the following attribution:                                           -->
<!--                                                                      -->
<!-- Original source material, products with readable and accessible      -->
<!-- math content, and other information freely available at              -->
<!-- pcc.edu/orcca.                                                       -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- reproduce any math content (such as math expressions and equations)  -->
<!-- in a readable manner, and offer math content in at least one web     -->
<!-- accessible manner.                                                   -->
<!--                                                                      -->
<!-- The Portland Community College name, Portland Community College      -->
<!-- logo, ORCCA name, Open Resources for Community College Algebra name, -->
<!-- ORCCA logo, and front and back cover designs are not subject to the  -->
<!-- Creative Commons license and may not be reproduced without the       -->
<!-- prior and express written consent of Portland Community College.     -->
<!--                                                                      -->
<!-- For questions regarding this license, please contact                 -->
<!-- orcca-group@pcc.edu.                                                 -->
<!-- *********************************************************************-->
<section xml:id="section-elimination">
  <title>Elimination</title>
  <objectives>
    <title>PCC Course Content and Outcome Guide</title>
    <ul>
      <li>
        <xref ref="ccog-solve-system-of-linear-equations" text="local">MTH 60 CCOG</xref>
      </li>
      <li>
        <xref ref="ccog-model-with-systems" text="local">MTH 60 CCOG</xref>
      </li>
      <li>
        <xref ref="ccog-properly-define-variables-in-a-system" text="local">MTH 60 CCOG</xref>
      </li>
      <li>
        <xref ref="ccog-conclusions-complete-sentences-in-a-system" text="local">MTH 60 CCOG</xref>
      </li>
    </ul>
  </objectives>

  <introduction>
    <p>
      In <xref ref="section-solving-a-system-by-graphing"/>, we used graphing to solve a system of
      two linear equations. In <xref ref="section-substitution"/>, we learned the substitution
      technique. In this section, we learn another technique for solving a system of linear
      equations called <q>elimination</q> or <q>the addition method</q>.
    </p>

    <figure>
      <caption>Alternative Video Lesson</caption>
      <video youtubeplaylist="PLmuZCPhWPt-fKef6hvJEdOKX6tbUUh2K2" />
    </figure>
  </introduction>

  <subsection>
    <title>Solving Systems of Equations by Elimination</title>                                                <idx><h>Systems of linear equations</h><h>solved by elimination</h></idx>
                                                                                                              <idx><h>Elimination method</h></idx>
                                                                                                              <idx><h>Addition method</h><see>Elimination method</see></idx>

    <example xml:id="example-system-of-equations-elimination-intro">                                          <idx><h>Systems of linear equations</h><h>applications</h></idx>
      <p>
        Alicia has <m>\$1000</m> to send to her two grandchildren Bobbie and Cedric. Since Bobbie is
        entering college and has some textbook expenses, Alicia wants to send Bobbie <m>\$200</m>
        more than she sends Cedric. How much money should she give to each grandchild?
      </p>

      <p>
        You may have a good way to answer this quickly, but we will use this example to demonstrate
        a new technique for solving a system of two linear equations.
      </p>

      <p>
        Let <m>B</m> be the dollar amount that she sends to Bobbie, and <m>C</m> be the dollar
        amount that she sends to Cedric. (Note that we begin the process of solving a word problem
        by clearly defining the variables, including their units.) Since the total she has to give
        is <m>\$1000</m>, we can write <m>B + C = 1000</m>. And since she wants to give <m>\$200</m>
        more to Bobbie, we can write <m>B - C = 200</m>. So we have the system of equations:
        <md>
          <mrow>\left\{
          \begin{aligned}
          A+B \amp = 1000 \\
          A-B \amp = 200
          \end{aligned}
          \right.</mrow>
        </md>
      </p>

      <p>
        We could solve this system using graphing or substitution, but here is a new method. If we
        add together the <em>left sides</em> from the two equations, it should equal the sum of the
        <em>right sides</em>:
        <md>
          <mrow>
            \begin{aligned}[t]B+C\\\underline{{}+B-C}\\2B\phantom{{}+C}\end{aligned}
            \amp\begin{aligned}[t]\\\\{}={}\end{aligned}
            \begin{aligned}[t]1000\\\underline{{}+200}\\1200\end{aligned}
          </mrow>
        </md>
      </p>

      <p>
        Note that the variable <m>C</m> is eliminated. This happened because the <q><m>{}+C</m></q>
        and the <q><m>{}-C</m></q> perfectly cancel each other out when they are added. With only
        one variable left, it doesn't take much effort to finish solving for <m>B</m>: <m>B=600</m>.
      </p>

      <p>
        To finish solving this system of equations, we still need the value of <m>C</m>. One easy
        way to find <m>C</m> is to substitute our value for <m>B</m> into one of the original
        equations:
        <md>
          <mrow>B+C\amp=1000</mrow>
          <mrow>\substitute{600}+C\amp=1000</mrow>
          <mrow>C\amp=400</mrow>
        </md>
        To check our work, substitute <m>B=600</m> and <m>C=400</m> into the original equations:
        <md>
          <mrow>B+C\amp=1000\amp B-C\amp=200</mrow>
          <mrow>\substitute{600}+\substitute{400}\amp\confirm{=}1000\amp \substitute{600}-\substitute{400}\amp\confirm{=}200</mrow>
        </md>
      </p>

      <p>
        This confirms that our solution is correct. In summary, Alicia should give <m>\$600</m> to
        Bobbie and <m>\$400</m> to Cedric.
      </p>
    </example>

    <p>
      This method for solving a system of equations worked because <m>C</m> and <m>-C</m> add to
      zero. Once the <m>C</m>-terms were eliminated we were able to solve for <m>B</m>. This method
      is called the <term>elimination method</term> or the <term>addition method</term>, because we
      <em>add</em> the corresponding sides from the two equations and that <em>eliminates</em> a
      variable.
    </p>

    <p>
      Most of the time, just adding the sides together does <em>not</em> eliminate one of the
      variables. We can still use this method, but it needs a little set up work first. Let's look
      at an example where we need to adjust one of the equations.
    </p>

    <example xml:id="example-system-of-equations-elimination-intro-scale-one-equation">
      <title>Scaling One Equation</title>
      <statement>
        <p>
          Solve the system of equations using the elimination method.
          <md>
            <mrow>\left\{
            \begin{alignedat}{4}
            3x\amp {}-{} \amp 4y \amp {}={} \amp 2 \\
            5x\amp {}+{} \amp 8y \amp {}={} \amp 18
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>
      </statement>
      <solution>
        <p>
          We want to see whether it will be easier to eliminate <m>x</m> or <m>y</m>. We see that
          the coefficients of <m>x</m> in each equation are <m>3</m> and <m>5</m>, and the
          coefficients of <m>y</m> are <m>-4</m> and <m>8</m>. Because <m>8</m> is a multiple of
          <m>4</m> and the coefficients already have opposite signs, the <m>y</m> variable will be
          easier to eliminate.
        </p>

        <p>
          To eliminate the <m>y</m> terms, first multiply each side of the first equation by
          <m>2</m>. Why? Because then the <m>y</m>-terms will be <m>8y</m> and <m>-8y</m>, so they
          can be added to eliminate <m>y</m>.
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            \multiplyleft{2}(3x\amp {}-{} \amp 4y) \amp {}={} \amp \multiplyleft{2}(2) \\
            5x\amp {}+{} \amp 8y \amp {}={} \amp 18
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            6x\amp {}-{} \amp 8y \amp {}={} \amp 4 \\
            5x\amp {}+{} \amp 8y \amp {}={} \amp 18
            \end{alignedat}
            \right.</mrow>
          </md>
          We now have an equivalent system of equations where the <m>y</m>-terms can be eliminated:
          <md>
            <mrow>
              \begin{aligned}[t]6x-8y\\\underline{{}+5x+8y}\\11x\phantom{{}+8y}\end{aligned}
              \amp\begin{aligned}[t]\\\\{}={}\end{aligned}
              \begin{aligned}[t]4\\\underline{{}+18}\\22\end{aligned}
            </mrow>
          </md>
          So we have <m>x=2</m>. To solve for <m>y</m>, one option is to substitute <m>2</m> in for
          <m>x</m> into either of the original equations. We use the first original equation,
          <m>3x-4y=2</m>:
          <md>
            <mrow>3x-4y\amp=2</mrow>
            <mrow>3(\substitute{2})-4y\amp=2</mrow>
            <mrow>6-4y\amp=2</mrow>
            <mrow>-4y\amp=-4</mrow>
            <mrow>y\amp=1</mrow>
          </md>
        </p>

        <p>
          We think the solution is <m>x=2</m> and <m>y=1</m>. We can check this using <em>both</em>
          of the original equations:
          <md>
            <mrow>5x+8y\amp=18\amp 3x-4y\amp=2</mrow>
            <mrow>5(\substitute{2})+8(\substitute{1})\amp\wonder{=}18\amp 3(\substitute{2})-4(\substitute{1})\amp\wonder{=}2</mrow>
            <mrow>10+8\amp\confirm{=}18\amp 6-4\amp\confirm{=}2</mrow>
          </md>
          So the solution to this system is <m>(2,1)</m> and the solution set is <m>\{(2,1)\}</m>.
        </p>
      </solution>
    </example>

    <exercise label="solve-system-using-elimination">
      <webwork xml:id="webwork-solve-system-using-elimination">
        <pg-code>
          $k = Compute(-3);
          Context("Fraction")->variables->are(x=>'Real',y=>'Real');
          parser::Assignment->Allow;
          $xis = Formula("x = 4/7");
          $yis = Formula("y = -23/14");
        </pg-code>
        <introduction>
          <p>
            Use elimination to solve the system.
            <md>
              <mrow>\left\{
              \begin{alignedat}{4}
              5x\amp+{}\amp 6y \amp={}\amp -7 \\
              4x\amp+{}\amp 2y \amp={}\amp -1
              \end{alignedat}
              \right.</mrow>
            </md>
          </p>
        </introduction>
        <task>
          <statement>
            <p>
              What number could you multiply by each term in the second equation that would be
              helpful?
            </p>
            <p>
              <var name="$k" width="16"/>
            </p>
          </statement>
          <solution>
            <p>
              If we multiply the second equation through by <m>-3</m> then the <m>y</m>-terms will
              be <m>6y</m> and <m>-6y</m>, and adding will eliminate <m>y</m>.
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              After multiplying the terms in the second equation by <m>-3</m> and adding the two
              equations together, solve for <m>x</m>.
            </p>
            <instruction>
              Enter the answer in the form <c>x = number</c>.
            </instruction>
            <p>
              <var name="$xis" width="16"/>
            </p>
          </statement>
          <solution>
            <p>
              <md>
                <mrow>\amp\left\{\begin{alignedat}{4}5x\amp+{}\amp 6y \amp={}\amp -7 \\\multiplyleft{-3}(4x\amp+{}\amp 2y) \amp={}\amp\multiplyleft{-3}(-1)\end{alignedat}\right.</mrow>
                <mrow></mrow>
                <mrow>\amp\left\{\underline{\begin{alignedat}{4}5x\amp+{}\amp 6y \amp={}\amp -7 \\-12x\amp-{}\amp 6y \amp={}\amp 3\end{alignedat}}
                \right.</mrow>
                <mrow>\amp\phantom{\Bigg\{}\begin{alignedat}{4}{-7}x\amp\phantom{{}+{}}\amp\phantom{6y}\amp=-4\\\phantom{-12x}\amp\amp x\amp=\frac{4}{7}\end{alignedat}</mrow>
              </md>
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              Now solve for <m>y</m> as well, by substituting <m>\frac{4}{7}</m> in for <m>x</m> in
              one of the original equations.
            </p>
            <instruction>
              Enter the answer in the form <c>y = number</c>.
            </instruction>
            <p>
              <var name="$yis" width="16"/>
            </p>
          </statement>
          <solution>
            <p>
              <md>
                <mrow>4x + 2y \amp= -1</mrow>
                <mrow>4\left(\substitute{\frac{4}{7}}\right) + 2y \amp= -1</mrow>
                <mrow>\frac{16}{7} + 2y \amp= -1</mrow>
                <mrow>\multiplyleft{7}\left(\frac{16}{7} + 2y\right) \amp= \multiplyleft{7}(-1)</mrow>
                <mrow>16 + 14y \amp= -7</mrow>
                <mrow>14y \amp= -23</mrow>
                <mrow>y \amp= -\frac{23}{14}</mrow>
              </md>
            </p>
          </solution>
        </task>
      </webwork>
    </exercise>

    <p>
      Here's an example where we have to scale <em>both</em> equations.
    </p>

    <example>
      <title>Scaling Both Equations</title>
      <statement>
        <p>
          Solve the system of equations using the elimination method.
          <md>
            <mrow>\left\{
            \begin{alignedat}{4}
            2x \amp {}+{} \amp  3y \amp {}={} \amp 10 \\
            -3x \amp {}+{} \amp  5y \amp {}={} \amp {-15}
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>
      </statement>
      <solution>
        <p>
          Considering the coefficients of <m>x</m> (<m>2</m> and <m>-3</m>) and the coefficients of
          <m>y</m> (<m>3</m> and <m>5</m>) we see that we cannot eliminate the <m>x</m> or the
          <m>y</m> variable by scaling a single equation. There's just no place where one coefficient
          divides the corresponding coefficient. But we can scale <em>both</em> equations.
        </p>

        <p>
          The <m>x</m>-terms already have opposite signs, so we choose to eliminate <m>x</m>. The
          least common multiple of <m>2</m> and <m>3</m> is <m>6</m>, so we can target turning the
          terms into <m>6x</m> and <m>-6x</m>. We can scale the first equation by <m>3</m> and the
          second equation by <m>2</m> so that the equations have terms <m>6x</m> and <m>-6x</m>,
          which will cancel when added.
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            \multiplyleft{3}(2x\amp {}+{} \amp 3y) \amp {}={}\amp \multiplyleft{3}(10) \\
            \multiplyleft{2}(-3x\amp {}+{} \amp 5y) \amp {}={}\amp \multiplyleft{2}(-15)
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \underline{\begin{alignedat}{4}
            6x\amp {}+{} \amp 9y \amp {}={} \amp 30 \\
            -6x\amp {}+{} \amp 10y \amp {}={} \amp {-30}
            \end{alignedat}}
            \right.</mrow>
            <mrow>\amp\phantom{\Bigg\{}\begin{alignedat}{4}\phantom{-6x}\amp \phantom{{}+{}} \amp 19y\amp=0\\\phantom{-6x}\amp \phantom{{}+{}} \amp y\amp=0\end{alignedat}</mrow>
          </md>
        </p>

        <p>
          To solve for <m>x</m>, we'll replace <m>y</m> with <m>0</m> in <m>2x+3y=10</m>:
          <md>
            <mrow>2x+3y\amp=10</mrow>
            <mrow>2x+3(\substitute{0})\amp=10</mrow>
            <mrow>2x\amp=10</mrow>
            <mrow>x\amp=5</mrow>
          </md>
        </p>

        <p>
          We'll check the system using <m>x=5</m> and <m>y=0</m> in each of the original equations:
          <md>
            <mrow>2x+3y\amp=10  \amp  {-3}x+5y\amp=-15</mrow>
            <mrow>2(\substitute{5})+3(\substitute{0})\amp\wonder{=}10  \amp  {-3}(\substitute{5})+5(\substitute{0})\amp\wonder{=}-15</mrow>
            <mrow>10+0\amp\confirm{=}10  \amp  {-15}+0\amp\confirm{=}-15</mrow>
          </md>
          So the system's solution is <m>(5,0)</m> and the solution set is <m>\{(5,0)\}</m>.
        </p>
      </solution>
    </example>

    <exercise label="solve-system-using-elimination-scale-both">
      <introduction>
        <p>
          Try a similar exercise.
        </p>
      </introduction>
      <webwork xml:id="webwork-solve-system-using-elimination-scale-both">
        <pg-code>
          $k = Compute(-3);
          Context("Fraction")->variables->are(x=>'Real',y=>'Real');
          parser::Assignment->Allow;
          $xis = Formula("x = -6");
          $yis = Formula("y = -2");
          $m = MultiAnswer(Real(5), Real(-3))->with(
            singleResult => 1,
            checker => sub {
              my ($c, $s, $self) = @_;
              return 1 if (
                $c->[0] == $s->[0] &amp;&amp; $c->[1] == $s->[1] ||
                $c->[1] == $s->[0] &amp;&amp; $c->[0] == $s->[1] ||
                Real(5) == $s->[0] &amp;&amp; Real(-4) == $s->[1] ||
                Real(-5) == $s->[0] &amp;&amp; Real(4) == $s->[1]
              );
              return 0;
            }
          );
        </pg-code>
        <introduction>
          <p>
            Use elimination to solve the system.
            <md>
              <mrow>\left\{
              \begin{alignedat}{4}
              3x\amp+{}\amp 4y \amp={}\amp {-26} \\
              5x\amp+{}\amp 5y \amp={}\amp {-40}
              \end{alignedat}
              \right.</mrow>
            </md>
          </p>
        </introduction>
        <task>
          <statement>
            <p>
              What numbers could you multiply each term in the first and second equations by that
              would be helpful?
            </p>
            <instruction>
              What could you multiply the terms in the first equation by?
            </instruction>
            <p>
              <var name="$m" width="16"/>
            </p>
            <instruction>
              What could you multiply the terms in the second equation by?
            </instruction>
            <p>
              <var name="$m" width="16"/>
            </p>
          </statement>
          <solution>
            <p>
              If we multiply the first equation through by <m>5</m> and the second equation through
              by <m>-3</m> then the <m>x</m>-terms will be <m>15x</m> and <m>-15x</m>, and adding
              will eliminate <m>x</m>.
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              After multiplying the terms in the first by <m>5</m> and the terms in the second
              equation by <m>-3</m>, and adding the two
              equations together, solve for <m>y</m>.
            </p>
            <instruction>
              Enter the answer in the form <c>y = number</c>.
            </instruction>
            <p>
              <var name="$yis" width="16"/>
            </p>
          </statement>
          <solution>
            <p>
              <md>
                <mrow>\amp\left\{\begin{alignedat}{4}\multiplyleft{5}(3x\amp+{}\amp 4y) \amp={}\amp \multiplyleft{5}(-26) \\\multiplyleft{-3}(5x\amp+{}\amp 5y) \amp={}\amp\multiplyleft{-3}(-40)\end{alignedat}\right.</mrow>
                <mrow></mrow>
                <mrow>\amp\left\{\underline{\begin{alignedat}{4}15x\amp+{}\amp 20y \amp={}\amp {-130} \\-15x\amp-{}\amp 15y \amp={}\amp 120\end{alignedat}}\right.</mrow>
                <mrow>\amp\phantom{\Bigg\{}\begin{alignedat}{4}\phantom{-15x-{}}\amp\amp\phantom{1}5y\amp=-10\\\amp\amp y\amp =-2\end{alignedat}</mrow>
              </md>
            </p>
          </solution>
        </task>
        <task>
          <statement>
            <p>
              Now solve for <m>x</m> as well, by substituting <m>-2</m> in for <m>y</m> in one of
              the original equations.
            </p>
            <instruction>
              Enter the answer in the form <c>x = number</c>.
            </instruction>
            <p>
              <var name="$xis" width="16"/>
            </p>
          </statement>
          <solution>
            <p>
              <md>
                <mrow>3x + 4y \amp= -26</mrow>
                <mrow>3x + 4(\substitute{-2}) \amp= -26</mrow>
                <mrow>3x - 8 \amp= -26</mrow>
                <mrow>3x \amp= -18</mrow>
                <mrow>x \amp= -6</mrow>
              </md>
            </p>
          </solution>
        </task>
      </webwork>
    </exercise>

    <example>                                                                                                 <idx><h>Systems of linear equations</h><h>applications</h></idx>
      <title>Meal Planning</title>
      <statement>
        <p>
          Javed is on a meal plan where his breakfast needs to have <m>600</m> calories and
          <m>20</m> grams of fat. A small avocado contains <m>300</m> calories and <m>30</m> grams
          of fat. He has bagels with <m>400</m> calories and <m>8</m> grams of fat. Write and solve
          a system of equations to determine how much bagel and how much avocado Javed could eat to
          meet his target calories and fat.
        </p>
      </statement>
      <solution>
        <p>
          To write this system of equations, we first need to define our variables. Let <m>A</m> be
          the number of avocados consumed and let <m>B</m> be the number of bagels consumed. (In the
          end, both <m>A</m> and <m>B</m> might be fractions.) For our first equation, we can count
          calories contributed from eating <m>A</m> avocados and <m>B</m> bagels:
          <me>
            \left(300\,\tfrac{\text{calories}}{\text{avocado}}\right)(A\,\text{avocados})+\left(400\,\tfrac{\text{calories}}{\text{bagels}}\right)(B\,\text{bagel})=600\,\text{calories}
          </me>
          Or, without the units: <m>300A + 400B = 600</m>. For a second equation, we can count the
          grams of fat:
          <me>
            \left(30\,\tfrac{\text{g fat}}{\text{avocado}}\right)(A\,\text{avocados})+\left(8\,\tfrac{\text{g fat}}{\text{bagels}}\right)(B\,\text{bagel})=20\,\text{g fat}
          </me>
          Or, without the units: <m>30A + 8B = 20</m>. So the system of equations is:
          <md>
            <mrow>\left\{
            \begin{alignedat}{4}
            300A \amp {}+{} \amp  400B \amp {}={} \amp 600 \\
            30A \amp {}+{} \amp  8B \amp {}={} \amp 20
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>

        <p>
          Since none of the coefficients are equal to <m>1</m>, it may be easier to use the
          elimination method to solve this system than it would be to use substitution.
          Looking at the terms <m>300A</m> and <m>30A</m>, we can eliminate the <m>A</m> variable if
          we multiply the second equation by <m>-10</m> to get the term <m>-300A</m>:
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            300A \amp {}+{} \amp 400B \amp {}={} 600 \\
            \multiplyleft{-10}(30A \amp {}+{} \amp 8B) \amp {}={} \multiplyleft{-10}(20)
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{\begin{alignedat}{4}300A \amp {}+{} \amp 400B \amp {}={}\amp 600 \\-300A \amp {}+{} \amp (-80B) \amp {}={}\amp {-200}\end{alignedat}\right.</mrow>
          </md>
          When we add the corresponding sides from the two equations together we have:
          <md>
            <mrow>320B\amp=400</mrow>
            <mrow>\divideunder{320B}{320}\amp=\divideunder{400}{320}</mrow>
            <mrow>B\amp=\frac{5}{4}</mrow>
          </md>
        </p>

        <p>
          Now we know that Javed should eat <m>\frac{5}{4}</m> of a bagel (or one and one-quarter
          bagels). To determine how much avocados he should eat, we can substitute
          <m>\frac{5}{4}</m> in for <m>B</m> in either of our original equations.
          <md>
            <mrow>300A+400B\amp=600</mrow>
            <mrow>300A+400\left(\substitute{\frac{5}{4}}\right)\amp=600</mrow>
            <mrow>300A+500\amp=600</mrow>
            <mrow>300A\amp=100</mrow>
            <mrow>\divideunder{300A}{300}\amp=\divideunder{100}{300}</mrow>
            <mrow>A\amp=\frac{1}{3}</mrow>
          </md>
        </p>

        <p>
          We think the solution is <m>A=\frac13</m>, <m>B=\frac54</m>. To check this, see if these
          numbers work as solutions in the original equations:
          <md>
            <mrow>300A+400B\amp=600\amp 30A+8B\amp=20</mrow>
            <mrow>300\left(\substitute{\frac{1}{3}}\right)+400\left(\substitute{\frac{5}{4}}\right)\amp\wonder{=}600\amp30\left(\substitute{\frac{1}{3}}\right)+8\left(\substitute{\frac{5}{4}}\right)\amp\wonder{=}20</mrow>
            <mrow>100+500\amp\confirm{=}600\amp10+10\amp\confirm{=}20</mrow>
          </md>
        </p>

        <p>
          In summary, Javed can eat <m>\frac{5}{4}</m> of a bagel (so one and one-quarter bagel)
          and <m>\frac{1}{3}</m> of an avocado in order to consume exactly <m>600</m> calories and
          <m>20</m> grams of fat.
        </p>
      </solution>
    </example>

    <p>
      For summary reference, here is the general procedure.
    </p>

    <algorithm xml:id="algorithm-solving-systems-of-equations-by-elimination">
      <title>Solving Systems of Equations by Elimination</title>                                              <idx><h>Systems of linear equations</h><h>solved by elimination</h></idx>
      <p>
        To solve a system of equations by elimination,
        <ol>
          <li>
            <p>
              Algebraically manipulate both equations into standard form if they are not already
              that way.
            </p>
          </li>
          <li>
            <p>
              Scale one or both of the equations to force one of the variables to have equal but
              opposite coefficients in the two equations.
            </p>
          </li>
          <li>
            <p>
              Add the corresponding sides of the two equations together, which should have the
              effect that one variable is eliminated entirely.
            </p>
          </li>
          <li>
            <p>
              Solve the resulting equation for the one remaining variable.
            </p>
          </li>
          <li>
            <p>
              Substitute that value into either of the original equations to find the other
              variable.
            </p>
          </li>
          <li>
            <p>
              Verify your solution using the original two equations.
            </p>
          </li>
        </ol>
      </p>
    </algorithm>
  </subsection>

  <subsection>
    <title>Solving Special Systems of Equations with Elimination</title>
    <p>
      Remember the two special cases for a system of two linear equations? In
      <xref ref="subsection-special-systems-of-equations"/>, we learned how such systems have lines
      that are parallel when graphed. If you are using the substitution method, we learned in
      <xref ref="subsection-special-systems-of-equations-substitution"/> that after you make the
      substitution and simplify, you get an equation that is either outright true or outright false.
    </p>

    <p>
      With these systems, what happens when you use the elimination method? Let's see.
    </p>

    <example>
      <title>A System with Infinitely Many Solutions</title>                                                  <idx><h>Systems of linear equations</h><h>with infinitely many solutions</h></idx>
      <statement>
        <p>
          Solve the system of equations using the elimination method.
          <md>
            <mrow>\left\{
            \begin{alignedat}{4}
            3x \amp {}+{} \amp  4y \amp {}={} \amp 5 \\
            6x \amp {}+{} \amp  8y \amp {}={} \amp 10
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>
      </statement>
      <solution>
        <p>
          To eliminate the <m>x</m>-terms, we multiply each term in the first equation by <m>-2</m>,
          and we have:
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            \multiplyleft{-2}(3x \amp {}+{} \amp  4y) \amp {}={} \amp \multiplyleft{-2}5 \\
            6x \amp {}+{} \amp  8y \amp {}={} \amp 10
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            -6x \amp {}-{} \amp 8y \amp {}={}\amp {-10} \\
            6x \amp {}+{} \amp  8y \amp {}={} \amp 10
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>

        <p>
          You might notice that the equations look very similar. Adding the respective sides of the
          equation, we have:
          <me>
            0=0
          </me>
        </p>

        <p>
          Not just one, but <em>both</em> of the variables have been eliminated. This is not giving
          us any restrictions on what <m>x</m>- and <m>y</m>-values would solve this system. The two
          equations were essentially the same, after scaling them. So they represent the same line,
          and the solution set contains all pairs <m>(x,y)</m> that lie on that line. We can write
          the solution set as <m>\{(x,y)\mid 3x+4y=5\}</m>.
        </p>
      </solution>
    </example>

    <example>
      <title>A System with No Solution</title>                                                                <idx><h>Systems of linear equations</h><h>with no solution</h></idx>
      <statement>
        <p>
          Solve the system of equations using the elimination method.
          <md>
            <mrow>\left\{
            \begin{alignedat}{4}
            10x \amp {}+{} \amp  6y \amp {}={} \amp 9 \\
            25x \amp {}+{} \amp  15y \amp {}={} \amp 4
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>
      </statement>
      <solution>
        <p>
          To eliminate the <m>x</m>-terms, we will scale the first equation by <m>-5</m> and the
          second by <m>2</m>:
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            \multiplyleft{-5}(10x\amp {}+{} \amp 6y) \amp {}={}\amp \multiplyleft{-5}(9) \\
            \multiplyleft{2}(25x\amp {}+{} \amp 15y) \amp {}={}\amp \multiplyleft{2}(4)
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            -50x\amp {}-{} \amp 30y \amp {}={} \amp {-45} \\
            50x\amp {}+{} \amp 30y \amp {}={} \amp 8
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>

        <p>
          Adding the respective sides of the equation, we have:
          <me>
            0=-37
          </me>
          Again, not just one, but <em>both</em> of the variables have been eliminated. In this
          case, the statement <m>0=-37</m> is outright false no matter what <m>x</m> and <m>y</m>
          are. So the system has no solution.
        </p>
      </solution>
    </example>
  </subsection>

  <subsection>
    <title>Substitution versus Elimination</title>
    <p>
      In every example so far from this section, both equations were in standard form,
      <m>Ax+By=C</m>. And all of the coefficients were integers. If none of the coefficients are
      equal to <m>1</m> then it is usually easier to use the elimination method, because otherwise
      you will probably have some fraction arithmetic to do in the middle of the substitution
      method. If there <em>is</em> a coefficient of <m>1</m>, then it's a matter of preference.
      When one of the coefficients is <m>1</m>, it's not so bad to isolate that variable and make
      a substitution.
    </p>

    <example xml:id="example-solving-system-of-equations-student-demographics">                               <idx><h>Systems of linear equations</h><h>applications</h></idx>
      <statement>
        <p>
          A college used to have a north campus with <m>6000</m> students and a south campus with
          <m>15{,}000</m> students. The percentage of students at the north campus who self-identify
          as LGBTQ was three times the percentage at the south campus. After the merge, <m>5.5\%</m>
          of students identify as LGBTQ. What percentage of students on each campus identified as
          LGBTQ before the merge?
        </p>
      </statement>
      <solution>
        <p>
          We will define <m>N</m> as the percentage (as a decimal) of students at the north campus
          and <m>S</m> as the percentage (as a decimal) of students at the south campus that
          identified as LGBTQ. Since the percentage of students at the north campus was three times
          the percentage at the south campus, we have one equation:
          <me>
            N=3S
          </me>
          For a second equation, we will count LGBTQ students at the various campuses. At the north
          campus, multiply the population, <m>6000</m>, by the percentage <m>N</m> to get
          <m>6000N</m>. This represents be the actual count of LGBTQ students at that campus.
          Similarly, the south campus had <m>15000S</m> LGBTQ students, and the combined school has
          <m>21000(0.055)=1155</m>. When we combine the two campuses, we have:
          <me>
            6000N + 15000S = 1155
          </me>
          So we have a system of two equations:
          <me>
            \left\{
            \begin{aligned}
            N\amp=3S \\
            6000N+15000S\amp=1155
            \end{aligned}
            \right.
          </me>
        </p>

        <p>
          Because the first equation already has <m>N</m> isolated, this is a good time to
          <em>not</em> use the elimination method. We can directly substitute <m>3S</m> in for
          <m>N</m> in our second equation and solve for <m>S</m>:
          <md>
            <mrow>6000N+15000S\amp=1155</mrow>
            <mrow>6000(\substitute{3S})+15000S\amp=1155</mrow>
            <mrow>18000S+15000S\amp=1155</mrow>
            <mrow>33000S\amp=1155</mrow>
            <mrow>\divideunder{33000S}{33000}\amp=\divideunder{1155}{33000}</mrow>
            <mrow>S\amp=0.035</mrow>
          </md>
        </p>

        <p>
          And then we can determine <m>N</m> using the first equation:
          <md>
            <mrow>N\amp=3S</mrow>
            <mrow>N\amp=3(0.035)</mrow>
            <mrow>N\amp=0.105</mrow>
          </md>
        </p>

        <p>
          So before the merge, <m>10.5\%</m> of the north campus students self-identified as LGBTQ
          and <m>3.5\%</m> of the south campus students self-identified as LGBTQ.
        </p>
      </solution>
    </example>

    <p>
      If you need to solve a system, and one of the equations is not in standard form, substitution
      may be easier. But you also may find it easier to convert the equations into standard form
      and use elimination. Additionally, if the system's coefficients are fractions or decimals, it
      can help to take one step where you clear denominators and/or decimal points and then decide
      which technique you would like to use.
    </p>

    <example>
      <statement>
        <p>
          Solve the system of equations using the method of your choice.
          <md>
            <mrow>\left\{
            \begin{aligned}
            -\frac{1}{3}y\amp = \frac{1}{15}x + \frac{1}{5} \\
            \frac{5}{2}x-y\amp = 6
            \end{aligned}
            \right.</mrow>
          </md>
        </p>
      </statement>
      <solution>
        <p>
          First, we can clear the denominators by using the least common multiple of the
          denominators in each equation, similarly to in
          <xref ref="section-linear-equations-and-inequalities-with-fractions"/>. We have:
          <md>
            <mrow>\amp\left\{
            \begin{aligned}
            \multiplyleft{15}{-\frac{1}{3}y} \amp = \multiplyleft{15}\left(\frac{1}{15}x + \frac{1}{5}\right) \\
            \multiplyleft{2}\left(\frac{5}{2}x-y\right) \amp = \multiplyleft{2}(6)
            \end{aligned}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \begin{aligned}
            -5y \amp = x+3 \\
            5x-2y \amp = 12
            \end{aligned}
            \right.</mrow>
          </md>
        </p>

        <p>
          We could convert the first equation into standard form by subtracting <m>x</m> from
          both sides, and then use elimination.
          <md>
            <mrow>\amp\left\{
            \begin{aligned}
            -x-5y \amp = 3 \\
            5x-2y \amp = 12
            \end{aligned}
            \right.</mrow>
          </md>
          Alternatively, since the <m>x</m>-variable in the first equation has coefficient <m>1</m>,
          you might prefer the substitution method. Isolating <m>x</m> gives us <m>x=-5y-3</m>, and
          we could substitute that in to the second equation. It's really up to you. As an exercise,
          try it both ways. Hopefully you get the same solution either way, and you can reflect on
          which method feels more comfortable to you.
        </p>
      </solution>
    </example>

    <p>
      This next example is an application exercise with decimal coefficients, and it demonstrates
      how you might clear decimals, similarly to clearing denominators.
    </p>

    <example>                                                                                                 <idx><h>Systems of linear equations</h><h>applications</h></idx>
      <statement>
        <p>
          A penny is made from copper and zinc. A chemistry reference says copper has a density of
          <quantity><mag>9</mag><unit base="gram"/><per prefix="centi" base="meter" exp="3"/></quantity>
          and zinc has a density of <quantity><mag>7.1</mag><unit base="gram"/><per prefix="centi" base="meter" exp="3"/></quantity>.
          A penny's mass is <quantity><mag>2.5</mag><unit base="gram"/></quantity> and its volume is
          <quantity><mag>0.35</mag><unit prefix="centi" base="meter" exp="3"/></quantity>. How many
          <quantity><unit prefix="centi" base="meter" exp="3"/></quantity> each of copper and zinc
          go into one penny?
        </p>
      </statement>
      <solution>
        <p>
          Let <m>C</m> be the volume of copper and <m>Z</m> be the volume of zinc in one penny,
          both measured in <quantity><unit prefix="centi" base="meter" exp="3"/></quantity>. Since
          the total volume is <quantity> <mag>0.35</mag><unit prefix="centi" base="meter" exp="3"/>
          </quantity>, one equation is:
          <me>
            \left(C\,\text{cm}^3\right) + \left(Z\,\text{cm}^3\right) = 0.35\,\text{cm}^3
          </me>
          Or without units: <m>C + Z = 0.35</m>.
        </p>

        <p>
          For a second equation, we will examine the masses of copper and zinc. Since copper has a
          density of <quantity><mag>9</mag><unit base="gram"/>
          <per prefix="centi" base="meter" exp="3"/></quantity> and we are using <m>C</m> to
          represent the volume of copper, the mass of copper in one penny is <m>9C</m>. Similarly,
          the mass of zinc is <m>7.1Z</m>. Since the total mass is <quantity><mag>2.5</mag>
          <unit base="gram"/></quantity>, we have the equation:
          <me>
            \left(9\,\tfrac{\text{g}}{\text{cm}^3}\right)\left(C\,\text{cm}^3\right) + \left(7.1\,\tfrac{\text{g}}{\text{cm}^3}\right)\left(Z\,\text{cm}^3\right) = 2.5\,\text{g}
          </me>
          Or without units: <m>9C + 7.1Z = 2.5</m>.
        </p>

        <p>
          So we have a system of equations:
          <md>
            <mrow>\left\{
            \begin{alignedat}{4}
            C \amp {}+{} \amp Z \amp {}={} \amp0.35 \\
            9C \amp {}+{} \amp 7.1Z \amp {}={} \amp2.5
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>

        <p>
          We can eliminate the decimals by multiplying by the appropriate power of <m>10</m>. If
          each term in the first equation is multiplied by <m>100</m>, and each term in the second
          equation is multiplied by <m>10</m>, there are no more decimal points.
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            \multiplyleft{100}(C \amp {}+{} \amp Z) \amp {}={} \amp\multiplyleft{100}(0.35) \\
            \multiplyleft{10}(9C \amp {}+{} \amp 7.1Z) \amp {}={} \amp\multiplyleft{10}(2.5)
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            100C \amp {}+{} 100Z \amp {}={} \amp 35\\
            90C \amp {}+{} 71Z \amp {}={} \amp 25
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>

        <p>
          Now to set up elimination, scale each equation again to eliminate <m>C</m>:
          <md>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            \multiplyleft{9}(100C \amp {}+{} \amp 100Z) \amp {}={} \amp\multiplyleft{9}(35) \\
            \multiplyleft{-10}(90C \amp {}+{} \amp 71Z) \amp {}={} \amp\multiplyleft{-10}(25)
            \end{alignedat}
            \right.</mrow>
            <mrow/>
            <mrow>\amp\left\{
            \begin{alignedat}{4}
            900C \amp {}+{} 900Z \amp {}={} \amp 315\\
            -900C \amp {}-{} 710Z \amp {}={} \amp {-250}
            \end{alignedat}
            \right.</mrow>
          </md>
        </p>

        <p>
          Adding the corresponding sides from the two equations gives
          <me>
            190Z=65
          </me>,
          from which we find <m>Z=\frac{65}{190}\approx0.342</m>. So there is about <quantity>
          <mag>0.342</mag><unit prefix="centi" base="meter" exp="3"/></quantity> of zinc in a penny.
        </p>

        <p>
          To solve for <m>C</m>, we can use one of the original equations:
          <md>
            <mrow>C + Z\amp=0.35</mrow>
            <mrow>C + \substitute{0.342}\amp\approx0.35</mrow>
            <mrow>C\amp\approx0.008</mrow>
          </md>
        </p>

        <p>
          Therefore there is about <quantity><mag>0.342</mag>
          <unit prefix="centi" base="meter" exp="3"/></quantity> of zinc and <quantity>
          <mag>0.008</mag><unit prefix="centi" base="meter" exp="3"/></quantity> of copper in a penny.
        </p>
      </solution>
    </example>

    <p>
      If a variable in a system is already isolated in one of the equations, or has a coefficient of
      <m>1</m>, consider using the substitution method. If both equations are in standard form or
      none of the coefficients are equal to <m>1</m>, we suggest using the elimination method.
      Either way, if you have fraction or decimal coefficients, it may help to scale your equations
      so that only integer coefficients remain.
    </p>
  </subsection>

  <reading-questions>
    <exercise>
      <statement>
        <p>
          What is another name for the <q>elimination method</q>?
        </p>
      </statement>
      <response/>
    </exercise>
    <exercise>
      <statement>
        <p>
          To use the elimination method, usually the first step is to <fillin characters="10"/> at
          least one equation.
        </p>
      </statement>
      <response/>
    </exercise>
    <exercise>
      <statement>
        <p>
          Describe a good situation to use the substitution method instead of the elimination method
          for solving a system of two linear equations in two variables.
        </p>
      </statement>
      <response/>
    </exercise>
  </reading-questions>

  <exercises>
    <subexercises>
      <title>Review and Warmup</title>
      <!-- TODO: put exercises here that assk for finding the LCM of two integers. These will likely
      be copiess from the basic math appendix where fraction addition is covered. -->
      <!-- tODO: exercies from chaptere 2 where you clear denominators -->
    </subexercises>

    <subexercises>
      <title>Skills Practice</title>
      <exercisegroup cols="2">
        <introduction>
          <p>
            Solve the system of equations using elimination.
          </p>
        </introduction>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-ready-to-add">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-standard-ready-to-add">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = -$A[1]};
                if ($roll == 1) {$A[1] = -$A[0]};
                if ($roll == 2) {$B[0] = -$B[1]};
                if ($roll == 3) {$B[1] = -$B[0]};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-ready-to-add-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-standard-ready-to-add"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-with-one">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-standard-with-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = list_random(-1,1)};
                if ($roll == 1) {$A[1] = list_random(-1,1)};
                if ($roll == 2) {$B[0] = list_random(-1,1)};
                if ($roll == 3) {$B[1] = list_random(-1,1)};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-with-one-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-standard-with-one"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-scale-one">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-standard-scale-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = $A[1]*random(2,5)};
                if ($roll == 1) {$A[1] = $A[0]*random(2,5)};
                if ($roll == 2) {$B[0] = $B[1]*random(2,5)};
                if ($roll == 3) {$B[1] = $B[0]*random(2,5)};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-scale-one-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-standard-scale-one"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-scale-both">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-standard-scale-both">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-2, 2..5)[NchooseK(8,2)];
                @B = (-5..-2, 2..5)[NchooseK(8,2)];
              } until ($A[0]*$B[1] != $A[1]*$B[0] &amp;&amp; $A[0] % $A[1] != 0 &amp;&amp; $A[1] % $A[0] != 0 &amp;&amp; $B[0] % $B[1] != 0 &amp;&amp; $B[1] % $B[0] != 0);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-scale-both-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-standard-scale-both"/>
        </exercise>
        <exercise label="elimination-no-solution-integer-coefficients-standard-form-with-one">
          <webwork xml:id="webwork-elimination-no-solution-integer-coefficients-standard-form-with-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($A[0], $B[0], $C[0]) = (-9..-2,2..9)[NchooseK(16,3)];
              $roll = random(0,1);
              if ($roll == 0) {$A[0] = list_random(-1,1)};
              if ($roll == 1) {$B[0] = list_random(-1,1)};
              $k = list_random(-4..-2,2..4);
              $A[1] = $A[0]*$k;
              $B[1] = $B[0]*$k;
              do {
                $C[1] = list_random(-9..-2,2..9)
              } until ($C[1] != $C[0]*$k);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $solution = Compute("no solutions");
              $answer = $solution->cmp(
                typeMatch => List("$X = 0, $Y = 0"),
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-no-solution-integer-coefficients-standard-form-with-one-copy">
          <webwork copy="webwork-elimination-no-solution-integer-coefficients-standard-form-with-one"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-negate-then-ready-to-add">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-standard-negate-then-ready-to-add">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = $A[1]};
                if ($roll == 1) {$A[1] = $A[0]};
                if ($roll == 2) {$B[0] = $B[1]};
                if ($roll == 3) {$B[1] = $B[0]};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-standard-negate-then-ready-to-add-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-standard-negate-then-ready-to-add"/>
        </exercise>
        <exercise label="elimination-fraction-solutions-integer-coefficients-standard-with-one">
          <webwork xml:id="webwork-elimination-fraction-solutions-integer-coefficients-standard-with-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              do {
                @A = (-9..-1, 1..9)[NchooseK(19,2)];
                @B = (-9..-1, 1..9)[NchooseK(19,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = list_random(-1,1)};
                if ($roll == 1) {$A[1] = list_random(-1,1)};
                if ($roll == 2) {$B[0] = list_random(-1,1)};
                if ($roll == 3) {$B[1] = list_random(-1,1)};
              } until (abs($A[0]*$B[1] - $A[1]*$B[0]) > 1 &amp;&amp; abs($A[0]*$B[1] - $A[1]*$B[0]) &lt; 10);
              @C = (-9..-1, 1..9)[NchooseK(18,2)];
              Context("Fraction")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              parser::Assignment->Allow;
              $x = Fraction(($B[1]*$C[0] - $B[0]*$C[1])/($A[0]*$B[1] - $A[1]*$B[0]));
              $y = Fraction((-$A[1]*$C[0] + $A[0]*$C[1])/($A[0]*$B[1] - $A[1]*$B[0]));
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-fraction-solutions-integer-coefficients-standard-with-one-copy">
          <webwork copy="webwork-elimination-fraction-solutions-integer-coefficients-standard-with-one"/>
        </exercise>
        <exercise label="elimination-fraction-solutions-integer-coefficients-standard">
          <webwork xml:id="webwork-elimination-fraction-solutions-integer-coefficients-standard">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              do {
                @A = (-9..-2, 2..9)[NchooseK(19,2)];
                @B = (-9..-2, 2..9)[NchooseK(19,2)];
              } until (abs($A[0]*$B[1] - $A[1]*$B[0]) > 1 &amp;&amp; abs($A[0]*$B[1] - $A[1]*$B[0]) &lt; 10);
              @C = (-9..-1, 1..9)[NchooseK(18,2)];
              Context("Fraction")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              parser::Assignment->Allow;
              $x = Fraction(($B[1]*$C[0] - $B[0]*$C[1])/($A[0]*$B[1] - $A[1]*$B[0]));
              $y = Fraction((-$A[1]*$C[0] + $A[0]*$C[1])/($A[0]*$B[1] - $A[1]*$B[0]));
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-fraction-solutions-integer-coefficients-standard-copy">
          <webwork copy="webwork-elimination-fraction-solutions-integer-coefficients-standard"/>
        </exercise>
        <exercise label="elimination-decimal-coefficients-standard-with-one">
          <webwork xml:id="webwork-elimination-decimal-coefficients-standard-with-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              do {
                $A[0] = list_random(1..10, 12, 14..16, 18, 24, 27, 28)/10 * list_random(-1,1);
                $A[1] = list_random(1..10, 12, 14..16, 18, 24, 27, 28)/10 * list_random(-1,1);
                $B[0] = list_random(1..10, 12, 14..16, 18, 24, 27, 28)/10 * list_random(-1,1);
                $B[1] = list_random(1..10, 12, 14..16, 18, 24, 27, 28)/10 * list_random(-1,1);
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = list_random(-1,1)};
                if ($roll == 1) {$A[1] = list_random(-1,1)};
                if ($roll == 2) {$B[0] = list_random(-1,1)};
                if ($roll == 3) {$B[1] = list_random(-1,1)};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              $C[0] = non_zero_random(-8,8,0.1);
              $C[1] = non_zero_random(-8,8,0.1);
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")} (0,1);
              $x = Real(($B[1]*$C[0] - $B[0]*$C[1])/($A[0]*$B[1] - $A[1]*$B[0]));
              $y = Real((-$A[1]*$C[0] + $A[0]*$C[1])/($A[0]*$B[1] - $A[1]*$B[0]));
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-decimal-coefficients-standard-with-one-copy">
          <webwork copy="webwork-elimination-decimal-coefficients-standard-with-one"/>
        </exercise>
        <exercise label="elimination-fraction-coefficients-standard">
          <webwork xml:id="webwork-elimination-fraction-coefficients-standard">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("Fraction")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              parser::Assignment->Allow;
              do {
                do {
                    $A[0] = Fraction(random_coprime([1..5],[2..6]));
                    $A[1] = Fraction(random_coprime([1..5],[2..6]));
                    $B[0] = Fraction(random_coprime([-5..-1,1..5],[2..6]));
                    $B[1] = Fraction(random_coprime([-5..-1,1..5],[2..6]));
                    $roll = random(0,3);
                    $A[0] = 1 if ($roll == 0);
                    $A[1] = 1 if ($roll == 1);
                    $B[0] = list_random(-1,1) if ($roll == 2);
                    $B[1] = list_random(-1,1) if ($roll == 3);
                    $D = $A[0]*$B[1] - $A[1]*$B[0];
                } until ($D != 0);
                @C = map{Fraction(random_coprime([-5..-1,1..5],[2..6]))} (0,1);
                $x = Fraction(( $B[1]*$C[0] - $B[0]*$C[1])/$D);
                $y = Fraction((-$A[1]*$C[0] + $B[1]*$C[1])/$D);
              } until (($x->value)[1] &lt;= 50 &amp;&amp; ($y->value)[1] &lt;= 50);
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")->reduce} (0,1);
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-fraction-coefficients-standard-copy">
          <webwork copy="webwork-elimination-fraction-coefficients-standard"/>
        </exercise>
        <exercise label="elimination-infinite-solutions-fraction-coefficients-standard">
          <webwork xml:id="webwork-elimination-infinite-solutions-fraction-coefficients-standard">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("Fraction")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              parser::Assignment->Allow;
              $A[0] = Fraction(random_coprime([1..5],[2..6]));
              $B[0] = Fraction(random_coprime([-5..-1,1..5],[2..6]));
              $A[1] = Fraction(random_coprime([1..5],[2..6]));
              $B[1] = $B[0]*$A[1]/$A[0];
              $C[0] = Fraction(random_coprime([-5..-1,1..5],[2..6]));
              $C[1] = $C[0]*$A[1]/$A[0];
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $solution = Compute("infinitely many solutions");
              $answer = $solution->cmp(
                typeMatch => List("$X = 0, $Y = 0"),
                mathQuillOpts => 'disabled'
              );
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")->reduce} (0,1);
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-infinite-solutions-fraction-coefficients-standard-copy">
          <webwork copy="webwork-elimination-infinite-solutions-fraction-coefficients-standard"/>
        </exercise>
        <exercise label="elimination-no-solution-fraction-coefficients-standard">
          <webwork xml:id="webwork-elimination-no-solution-fraction-coefficients-standard">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("Fraction")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              parser::Assignment->Allow;
              $A[0] = Fraction(random_coprime([1..5],[2..6]));
              $B[0] = Fraction(random_coprime([-5..-1,1..5],[2..6]));
              $A[1] = Fraction(random_coprime([1..5],[2..6]));
              $B[1] = $B[0]*$A[1]/$A[0];
              do {
                @C = map{Fraction(random_coprime([-5..-1,1..5],[2..6]))} (0,1)
              } until ($C[1] != $C[0]*$A[1]/$A[0]);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $solution = Compute("no solutions");
              $answer = $solution->cmp(
                typeMatch => List("$X = 0, $Y = 0"),
                mathQuillOpts => 'disabled'
              );
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              @f = map{Formula("$A[$_] $X + $B[$_] $Y = $C[$_]")->reduce} (0,1);
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-no-solution-fraction-coefficients-standard-copy">
          <webwork copy="webwork-elimination-no-solution-fraction-coefficients-standard"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-shuffled-ready-to-add">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-shuffled-ready-to-add">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = -$A[1]};
                if ($roll == 1) {$A[1] = -$A[0]};
                if ($roll == 2) {$B[0] = -$B[1]};
                if ($roll == 3) {$B[1] = -$B[0]};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              $f[0] = Formula("$B[0] $Y + $A[0] $X = $C[0]");
              $f[1] = Formula("$A[1] $X + $B[1] $Y = $C[1]");
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-shuffled-ready-to-add-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-shuffled-ready-to-add"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-shuffled-with-one">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-shuffled-with-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = list_random(-1,1)};
                if ($roll == 1) {$A[1] = list_random(-1,1)};
                if ($roll == 2) {$B[0] = list_random(-1,1)};
                if ($roll == 3) {$B[1] = list_random(-1,1)};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              $f[0] = Formula("$A[0] $X= $C[0] - $B[0] $Y ");
              $f[1] = Formula("$B[1] $Y = -$A[1] $X + $C[1]");
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-shuffled-with-one-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-shuffled-with-one"/>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-shuffled-scale-one">
          <webwork xml:id="webwork-elimination-integer-solutions-integer-coefficients-shuffled-scale-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($x, $y) = (-7..-1, 1..7)[NchooseK(14,2)];
              do {
                @A = (-5..-1, 1..5)[NchooseK(10,2)];
                @B = (-5..-1, 1..5)[NchooseK(10,2)];
                $roll = random(0,3);
                if ($roll == 0) {$A[0] = $A[1]*random(2,5)};
                if ($roll == 1) {$A[1] = $A[0]*random(2,5)};
                if ($roll == 2) {$B[0] = $B[1]*random(2,5)};
                if ($roll == 3) {$B[1] = $B[0]*random(2,5)};
              } until ($A[0]*$B[1] != $A[1]*$B[0]);
              @C = map{$A[$_]*$x + $B[$_]*$y} (0,1);
              $f[0] = Formula("$A[0] $X + $C[1] $Y = $C[0] + ($C[1]- $B[0]) $Y ");
              $f[1] = Formula("($A[1] + $A[0]) $X + $B[1] $Y = $A[0] $X + $C[1]");
              $xis = Formula("$X = $x");
              $yis = Formula("$Y = $y");
              $solution = List($xis,$yis);
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $answer = $solution->cmp(
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-integer-solutions-integer-coefficients-shuffled-scale-one-copy">
          <webwork copy="webwork-elimination-integer-solutions-integer-coefficients-shuffled-scale-one"/>
        </exercise>
        <exercise label="elimination-infinite-solutions-integer-coefficients-shuffled-form-with-one">
          <webwork xml:id="webwork-elimination-infinite-solutions-integer-coefficients-shuffled-form-with-one">
            <pg-macros>
              <macro-file>parserLinearRelation.pl</macro-file>
            </pg-macros>
            <pg-code>
              ($X, $Y) = ('a'..'n','p'..'z','A'..'N','P'..'T','V'..'Z')[NchooseK(49,2)];
              Context("LinearRelation")->variables->are($X => 'Real', $Y => 'Real');
              Context()->noreduce('(-x)-y', '(-x)+y');
              ($A[0], $B[0], $C[0]) = (-9..-2,2..9)[NchooseK(16,3)];
              $roll = random(0,1);
              if ($roll == 0) {$A[0] = list_random(-1,1)};
              if ($roll == 1) {$B[0] = list_random(-1,1)};
              $k = list_random(-4..-2,2..4);
              $A[1] = $A[0]*$k;
              $B[1] = $B[0]*$k;
              $C[1] = $C[0]*$k;
              $f[0] = Formula("$A[0] $X + $C[1] $Y = $C[0] + ($C[1]- $B[0]) $Y ");
              $f[1] = Formula("($A[1] + $A[0]) $X + $B[1] $Y = $A[0] $X + $C[1]");
              Context()->strings->remove("NONE");
              Context()->strings->add(
                "no solutions" => {},
              );
              for (
                "no solution",
                "none",
                "there are no solutions",
                "the solution set is empty",
                "solution set is empty",
                "empty set",
                "∅",
                "{}",
                "{ }",
                "{  }",
                "{   }"
              ) {
                Context()->strings->add($_ => {alias => "no solutions"});
              }
              Context()->strings->add(
                "infinitely many solutions" => {},
              );
              for (
                "infinitely many",
                "infinite solution set",
                "infinite",
                "the solution set is infinite",
                "solution set is infinite"
              ) {
                Context()->strings->add($_ => {alias => "infinitely many solutions"});
              }
              $solution = Compute("infinitely many solutions");
              $answer = $solution->cmp(
                typeMatch => List("$X = 0, $Y = 0"),
                mathQuillOpts => 'disabled'
              );
            </pg-code>
            <statement>
              <p>
                <m>\left\{
                  \begin{alignedat}{4}
                  \amp <var name="$f[0]"/> \\
                  \amp <var name="$f[1]"/>
                  \end{alignedat}
                  \right.
                </m>
              </p>
              <instruction>
                Write the solution in the format
                <c><var name="$X"/> = number, <var name="$Y"/> = number</c>.
                If there is no solution, enter <c>no solutions</c>.
                If there are infintely many solutions, enter <c>infinitely many solutions</c>.
              </instruction>
              <p>
                <var name="$answer" width="16"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise label="elimination-infinite-solutions-integer-coefficients-shuffled-form-with-one-copy">
          <webwork copy="webwork-elimination-infinite-solutions-integer-coefficients-shuffled-form-with-one"/>
        </exercise>
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Applications</title>
      <exercise label="math-exam-elimination">
        <webwork xml:id="webwork-math-exam-elimination">
          <pg-macros>
            <macro-file>parserLinearRelation.pl</macro-file>
          </pg-macros>
          <pg-code>
            do {
              $sa = random(6,8);
              $S = random(7,10);
              $mcM = 100 - $sa*$S;
            } until ($mcM % 2 == 0 || $mcM % 3 == 0 || $mcM % 4 == 0 || $mcM % 5 == 0);
            @pool;
            for (2..5) {
              push(@pool, $_) if ($mcM % $_ == 0);
            }
            $mc = list_random(@pool);
            $M = $mcM/$mc;
            $total = $S + $M;
            Context("LinearRelation")->variables->are(M => 'Real', S => 'Real');
            @eq = (LinearRelation("M + S = $total"), LinearRelation("$mc M + $sa S = 100"));
            $m = MultiAnswer(@eq)->with(
              singleResult => 0,
              checker => sub {
                  my ( $c, $s, $self ) = @_;
                  return [1,1] if ($c->[0] == $s->[0] &amp;&amp; $c->[1] == $s->[1] || $c->[1] == $s->[0] &amp;&amp; $c->[0] == $s->[1]);
                  return [1,0] if ($c->[0] == $s->[0] || $c->[1] == $s->[0]);
                  return [0,1] if ($c->[0] == $s->[1] || $c->[1] == $s->[1]);
                  return [0,0];
              }
            );
          </pg-code>
          <statement>
            <p>
              An algebra exam has <m><var name="$total"/></m> questions, worth a total of 100 points.
              There are two types of question on the exam. There are multiple-choice questions each
              worth <m><var name="$mc"/></m> points, and short-answer questions, each worth
              <m><var name="$sa"/></m> points. How many questions are there of each type?
            </p>
            <instruction>
              Using <c>M</c> and <c>S</c> as the variables, give two equations that form a system of
              equations that is appropriate for this exercise.
            </instruction>
            <p>
              <var name="$m" width="16"/>
            </p>
            <p>
              <var name="$m" width="16"/>
            </p>
            <instruction>
              Solve the system and enter the number of multiple choice questions here.
            </instruction>
            <p>
              <var name="$M" width="16"/>
            </p>
            <instruction>
              Enter the number of short answer questions here.
            </instruction>
            <p>
              <var name="$S" width="16"/>
            </p>
          </statement>
        </webwork>
      </exercise>
      <exercise label="school-fundraiser-elimination">
        <webwork xml:id="webwork-school-fundraiser-elimination">
          <pg-macros>
            <macro-file>parserLinearRelation.pl</macro-file>
          </pg-macros>
          <pg-code>
            $C = random(40,60);
            $A = random(2*$C - 10, 2*$C + 40);
            $tickets = $A + $C;
            $c = random(1,2.5,0.5);
            $a = random(5,7.5,0.5);
            $r = $c*$C + $a*$A;
            Context("LinearRelation")->variables->are(A => 'Real', C => 'Real');
            @eq = (LinearRelation("A + C = $tickets"), LinearRelation("$a A + $c C = $r"));
            $m = MultiAnswer(@eq)->with(
              singleResult => 0,
              checker => sub {
                  my ( $c, $s, $self ) = @_;
                  return [1,1] if ($c->[0] == $s->[0] &amp;&amp; $c->[1] == $s->[1] || $c->[1] == $s->[0] &amp;&amp; $c->[0] == $s->[1]);
                  return [1,0] if ($c->[0] == $s->[0] || $c->[1] == $s->[0]);
                  return [0,1] if ($c->[0] == $s->[1] || $c->[1] == $s->[1]);
                  return [0,0];
              }
            );
            Context("Currency")->flags->set(trimTrailingZeros => 1);
            $revenue = Currency("$r");
            $adult = Currency("$a");
            $child = Currency("$c");
          </pg-code>
          <statement>
            <p>
              A school fund raising event sold a total of <m><var name="$tickets"/></m> tickets and
              generated a total revenue of <m><var name="$revenue"/></m>. Each adult ticket cost
              <m><var name="$adult"/></m>, and each child ticket cost <m><var name="$child"/></m>.
              How many adult tickets and how many child tickets were sold?
            </p>
            <instruction>
              Using <c>A</c> and <c>C</c> as the variables, give two equations that form a system
              of equations that is appropriate for this exercise.
            </instruction>
            <p>
              <var name="$m" width="16"/>
            </p>
            <p>
              <var name="$m" width="16"/>
            </p>
            <instruction>
              Solve the system and enter the cost of an adult ticket here.
            </instruction>
            <p>
              <var name="$A" width="16"/>
            </p>
            <instruction>
              Enter the cost of a child ticket here.
            </instruction>
            <p>
              <var name="$C" width="16"/>
            </p>
          </statement>
        </webwork>
      </exercise>
      <exercise label="mixed-investments-elimination">
        <webwork xml:id="webwork-mixed-investments-elimination">
          <pg-macros>
            <macro-file>parserLinearRelation.pl</macro-file>
            <macro-file>randomPerson.pl</macro-file>
          </pg-macros>
          <pg-code>
            $p = randomPerson();
            Context("Percent");
            $r1 = random(0.01, 0.03, 0.005);
            $rate1 = Percent($r1);
            $r2 = random(0.035, 0.07, 0.005);
            $rate2 = Percent($r2);
            Context("Currency")->flags->set(trimTrailingZeros => 1);
            $x = random(1000, 2000, 100);
            $y = random(2100, 4000, 100);
            $X = Currency($x);
            $Y = Currency($y);
            $t = $x + $y;
            $total = Currency($t);
            $i = $r1 * $x + $r2 * $y;
            $interest = Currency($i);
            Context("LinearRelation")->variables->are(x => 'Real', y => 'Real');
            @eq = (LinearRelation("x + y = $t"), LinearRelation("$r1 x + $r2 y = $i"));
            $m = MultiAnswer(@eq)->with(
              singleResult => 0,
              checker => sub {
                  my ( $c, $s, $self ) = @_;
                  return [1,1] if ($c->[0] == $s->[0] &amp;&amp; $c->[1] == $s->[1] || $c->[1] == $s->[0] &amp;&amp; $c->[0] == $s->[1]);
                  return [1,0] if ($c->[0] == $s->[0] || $c->[1] == $s->[0]);
                  return [0,1] if ($c->[0] == $s->[1] || $c->[1] == $s->[1]);
                  return [0,0];
              }
            );
          </pg-code>
          <statement>
            <p>
              <var name="$p"/> invested a total of <m><var name="$total"/></m> in two investments.
              <var name="$p->Their"/> savings account pays <m><var name="$rate1"/></m> interest
              annually. A riskier stock investment earned <m><var name="$rate2"/></m> at the end of
              the year. At the end of the year, <var name="$p"/> earned a total of
              <m><var name="$interest"/></m> in interest. How much money did <var name="$p->they"/>
              invest in each account?
            </p>
            <instruction>
              Using <c>x</c> (savings investment) and <c>y</c> (stock investment) as the variables,
              give two equations that form a system of equations that is appropriate for this
              exercise.
            </instruction>
            <p>
              <var name="$m" width="16"/>
            </p>
            <p>
              <var name="$m" width="16"/>
            </p>
            <instruction>
              Solve the system and enter the amount invested in savings here.
            </instruction>
            <p>
              <var name="$X" width="16"/>
            </p>
            <instruction>
              Enter the amount invested in stock here.
            </instruction>
            <p>
              <var name="$Y" width="16"/>
            </p>
          </statement>
        </webwork>
      </exercise>
      <exercise label="mixed-investments-loss-elimination">
        <webwork xml:id="webwork-mixed-investments-loss-elimination">
          <pg-macros>
            <macro-file>parserLinearRelation.pl</macro-file>
            <macro-file>randomPerson.pl</macro-file>
          </pg-macros>
          <pg-code>
            $p = randomPerson();
            Context("Percent");
            $r1 = random(0.01, 0.03, 0.005);
            $rate1 = Percent($r1);
            $r2 = random(0.035, 0.07, 0.005);
            $rate2 = Percent($r2);
            Context("Currency")->flags->set(trimTrailingZeros => 1);
            $x = random(1000, 2000, 100);
            $y = random(2100, 4000, 100);
            $X = Currency($x);
            $Y = Currency($y);
            $t = $x + $y;
            $total = Currency($t);
            $i = $r1 * $x + $r2 * $y;
            $final = $total - Currency($i);
            Context("LinearRelation")->variables->are(x => 'Real', y => 'Real');
            @eq = (LinearRelation("x + y = $t"), LinearRelation("$r1 x - $r2 y = -$i"));
            $m = MultiAnswer(@eq)->with(
              singleResult => 0,
              checker => sub {
                  my ( $c, $s, $self ) = @_;
                  return [1,1] if ($c->[0] == $s->[0] &amp;&amp; $c->[1] == $s->[1] || $c->[1] == $s->[0] &amp;&amp; $c->[0] == $s->[1]);
                  return [1,0] if ($c->[0] == $s->[0] || $c->[1] == $s->[0]);
                  return [0,1] if ($c->[0] == $s->[1] || $c->[1] == $s->[1]);
                  return [0,0];
              }
            );
          </pg-code>
          <statement>
            <p>
              <var name="$p"/> invested a total of <m><var name="$total"/></m> in two investments.
              <var name="$p->Their"/> savings account pays <m><var name="$rate1"/></m> interest
              annually. A riskier stock investment lost <m><var name="$rate2"/></m> at the end of
              the year. At the end of the year, <var name="$p"/>'s total fell from
              <m><var name="$total"/></m> to <m><var name="$final"/></m>. How much money did
              <var name="$p->they"/> invest in each account?
            </p>
            <instruction>
              Using <c>x</c> (savings investment) and <c>y</c> (stock investment) as the variables,
              give two equations that form a system of equations that is appropriate for this
              exercise.
            </instruction>
            <p>
              <var name="$m" width="16"/>
            </p>
            <p>
              <var name="$m" width="16"/>
            </p>
            <instruction>
              Solve the system and enter the amount invested in savings here.
            </instruction>
            <p>
              <var name="$X" width="16"/>
            </p>
            <instruction>
              Enter the amount invested in stock here.
            </instruction>
            <p>
              <var name="$Y" width="16"/>
            </p>
          </statement>
        </webwork>
      </exercise>
    </subexercises>

    <subexercises>
      <title>Challenge</title>
      <exercise>
        <!-- Kara's challenge problem -->
        <webwork>
          <pg-code>
            $p2 = random(2, 6, 2);
            $q2 = random(-7, -3, 2);
            $r2 = non_zero_random(-5, 5);
            $factor = non_zero_random(-5, -2);
            $p = $p2*$factor;
            $q = $q2*$factor;
            $r = $r2*$factor;
            Context()->variables->are(x=>'Real', y=>'Real', b=>'Real');
            Context()->noreduce('(-x)+y', '(-x)-y');
            $exp1 = Formula("$p x + $q y")->reduce;
            $exp2 = Formula("$p2 x - b y")->reduce;
            $answer = Formula("-$q2");
          </pg-code>
          <statement>
            <p>
              Find the value of <m>b</m> so that the system of equations has an infinite number of
              solutions.
              <me>
                \left\{\begin{aligned} <var name="$exp1" /> \amp = <var name="$r"/>\\
                <var name="$exp2" /> \amp = <var name="$r2"/> \end{aligned}\right.
              </me>
            </p>
            <p>
              <var name="$answer" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              To have an infinite numbers of solutions, the two equations must represeent the same
              line coinciding. So the second equation comes from multiplying or dividing all the
              terms in the first equation by a certain factor. In this case, if you divide the first
              equation's terms by <var name="$factor"/>, the result is the second equation.  So
              <m>b</m> must equal <m><var name="$answer"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
    </subexercises>
  </exercises>
</section>

