<?xml version="1.0" encoding="UTF-8" ?>
<!-- *********************************************************************-->
<!-- Copyright 2016-2019                                                  -->
<!-- Portland Community College                                           -->
<!--                                                                      -->
<!-- This file is part of Open Resources for Community College Algebra    -->
<!-- (ORCCA).                                                             -->
<!--                                                                      -->
<!-- Open Resources for Community College Algebra is licensed under a     -->
<!-- Creative Commons Attribution 4.0 International License.              -->
<!--                                                                      -->
<!-- Under this license, any user of this textbook or the textbook        -->
<!-- contents must provide proper attribution as follows.                 -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- include in every digital format page view (including but not         -->
<!-- limited to EPUB, PDF, and HTML) and on every physical printed page   -->
<!-- the following attribution:                                           -->
<!--                                                                      -->
<!-- Original source material, products with readable and accessible      -->
<!-- math content, and other information freely available at              -->
<!-- pcc.edu/orcca.                                                       -->
<!--                                                                      -->
<!-- If you redistribute all or part of this textbook, then you must      -->
<!-- reproduce any math content (such as math expressions and equations)  -->
<!-- in a readable manner, and offer math content in at least one web     -->
<!-- accessible manner.                                                   -->
<!--                                                                      -->
<!-- The Portland Community College name, Portland Community College      -->
<!-- logo, ORCCA name, Open Resources for Community College Algebra name, -->
<!-- ORCCA logo, and front and back cover designs are not subject to the  -->
<!-- Creative Commons license and may not be reproduced without the       -->
<!-- prior and express written consent of Portland Community College.     -->
<!--                                                                      -->
<!-- For questions regarding this license, please contact                 -->
<!-- orcca-group@pcc.edu.                                                 -->
<!-- *********************************************************************-->
<section xml:id="section-completing-the-square">
  <title>Completing the Square</title>
  <objectives>
    <title>PCC Course Content and Outcome Guide</title>
    <ul>
      <li>
        <xref ref="ccog-solve-by-completing-the-square" text="local">MTH 95 CCOG</xref>
      </li>
    </ul>
  </objectives>

  <introduction>
    <p>
      In this section, we will learn how to
      <q>complete the square</q>
      with a quadratic expression.
      This topic is useful for solving quadratic equations and putting quadratic functions in vertex form.
    </p>

    <figure>
      <caption>Alternative Video Lessons</caption>
      <video youtubeplaylist="PLfPh0EsBc0yLkOWZ4nwq5wUzgAp9Wy6vj" />
    </figure>
  </introduction>

  <subsection>
    <title>Solving Quadratic Equations by Completing the Square</title>
    <idx><h>solving</h><h>quadratic equations</h><h>by completing the square</h></idx>

    <p>
      When we have an equation like <m>(x+5)^2=4</m>,
      we can solve it quickly using the <xref ref="fact-square-root-property" text="custom">square root property</xref>:
      <md>
        <mrow>(x+5)^2\amp=4</mrow>
      </md>
      <md>
        <mrow>x+5\amp=-2\amp\text{or}\amp\amp x+5\amp=2</mrow>
        <mrow>x\amp=-7\amp\text{or}\amp\amp x\amp=-3</mrow>
      </md>
      The method of <term>completing the square</term>
          <idx><h>completing the square</h></idx>
      allows us to solve <em>any</em>
      quadratic equation using the square root property.
    </p>

    <p>
      Suppose you have a small quadratic expression in the form <m>x^2+bx</m>.
      It can be visualized as an <q>L</q>-shape as in
      <xref ref="figure-illustration-of-completing-the-square">Figure</xref>.
    </p>
    <figure xml:id="figure-illustration-of-completing-the-square">
      <caption/>
      <image width="47%">
        <latex-image>
          <![CDATA[\begin{tikzpicture}[x=0.6cm,y=0.6cm]
            \draw[fill=firstcolor!40] (0,0) --++ (6,0) --++ (0,6) --++ (-6,0) -- cycle;
            \node[below] at (3,0) {$x$};
            \node[left] at (0,3) {$x$};
            \node[] (O) at (3,3) {$x^2$};
            \draw[fill=firstcolor!20] (6,0) --++ (2,0) --++ (0,6) --++ (-2,0) -- cycle;
            \node[below] at (7,0) {$\frac{b}{2}$};
            \node[right] at (8,3) {$x$};
            \node[] (A) at (7,3) {$\frac{b}{2}x$};
            \draw[fill=firstcolor!20] (0,6) --++ (0,2) --++ (6,0) --++ (0,-2) -- cycle;
            \node[left] at (0,7) {$\frac{b}{2}$};
            \node[above] at (3,8) {$x$};
            \node[] (B) at (3,7) {$\frac{b}{2}x$};
            \node (C) at (4.5,5) {Together, $x^2+bx$};
            \draw[-] (C) to[out=-60,in=90] (A);
            \draw[-] (C) to[out=120,in=-90] (B);
            \draw[-] (C) to[out=240,in=90] (O);
            \draw[dashed] (8,6) --++ (0,2) --++ (-2,0);
            \node[above right] (D) at (8,8) {\begin{tabular}{cc}What is missing to\\ ``complete the square''?\end{tabular}};
            \draw[-] (7,7) to[out=45,in=-90] (D);
          \end{tikzpicture}]]>
        </latex-image>
      </image>
    </figure>

      <!-- The challenge is that most quadratic equations don't come with a perfect square already on one side.
      Let's explore how to do this by looking at some perfect square trinomials to see the pattern.
      <md>
        <mrow>(x+\highlight{1})^2\amp=x^2+\highlight{2}x+\secondhighlight{1}</mrow>
        <mrow>(x+\highlight{2})^2\amp=x^2+\highlight{4}x+\secondhighlight{4}</mrow>
        <mrow>(x+\highlight{3})^2\amp=x^2+\highlight{6}x+\secondhighlight{9}</mrow>
        <mrow>(x+\highlight{4})^2\amp=x^2+\highlight{8}x+\secondhighlight{16}</mrow>
        <mrow>(x+\highlight{5})^2\amp=x^2+\highlight{10}x+\secondhighlight{25}</mrow>
        <mrow>\amp\vdots</mrow>
      </md>
      There is an important pattern here.
      Notice that with each middle coefficient on the right,
      you may cut it in half to get the constant term in the binomial on the left side.
      And then you may square that number to get the constant term back on the right side.
      Mathematically, this says:
      <me>
        \left(x+\highlight{\frac{b}{2}}\right)^2=x^2+\highlight{b}x+\secondhighlight{\left(\frac{b}{2}\right)^2}
      </me>
      We will use this fact to make perfect square trinomials.
    </p> -->

    <p>
      The <q>missing</q> square in the upper right corner of
      <xref ref="figure-illustration-of-completing-the-square">Figure</xref>
      is <m>\frac{b}{2}</m> on each side, so its area is <m>\left(\frac{b}{2}\right)^2</m>.
      This means that if we have <m>x^2+bx</m> and add <m>\left(\frac{b}{2}\right)^2</m>,
      we are <q>completing</q> the larger square.
    </p>

    <fact xml:id="fact-completing-the-square">
      <title>The Term that Completes the Square</title>
      <idx><h>completing the square</h></idx>
      <statement>
        <p>
          For a polynomial <m>x^2+bx</m>,
          the constant term needed to make a perfect square trinomial is <m>\highlight{\left(\frac{b}{2}\right)^2}</m>.
        </p>
      </statement>
    </fact>

    <algorithm xml:id="algorithm-completing-the-square">
      <title>Completing the Square</title>
      <idx><h>completing the square</h></idx>
      <idx><h>solving</h><h>quadratic equations</h><h>by completing the square</h></idx>
        <statement>
          <p>
            For a quadratic equation simplified to the form <m>x^2+bx=c</m>, to solve for <m>x</m> by completing the square,
              <ol>
                <li>
                  <p>
                    Use <xref ref="fact-completing-the-square">Fact</xref> to find the number to add to both sides of the equation to make the left hand side a perfect square. This number is always <m>\highlight{\left(\frac{b}{2}\right)^2}</m>.
                  </p>
                </li>
                <li>
                  <p>
                    Add that number to both sides of <m>x^2+bx=c</m> to get
                    <me>x^2+bx\addright{\left(\frac{b}{2}\right)^2}=c\addright{\left(\frac{b}{2}\right)^2}</me>
                  </p>
                </li>
                <li>
                  <p>
                    The left hand side is now a perfect square that factors as <m>x^2+bx+\left(\frac{b}{2}\right)^2=\left(x+\frac{b}{2}\right)^2</m>, so the equation becomes <me>\left(x+\frac{b}{2}\right)^2=c+\left(\frac{b}{2}\right)^2</me>
                  </p>
                </li>
                <li>
                  <p>
                    Solve remaining equation using the <xref ref="fact-square-root-property" text="title"/>.
                  </p>
                </li>
              </ol>
          </p>
        </statement>
    </algorithm>

    <example>
      <statement>
        <p>
          Solve the quadratic equation
          <m>x^2+6x=16</m> by completing the square.
        </p>
      </statement>
      <solution>
        <p>
          To solve the quadratic equation <m>x^2+6x=16</m>,
          on the left side we can complete the square by adding <m>\left(\frac{b}{2}\right)^2</m>;
          note that <m>b=6</m> in this case,
          which makes <m>\left(\frac{b}{2}\right)^2=\left(\frac{6}{2}\right)^2=3^2=9</m>.
          We add it to both sides to maintain equality.
          <md>
            <mrow>x^2+6x\addright{9}\amp=16\addright{9}</mrow>
            <mrow>x^2+6x+9\amp=25</mrow>
            <mrow>(x+3)^2\amp=25</mrow>
          </md>
          Now that we have completed the square,
          we can solve the equation using the square root property.
          <md>
            <mrow>x+3\amp=-5\amp\text{or}\amp\amp x+3\amp=5</mrow>
            <mrow>x\amp=-8\amp\text{or}\amp\amp x\amp=2</mrow>
          </md>
          The solution set is <m>\{-8, 2\}</m>.
        </p>
      </solution>
    </example>

    <p>
      Now let's see the process for completing the square when the quadratic equation is given in standard form.
    </p>

    <example>
      <statement>
        <p>
          Solve <m>x^2-14x+11=0</m> by completing the square.
        </p>
      </statement>
      <solution>
        <p>
          We see that the polynomial on the left side is not a perfect square trinomial,
          so we need to complete the square.
          We subtract <m>11</m> from both sides so we can add the missing term on the left.
          <md>
            <mrow>x^2-14x+11\amp=0</mrow>
            <mrow>x^2-14x\amp=-11</mrow>
          </md>
          Next comes the completing-the-square step.
          We need to add the correct number to both sides of the equation to make the left side a perfect square.
          Remember that <xref ref="fact-completing-the-square">Fact</xref>
          states that we need to use <m>\left(\frac{b}{2}\right)^2</m> for this.
          In our case, <m>b=-14</m>,
          so <m>\left(\frac{b}{2}\right)^2=\left(\frac{-14}{2}\right)^2=49</m>
          <md>
            <mrow>x^2-14x\addright{49}\amp=-11\addright{49}</mrow>
            <mrow>(x-7)^2\amp=38</mrow>
          </md>
          <md>
            <mrow>x-7\amp=-\sqrt{38}\amp\text{or}\amp\amp x-7\amp=\sqrt{38}</mrow>
            <mrow>x\amp=7-\sqrt{38}\amp\text{or}\amp\amp x\amp=7+\sqrt{38}</mrow>
          </md>
          The solution set is <m>\{7-\sqrt{38}, 7+\sqrt{38}\}</m>.
        </p>
      </solution>
    </example>

    <exercise>
      <webwork>
          <pg-code>
            Context("FiniteSolutionSets");
            $solset=Formula("{-1,21}");
          </pg-code>
        <statement>
          <p>
            Complete the square to solve for <m>y</m> in <m>y^2-20y-21=0</m>.
          </p>
          <p>
            <var name="$solset" width="8"/>
          </p>
        </statement>
        <solution>
          <p>
            To complete the square,
            first move the constant term to the right side of the equation.
            Then use <xref ref="fact-completing-the-square">Fact</xref>
            to find <m>\left(\frac{b}{2}\right)^2</m> to add to both sides.
            <md>
              <mrow>y^2-20y-21\amp=0</mrow>
              <mrow>y^2-20y\amp=21</mrow>
            </md>
            In our case, <m>b=-20</m>,
            so <m>\left(\frac{b}{2}\right)^2=\left(\frac{-20}{2}\right)^2=100</m>
            <md>
              <mrow>y^2-20y\addright{100}\amp=21\addright{100}</mrow>
              <mrow>(y-10)^2\amp=121</mrow>
            </md>
            <md>
              <mrow>y-10\amp=-11\amp\text{or}\amp\amp y-10\amp=11</mrow>
              <mrow>y\amp=-1\amp\text{or}\amp\amp y\amp=21</mrow>
            </md>
            The solution set is <m>\{-1, 21\}</m>.
          </p>
        </solution>
      </webwork>
    </exercise>

    <p>
      So far, the value of <m>b</m> has been even each time,
      which makes <m>\frac{b}{2}</m> a whole number.
      When <m>b</m> is odd, we end up adding a fraction to both sides.
      Here is an example.
    </p>

    <example>
      <statement>
        <p>
          Complete the square to solve for <m>z</m> in <m>z^2-3z-10=0</m>.
        </p>
      </statement>
      <solution>
        <p>
          First move the constant term to the right side of the equation:
          <md>
            <mrow>z^2-3z-10\amp=0</mrow>
            <mrow>z^2-3z\amp=10</mrow>
          </md>
          Next, to complete the square,
          we need to find the right number to add to both sides.
          According to <xref ref="fact-completing-the-square">Fact</xref>,
          we need to divide the value of <m>b</m> by <m>2</m> and then square the result to find the right number.
          First, divide by <m>2</m>:
          <men xml:id="equation-completing-square-3-over-2">
            \frac{b}{2}=\frac{-3}{2}=-\frac{3}{2}
          </men>
          and then we square that result:
          <men xml:id="equation-completing-square-9-over-4">
            \left(-\frac{3}{2}\right)^2=\frac{9}{4}
          </men>
          Now we can add the <m>\frac{9}{4}</m> from <xref ref="equation-completing-square-9-over-4">Equation</xref>
          to both sides of the equation to complete the square.
          <md>
            <mrow>z^2-3z\addright{\frac{9}{4}}\amp=10\addright{\frac{9}{4}}</mrow>
          </md>
          Now, to factor the seemingly complicated expression on the left,
          just know that it should always factor using the number from the first step in the completing the square process,
          <xref ref="equation-completing-square-3-over-2">Equation</xref>.
          <md>
            <mrow>\left(z\mathbin{\highlight{-}}\highlight{\frac{3}{2}}\right)^2\amp=\frac{49}{4}</mrow>
          </md>
          <md>
            <mrow>z-\frac{3}{2}\amp=-\frac{7}{2}\amp\text{or}\amp\amp z-\frac{3}{2}\amp=\frac{7}{2}</mrow>
            <mrow>z\amp=\frac{3}{2}-\frac{7}{2}\amp\text{or}\amp\amp z\amp=\frac{3}{2}+\frac{7}{2}</mrow>
            <mrow>z\amp=-\frac{4}{2}\amp\text{or}\amp\amp z\amp=\frac{10}{2}</mrow>
            <mrow>z\amp=-2\amp\text{or}\amp\amp z\amp=5</mrow>
          </md>
          The solution set is <m>\{-2,5\}</m>.
        </p>
      </solution>
    </example>

    <p>
      In each of the previous examples,
      the value of <m>a</m> was equal to <m>1</m>.
      This is necessary for our missing term formula to work.
      When <m>a</m> is not equal to <m>1</m> we will divide both sides by <m>a</m>.
      Let's look at an example of that.
    </p>

    <example>
      <statement>
        <p>
          Solve for <m>r</m> in <m>2r^2+2r=3</m> by completing the square.
        </p>
      </statement>
      <solution>
        <p>
          Because there is a leading coefficient of <m>2</m>,
          we divide both sides by <m>2</m>.
          <md>
            <mrow>2r^2+2r\amp=3</mrow>
            <mrow>\divideunder{2r^2}{2}+\divideunder{2r}{2}\amp=\divideunder{3}{2}</mrow>
            <mrow>r^2+r\amp=\frac{3}{2}</mrow>
          </md>
          Next, we complete the square.
          Since <m>b=1</m>, first,
          <men xml:id="equation-completing-square-1-over-2">
            \frac{b}{2}=\frac{1}{2}
          </men>
          and next, squaring that, we have
          <men xml:id="equation-completing-square-1-over-4">
            \left(\frac{1}{2}\right)^2=\frac{1}{4}
          </men>.
          So we add <m>\frac{1}{4}</m> from <xref ref="equation-completing-square-1-over-4">Equation</xref>
          to both sides of the equation:
          <md>
            <mrow>r^2+r\addright{\frac{1}{4}}\amp=\frac{3}{2}\addright{\frac{1}{4}}</mrow>
            <mrow>r^2+r+\frac{1}{4}\amp=\frac{6}{4}+\frac{1}{4}</mrow>
          </md>
          Here, remember that we always factor with the number found in the first step of completing the square,
          <xref ref="equation-completing-square-1-over-2">Equation</xref>.
          <md>
            <mrow>\left(r+\highlight{\frac{1}{2}}\right)^2\amp=\frac{7}{4}</mrow>
          </md>
          <md>
            <mrow>r+\frac{1}{2}\amp=-\frac{\sqrt{7}}{2}\amp\text{or}\amp\amp r+\frac{1}{2}\amp=\frac{\sqrt{7}}{2}</mrow>
            <mrow>r\amp=-\frac{1}{2}-\frac{\sqrt{7}}{2}\amp\text{or}\amp\amp r\amp=-\frac{1}{2}+\frac{\sqrt{7}}{2}</mrow>
            <mrow>r\amp=\frac{-1-\sqrt{7}}{2}\amp\text{or}\amp\amp r\amp=\frac{-1+\sqrt{7}}{2}</mrow>
          </md>
          The solution set is <m>\left\{\frac{-1-\sqrt{7}}{2}, \frac{-1+\sqrt{7}}{2}\right\}</m>.
        </p>
      </solution>
    </example>
  </subsection>

  <subsection>
    <title>Deriving the Quadratic Formula by Completing the Square</title>
    <p>
      In <xref ref="section-the-quadratic-formula">Section</xref>,
      we learned the Quadratic Formula.
      You may have wondered where the formula comes from,
      and now that we know how to complete the square, we can derive it.
      We will solve the standard form equation <m>ax^2+bx+c=0</m> for <m>x</m>.
    </p>

    <p>
      First, we subtract <m>c</m> from both sides and divide both sides by <m>a</m>.
      <md>
        <mrow>ax^2+bx+c\amp=0</mrow>
        <mrow>ax^2+bx\amp=\subtractright{c}</mrow>
        <mrow>\divideunder{ax^2}{a}+\divideunder{bx}{a}\amp=-\divideunder{c}{a}</mrow>
        <mrow>x^2+\frac{b}{a}x\amp=-\frac{c}{a}</mrow>
      </md>
      Next, we complete the square by taking half of the middle coefficient and squaring it.
      First,
      <men xml:id="equation-completing-square-b-over-2a">
        \frac{\frac{b}{a}}{2}=\frac{b}{2a}
      </men>
      and then squaring that we have
      <men xml:id="equation-completing-square-b2-over-4a2">
        \left(\frac{b}{2a}\right)^2=\frac{b^2}{4a^2}
      </men>
      We add the <m>\frac{b^2}{4a^2}</m> from <xref ref="equation-completing-square-b2-over-4a2">Equation</xref>
      to both sides of the equation:
      <md>
        <mrow>x^2+\frac{b}{a}x\addright{\frac{b^2}{4a^2}}\amp=\addright{\frac{b^2}{4a^2}}-\frac{c}{a}</mrow>
      </md>
      Remember that the left side always factors
      with the value we found in <xref ref="equation-completing-square-b-over-2a">Equation</xref>.
      So we have:
      <md>
        <mrow>\highlight{\left(\unhighlight{x+\frac{b}{2a}}\right)^2}\amp=\frac{b^2}{4a^2}-\frac{c}{a}</mrow>
      </md>
      To find a common denominator on the right,
      we multiply by <m>4a</m> in the numerator and denominator on the second term.
      <md>
        <mrow>\left(x+\frac{b}{2a}\right)^2\amp=\frac{b^2}{4a^2}-\frac{c}{a}\multiplyright{\frac{4a}{4a}}</mrow>
        <mrow>\left(x+\frac{b}{2a}\right)^2\amp=\frac{b^2}{4a^2}-\frac{4ac}{4a^2}</mrow>
        <mrow>\left(x+\frac{b}{2a}\right)^2\amp=\frac{b^2-4ac}{4a^2}</mrow>
      </md>
    </p>
    <!-- <aside>
      <title>Note on the <m>\pm</m> Form</title>
      <p>
        Because of the complexity of the formula we choose to use the <m>\pm</m> symbol rather than write out each solution separately.
        An expression of the form <m>x=A\pm B</m> really means
        <q>either <m>x=A-B</m> or <m>x=A+B</m>.</q>
      </p>
    </aside> -->
    <p>
      Now that we have completed the square,
      we can see that the <m>x</m>-value of the vertex is <m>-\frac{b}{2a}</m>.
      That is the vertex formula.
      Next, we solve the equation using the square root property to find the Quadratic Formula.
    </p>
    <p>
      <md>
        <mrow>x+\frac{b}{2a}\amp=\highlight{\pm\sqrt{\unhighlight{\frac{b^2-4ac}{4a^2}}}}</mrow>
        <mrow>x+\frac{b}{2a}\amp=\pm\divideunder{\sqrt{b^2-4ac}}{2a}</mrow>
        <mrow>x\amp=\subtractright{\frac{b}{2a}}\pm\frac{\sqrt{b^2-4ac}}{2a}</mrow>
        <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
      </md>
    </p>

    <p>
      This shows us that the solutions to the equation
      <m>ax^2+bx+c=0</m> are <m>\frac{-b\pm\sqrt{b^2-4ac}}{2a}</m>.
    </p>
  </subsection>

  <subsection>
    <title>Putting Quadratic Functions in Vertex Form</title>
    <p>
      In <xref ref="section-quadratic-graphs-and-vertex-form">Section</xref>,
      we learned about the vertex form of a parabola,
      which allows us to quickly read the coordinates of the vertex.
      We can now use the method of completing the square to put a quadratic function in vertex form.
      Completing the square with a function is a little different than with an equation so we will start with an example.
    </p>

    <example>
      <statement>
        <p>
          Write a formula in vertex form for the function <m>q</m> defined by <m>q(x)=x^2+8x</m>
        </p>
      </statement>
      <solution>
        <p>
          The formula is in the form <m>x^2+bx</m>,
          so we need to add <m>\left(\frac{b}{2}\right)^2</m> to complete the square by <xref ref="fact-completing-the-square">Fact</xref>.
          When we had an equation, we could add the same quantity to both sides.
          But now we do not wish to change the left side,
          since we are trying to end up with a formula that still says <m>q(x)=\ldots</m>.
          Instead, we add <em>and subtract</em>
          the term from the right side in order to maintain equality.
          In this case,
          <md>
            <mrow>\left(\frac{b}{2}\right)^2\amp=\left(\frac{8}{2}\right)^2</mrow>
            <mrow>\amp=4^2</mrow>
            <mrow>\amp=16</mrow>
          </md>
          To maintain equality, we both add <em>and</em>
          subtract <m>16</m> on the same side of the equation.
          It is functionally the same as adding <m>0</m> on the right,
          but the <m>16</m> makes it possible to factor the expression in a particular way:
          <md>
            <mrow>q(x)\amp=x^2+8x\addright{16}\subtractright{16}</mrow>
            <mrow>\amp=\highlight{\left(\unhighlight{x^2+8x+16}\right)}-16</mrow>
            <mrow>\amp=(x+4)^2-16</mrow>
          </md>
        </p>

        <sidebyside widths="47% 47%" margins="0%">
          <p>
            Now that we have completed the square,
            our function is in vertex form.
            The vertex is <m>(-4,-16)</m>.
            One way to verify that our work is correct is to graph the original version of the function and check that the vertex is where it should be.
          </p>

          <figure>
            <caption>Graph of <m>y=x^2+8x</m></caption>
            <image width="60%">
              <shortdescription>a plot of y=x^2+8x with the vertex labeled at (-4,-16)</shortdescription>

            <latex-image>
            <![CDATA[\begin{tikzpicture}
                \begin{axis}[
                        xmin=-10,
                        xmax=2,
                        ymin=-20,
                        ymax=20,
                        xtick={-8,-6,...,0},
                        ytick={-15,-10,...,15},
                        minor xtick={-9,-8,...,1},
                        minor ytick=,
                        clip=false]
                    \addplot [domain=-10:2, firstcurve] {x^2+8*x} node[pos=0.1, right] {$y=q(x)$};
                    \addplot [soliddot, color=secondcolor] coordinates {(-4,-16)} node[below left] {$(-4,-16)$};
                \end{axis}
            \end{tikzpicture}
            ]]>
            </latex-image>
            </image>

          </figure>
        </sidebyside>
      </solution>
    </example>

    <p>
      Let's look at a function that has a constant term and see how to complete the square.
    </p>

    <example>
      <statement>
        <p>
          Write a formula in vertex form for the function <m>f</m> defined by <m>f(x)=x^2-12x+3</m>
        </p>
      </statement>
      <solution>
        <p>
          To complete the square,
          we need to add and subtract <m>\left(-\frac{12}{2}\right)^2=(-6)^2=36</m> on the right side.
          <md>
            <mrow>f(x)\amp=x^2-12x\addright{36}\subtractright{36}+3</mrow>
            <mrow>\amp=\highlight{\left(\unhighlight{x^2-12x+36}\right)}-36+3</mrow>
            <mrow>\amp=(x-6)^2-33</mrow>
          </md>
          The vertex is <m>(6,-33)</m>.
        </p>
      </solution>
    </example>

    <p>
      In the first two examples, <m>a</m> was equal to <m>1</m>.
      When <m>a</m> is not equal to one,
      we have an additional step.
      Since we are working with an expression where we intend to preserve the left side as <m>f(x)=\ldots</m>,
      we cannot divide both sides by <m>a</m>.
      Instead we factor <m>a</m> out of the first two terms.
      Let's look at an example of that.
    </p>

    <example>
      <statement>
        <p>
          Write a formula in vertex form for the function <m>g</m> defined by <m>g(x)=5x^2+20x+25</m>
        </p>
      </statement>
      <solution>
        <p>
          Before we can complete the square,
          we factor the <m>\highlight{5}</m> out of the first two terms.
          <md>
            <mrow>g(x)\amp=\highlight{5}\left(x^2+4x\right)+25</mrow>
          </md>
          Now we complete the square inside the parentheses by adding and subtracting <m>\left(\frac{4}{2}\right)^2=2^2=4</m>.
          <md>
            <mrow>g(x)\amp=5\left(x^2+4x\addright{4}\subtractright{4}\right)+25</mrow>
          </md>
          Notice that the constant that we subtracted is inside the parentheses,
          but it will not be part of our perfect square trinomial.
          In order to bring it outside,
          we need to multiply it by <m>5</m>.
          We are distributing the <m>5</m> to that term so we can combine it with the outside term.
          <md>
            <mrow>g(x)\amp=5\left(\highlight{\left(\unhighlight{x^2+4x+4}\right)}-\highlight{4}\right)+25</mrow>
            <mrow>\amp=5\highlight{\left(\unhighlight{x^2+4x+4}\right)}-\multiplyleft{5}4+25</mrow>
            <mrow>\amp=5\left(x+2\right)^2-20+25</mrow>
            <mrow>\amp=5\left(x+2\right)^2+5</mrow>
          </md>
          The vertex is <m>(-2,5)</m>.
        </p>
      </solution>
    </example>

    <p>
      Here is an example that includes fractions.
    </p>

    <example xml:id="example-completing-the-square-3x2-4x">
      <statement>
        <p>
          Write a formula in vertex form for the function <m>h</m> defined by <m>h(x)=-3x^2-4x-\frac{7}{4}</m>
        </p>
      </statement>
      <solution>
        <p>
          First, we factor the leading coefficient out of the first two terms.
          <md>
            <mrow>h(x)\amp=-3x^2-4x-\frac{7}{4}</mrow>
            <mrow>\amp=-3\left(x^2+\frac{4}{3}x\right)-\frac{7}{4}</mrow>
          </md>
          Next, we complete the square for
          <m>x^2+\frac{4}{3}x</m> inside the grouping symbols by adding and subtracting the right number.
          To find that number,
          we divide the value of <m>b</m> by two and square the result.
          That looks like:
          <men xml:id="equation-completing-the-square-4-3-over-2">
            \frac{b}{2}=\frac{\frac{4}{3}}{2}=\frac{4}{3}\cdot\frac{1}{2}=\frac{2}{3}
          </men>
          and then,
          <men xml:id="equation-completing-the-square-2-3squared">
            \left(\frac{2}{3}\right)^2=\frac{2^2}{3^2}=\frac{4}{9}
          </men>
          Adding and subtracting the value from <xref ref="equation-completing-the-square-2-3squared">Equation</xref>, we have:
          <md>
            <mrow>h(x)\amp=-3\left(x^2+\frac{4}{3}x\addright{\frac{4}{9}}\subtractright{\frac{4}{9}}\right)-\frac{7}{4}</mrow>
            <mrow>\amp=-3\left(\highlight{\left(\unhighlight{x^2+\frac{4}{3}x+\frac{4}{9}}\right)}-\frac{4}{9}\right)-\frac{7}{4}</mrow>
            <mrow>\amp=-3\highlight{\left(\unhighlight{x^2+\frac{4}{3}x+\frac{4}{9}}\right)}-\left(3\cdot-\frac{4}{9}\right)-\frac{7}{4}</mrow>
            <intertext>Remember that when completing the square, the expression should always factor with the number found in the first step of the completing-the-square process, <xref ref="equation-completing-the-square-4-3-over-2">Equation</xref>.</intertext>
            <mrow>\amp=-3\highlight{\left(\unhighlight{x+\frac{2}{3}}\right)^2}+\frac{4}{3}-\frac{7}{4}</mrow>
            <mrow>\amp=-3\left(x+\frac{2}{3}\right)^2+\frac{16}{12}-\frac{21}{12}</mrow>
            <mrow>\amp=-3\left(x+\frac{2}{3}\right)^2-\frac{5}{12}</mrow>
          </md>
          The vertex is <m>\left(-\frac{2}{3},-\frac{5}{12}\right)</m>.
        </p>
      </solution>
    </example>

    <p>
      Completing the square can also be used to find a minimum or maximum in an application.
    </p>

    <example>
      <statement>
        <p>
          In <xref ref="example-multiplying-binomials-artist-revenue">Example</xref>,
          we learned that artist Tyrone's annual income from paintings can be modeled by <m>I(x)=-100x^2+1000x+20000</m>,
          where <m>x</m> is the number of times he will raise the price per painting by $20.00.
          To maximize his income, how should Tyrone set his price per painting?
          Find the maximum by completing the square.
        </p>
      </statement>
      <solution>
        <p>
          To find the maximum is essentially the same as finding the vertex,
          which we can find by completing the square.
          To complete the square for <m>I(x)=-100x^2+1000x+20000</m>,
          we start by factoring out the <m>-100</m> from the first two terms:
          <md>
            <mrow>I(x)\amp=-100x^2+1000x+20000</mrow>
            <mrow>\amp=-100\left(x^2-10x\right)+20000</mrow>
            <intertext>Next, we complete the square for <m>x^2-10x</m> by adding and subtracting <m>\left(-\frac{10}{2}\right)^2=(-5)^2=\highlight{25}</m>.</intertext>
            <mrow>I(x)\amp=-100\left(x^2-10x\addright{25}\subtractright{25}\right)+20000</mrow>
            <mrow>\amp=-100\left(\highlight{\left(\unhighlight{x^2-10x+25}\right)}-25\right)+20000</mrow>
            <mrow>\amp=-100\highlight{\left(\unhighlight{x^2-10x+25}\right)}-\left(100\cdot-25\right)+20000</mrow>
            <mrow>\amp=-100(x-5)^2+2500+20000</mrow>
            <mrow>\amp=-100(x-5)^2+22500</mrow>
          </md>
          The vertex is the point <m>(5,22500)</m>.
          This implies Tyrone should raise the price per painting <m>\substitute{5}</m> times,
          which is <m>\substitute{5}\cdot20=100</m> dollars.
          He would sell <m>100-5(\substitute{5})=75</m> paintings.
          This would make the price per painting <m>200+100=300</m> dollars,
          and his annual income from paintings would become $22,500 by this model.
        </p>
            <!-- <p>As a check, we will substitute <m>x=7.5</m> into <m>f(x)=-10(x-7.5)^2+1562.5</m>, we will have:<md>
                <mrow>f(x)\amp=-10(x-7.5)^2+1562.5</mrow>
                <mrow>f(7.5)\amp=-10(7.5-7.5)^2+1562.5</mrow>
                <mrow>f(7.5)\amp=-10(0)+1562.5</mrow>
                <mrow>f(7.5)\amp=1562.5</mrow>
            </md>We have verified that the <m>y</m>-value of the vertex is <m>1562.5</m>. </p>

        <p>You might wonder why <m>(7.5,1562.5)</m> must be the parabola's vertex, instead of a different point on the parabola. This can be explained by the function's range. We know the square of a number must be positive or zero, so we have:<md>
            <mrow>(x-7.5)^2\amp\ge0</mrow>
            <mrow>\multiplyleft{-10}(x-7.5)^2\amp\le\multiplyleft{-10}0</mrow>
            <mrow>-10(x-7.5)^2\amp\le0</mrow>
            <mrow>-10(x-7.5)^2\addright{1562.5}\amp\le0\addright{1562.5}</mrow>
            <mrow>-10(x-7.5)^2+1562.5\amp\le1562.5</mrow>
            <mrow>f(x)\amp\le1562.5</mrow>
        </md>The result implies the maximum value of <m>f(x)</m> is <m>1562.5</m>, making <m>(7.5,1562.5)</m> the parabola's vertex.</p>  -->
      </solution>
    </example>
  </subsection>

  <subsection>
    <title>Graphing Quadratic Functions by Hand</title>
    <p>
      Now that we know how to put a quadratic function in vertex form,
      let's review how to graph a parabola by hand.
    </p>

    <example>
<!--factors, two horizontal intercepts-->
      <statement>
        <p>
          Graph the function <m>h</m> defined by
          <m>h(x)=2x^2+4x-6</m> by determining its key features algebraically.
        </p>
      </statement>
      <solution>
        <p>
          To start, we'll note that this function opens upward because the leading coefficient,
          <m>2</m>,
          is positive.
        </p>

        <p>
          Now we may complete the square to find the vertex.
          We factor the <m>2</m> out of the first two terms,
          and then add and subtract <m>\left(\frac{2}{2}\right)^2=1^2=\highlight{1}</m> on the right side.
          <md>
            <mrow>h(x)\amp=2\left(x^2+2x\right)-6</mrow>
            <mrow>\amp=2\left[x^2+2x\addright{1}\subtractright{1}\right]-6</mrow>
            <mrow>\amp=2\left[\highlight{\left(\unhighlight{x^2+2x+1}\right)}-1\right]-6</mrow>
            <mrow>\amp=2\highlight{\left(\unhighlight{x^2+2x+1}\right)}-\left(2\cdot1\right)-6</mrow>
            <mrow>\amp=2\left(x+1\right)^2-2-6</mrow>
            <mrow>\amp=2\left(x+1\right)^2-8</mrow>
          </md>
          The vertex is <m>(-1,-8)</m> so the axis of symmetry is the line <m>x=-1</m>.
        </p>

        <p>
          To find the <m>y</m>-intercept,
          we'll replace <m>x</m> with <m>0</m> or read the value of <m>c</m> from the function in standard form:
          <md>
            <mrow>h(\substitute{0})\amp=2(\substitute{0})^2+2(\substitute{0})-6</mrow>
            <mrow>\amp=-6</mrow>
          </md>
          The <m>y</m>-intercept is <m>(0,-6)</m> and we can find its symmetric point on the graph,
          which is <m>(-2,-6)</m>.
        </p>

        <p>
          Next, we'll find the horizontal intercepts.
          We see this function factors so we write the factored form to get the horizontal intercepts.
          <md>
            <mrow>h(x)\amp=2x^2+4x-6</mrow>
            <mrow>\amp=2\left(x^2+2x-3\right)</mrow>
            <mrow>\amp=2(x-1)(x+3)</mrow>
          </md>
          The <m>x</m>-intercepts are <m>(1,0)</m> and <m>(-3,0)</m>.
        </p>

        <p>
          Now we plot all of the key points and draw the parabola.
        </p>

        <figure>
          <caption>The graph of <m>y=2x^2+4x-6</m>.</caption>
          <image width="47%">
            <shortdescription>a graph of the parabola y=2x^2+4x-6 opens upward and the key features are labeled;the vertex is (-1,-8);the axis of symmetry is drawn at x=-1;the y-intercept is (0,-6) and its symmetric point is (-2,-6);the x-intercepts are (1,0) and (-3,0)</shortdescription>

            <latex-image>
                <![CDATA[\begin{tikzpicture}
                    \begin{axis}[xmin=-6,xmax=4,ymin=-10,ymax=10,width=0.47\linewidth,
                                xtick={-5,-4,...,3},
                                minor xtick={-6,-5,...,4},
                                ytick={-8,-6,...,9},
                                minor ytick={-10,-9,...,10},
                                clip=false]
                        \addplot[soliddot, color=fifthcolor] coordinates {(-3,0)} node[above left] {$(-3,0)$};
                        \addplot[soliddot, color=fourthcolor] coordinates {(-2,-6)} node[left] {$(-2,-6)$};
                        \addplot[soliddot, color=fifthcolor] coordinates {(1,0)} node[above right] {$(1,0)$};
                        \addplot[soliddot, color=fourthcolor] coordinates {(0,-6)} node[right] {$(0,-6)$};
                        \addplot[soliddot, color=secondcolor] coordinates {(-1,-8)} node[below left] {$(-1,-8)$};
                        \addplot[firstcurve,domain=-4:2] {2*x^2+4*x-6} node[pos=0.05, right] {$y=h(x)$};
                        \addplot[symmetryaxis] coordinates {(-1,-10) (-1,10)};
                    \end{axis}
                \end{tikzpicture}
                ]]>
            </latex-image>
          </image>

        </figure>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          Write a formula in vertex form for the function <m>p</m> defined by <m>p(x)=-x^2-4x-1</m>,
          and find the graph's key features algebraically.
          Then sketch the graph.
        </p>
      </statement>
      <solution>
        <p>
          In this function,
          the leading coefficient is negative so it will open downward.
          To complete the square we first factor <m>-1</m> out of the first two terms.
          <md>
            <mrow>p(x)\amp=-x^2-4x-1</mrow>
            <mrow>\amp=-\left(x^2+4x\right)-1</mrow>
          </md>
          Now, we add and subtract the correct number on the right side of the function:
          <m>\left(\frac{b}{2}\right)^2=\left(\frac{4}{2}\right)^2=2^2=\highlight{4}</m>.
          <md>
            <mrow>p(x)\amp=-\left(x^2+4x\addright{4}\subtractright{4}\right)-1</mrow>
            <mrow>\amp=-\left(\highlight{\left(\unhighlight{x^2+4x+4}\right)}-4\right)-1</mrow>
            <mrow>\amp=-\highlight{\left(\unhighlight{x^2+4x+4}\right)}-(-4)-1</mrow>
            <mrow>\amp=-\left(x+2\right)^2+4-1</mrow>
            <mrow>\amp=-\left(x+2\right)^2+3</mrow>
          </md>
          The vertex is <m>(-2,3)</m> so the axis of symmetry is the line <m>x=-2</m>.
        </p>

        <p>
          We find the <m>y</m>-intercept by looking at the value of <m>c</m>,
          which is <m>-1</m>.
          So, the <m>y</m>-intercept is <m>(0,-1)</m> and we can find its symmetric point on the graph,
          <m>(-4,-1)</m>.
        </p>

        <p>
          The original expression, <m>-x^2-4x-1</m>,
          does not factor so to find the <m>x</m>-intercepts we need to set <m>p(x)=0</m> and complete the square or use the quadratic formula.
          Since we just went through the process of completing the square above,
          we can use that result to save several repetitive steps.
          <md>
            <mrow>p(x)\amp=0</mrow>
            <mrow>-\left(x+2\right)^2+3\amp=0</mrow>
            <mrow>-(x+2)^2\amp=-3</mrow>
            <mrow>(x+2)^2\amp=3</mrow>
          </md>
          <md>
            <mrow>x+2\amp=-\sqrt{3}\amp\text{or}\amp\amp x+2\amp=\sqrt{3}</mrow>
            <mrow>x\amp=-2-\sqrt{3}\amp\text{or}\amp\amp x\amp=-2+\sqrt{3}</mrow>
            <mrow>x\amp\approx-3.73\amp\text{or}\amp\amp x\amp\approx-0.268</mrow>
          </md>
          The <m>x</m>-intercepts are approximately <m>(-3.7,0)</m> and <m>(-0.3,0)</m>.
          Now we can plot all of the points and draw the parabola.
        </p>

        <figure>
          <caption>The graph of <m>y=-x^2-4x-1</m>.</caption>
          <image width="47%">
            <shortdescription>a graph of the parabola y=-x^2-4x-1 opens downward and the key features are labeled;the vertex is (-2,3);the axis of symmetry is drawn at x=-2;the y-intercept is (0,-1) and its symmetric point is (-4,-1);the x-intercepts are (-3.7,0) and (-0.3,0)</shortdescription>

            <latex-image>
                <![CDATA[\begin{tikzpicture}
                    \begin{axis}[xmin=-8,xmax=6,ymin=-8,ymax=6,width=0.47\linewidth,
                                xtick={-6,-4,...,4},
                                ytick={-6,-4,...,4},
                                minor xtick={-7,-6,...,6},
                                minor ytick={-7,-6,...,6},
                                clip=false]
                        \addplot[soliddot, color=secondcolor] coordinates {(-4,-1)} node[below left] {$(-4,-1)$};
                        \addplot[soliddot, color=secondcolor] coordinates {(0,-1)} node[below right] {$(0,-1)$};
                        \addplot[soliddot, color=fourthcolor] coordinates {(-2,3)} node[above left] {$(-2,3)$};
                        \addplot[soliddot, color=fifthcolor] coordinates {(-3.73,0)} node[above left] {$(-3.7,0)$};
                        \addplot[soliddot, color=fifthcolor] coordinates {(-0.268,0)} node[above right] {$(-0.3,0)$};
                        \addplot[firstcurve,domain=-5.317:1.317] {-1*x^2-4*x-1} node[pos=0.9, right] {$y=p(x)$};
                        \addplot[symmetryaxis] coordinates {(-2,-8) (-2,6)};
                    \end{axis}
                \end{tikzpicture}
                ]]>
            </latex-image>
          </image>

        </figure>
      </solution>
    </example>
  </subsection>

  <reading-questions>
    <exercise>
      <statement>
        <p>
          For the expression <m>y=x^2+10x-9</m>, explain in words what is the next step to complete the square.
        </p>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Why is completing the square called completing the square?
        </p>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          How can you check that they completed the square correctly?
        </p>
      </statement>
    </exercise>
  </reading-questions>

  <exercises>
    <exercisegroup cols="2">
      <title>Review and Warmup</title>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-using-square-root">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $m = 1;
            $b = non_zero_random(-9,9,1);
            $c = random(2,9,1);
            Context()->variables->are($x=>'Real');
            $linear = Formula("$m $x + $b")->reduce;
            $left = Formula("($linear)^2");
            $right = Formula("$c^2");
            $sol1 = ($c-$b)/$m;
            $sol2 = (-$c-$b)/$m;
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Use a square root to solve <m><var name="$left"/>=<var name="$right"/></m>.
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Using the square root property:
              <md>
                <mrow><var name="$linear"/>\amp=\sqrt{<var name="$right"/>}\amp\amp\text{or}\amp <var name="$linear"/>\amp=-\sqrt{<var name="$right"/>}</mrow>
                <mrow><var name="$linear"/>\amp=<var name="$c"/>\amp\amp\text{or}\amp <var name="$linear"/>\amp=-<var name="$c"/></mrow>
                <mrow><var name="$x"/>\amp=<var name="$sol1"/>\amp\amp\text{or}\amp <var name="$x"/>\amp=<var name="$sol2"/></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-using-square-root"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-using-square-root-2">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $m = random(2,9,1);
            $b = non_zero_random(-9,9,1);
            $c = random(2,9,1);
            Context()->variables->are($x=>'Real');
            $linear = Formula("$m $x + $b")->reduce;
            $left = Formula("($linear)^2");
            $right = Formula("$c^2");
            Context("Fraction");
            $solnum1 = $c-$b;
            $solnum2 = -$c-$b;
            $sol1 = Fraction($solnum1,$m);
            $sol2 = Fraction($solnum2,$m);
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Use a square root to solve <m><var name="$left"/>=<var name="$right"/></m>.
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Using the square root property:
              <md>
                <mrow><var name="$linear"/>\amp=\sqrt{<var name="$right"/>}\amp\amp\text{or}\amp <var name="$linear"/>\amp=-\sqrt{<var name="$right"/>}</mrow>
                <mrow><var name="$linear"/>\amp=<var name="$c"/>\amp\amp\text{or}\amp <var name="$linear"/>\amp=-<var name="$c"/></mrow>
                <mrow><var name="$m"/><var name="$x"/>\amp=<var name="$solnum1"/>\amp\amp\text{or}\amp <var name="$m"/><var name="$x"/>\amp=<var name="$solnum2"/></mrow>
                <mrow><var name="$x"/>\amp=<var name="$sol1"/>\amp\amp\text{or}\amp <var name="$x"/>\amp=<var name="$sol2"/></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-using-square-root-2"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-using-square-root-3">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $m = 1;
            $b = non_zero_random(-9,9,1);
            $c = list_random(2,3,5,6,7,10,11,13,14,15,17,19);
            Context()->variables->are($x=>'Real');
            $linear = Formula("$m $x + $b")->reduce;
            $left = Formula("($linear)^2");
            $leftexpanded = Formula("$m^2 $x^2 + 2*$m*$b $x + ($b)^2")->reduce;
            $right = Formula("$c");
            Context("FiniteSolutionSets");
            $nb = -$b;
            $sol1 = Formula("$nb+sqrt($c)");
            $sol2 = Formula("$nb-sqrt($c)");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Use a square root to solve <m><var name="$left"/>=<var name="$right"/></m>.
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Using the square root property:
              <md>
                <mrow><var name="$linear"/>\amp=\sqrt{<var name="$c"/>}\amp\amp\text{or}\amp <var name="$linear"/>\amp=-\sqrt{<var name="$c"/>}</mrow>
                <mrow><var name="$x"/>\amp=<var name="$sol1"/>\amp\amp\text{or}\amp <var name="$x"/>\amp=<var name="$sol2"/></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-using-square-root-3"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-using-square-root-4">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $m = 1;
            $b = non_zero_random(-9,9,1);
            $c = random(2,9,1);
            Context()->variables->are($x=>'Real');
            $linear = Formula("$m $x + $b")->reduce;
            $left = Formula("($linear)^2");
            $leftexpanded = Formula("$m^2 $x^2 + 2*$m*$b $x + ($b)^2")->reduce;
            $right = Formula("$c^2");
            $sol1 = ($c-$b)/$m;
            $sol2 = (-$c-$b)/$m;
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Use a square root to solve <m><var name="$leftexpanded"/>=<var name="$right"/></m>.
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              The left side is a perfect square trinomial.
              So the equation may be written <m><var name="$left"/>=<var name="$right"/></m>.
              Then using the square root property:
              <md>
                <mrow><var name="$linear"/>\amp=\sqrt{<var name="$right"/>}\amp\amp\text{or}\amp <var name="$linear"/>\amp=-\sqrt{<var name="$right"/>}</mrow>
                <mrow><var name="$linear"/>\amp=<var name="$c"/>\amp\amp\text{or}\amp <var name="$linear"/>\amp=-<var name="$c"/></mrow>
                <mrow><var name="$x"/>\amp=<var name="$sol1"/>\amp\amp\text{or}\amp <var name="$x"/>\amp=<var name="$sol2"/></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-using-square-root-4"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-using-square-root-5">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $m = random(2,9,1);
            $b = non_zero_random(-9,9,1);
            $c = random(2,9,1);
            Context()->variables->are($x=>'Real');
            $linear = Formula("$m $x + $b")->reduce;
            $left = Formula("($linear)^2");
            $leftexpanded = Formula("$m^2 $x^2 + 2*$m*$b $x + ($b)^2")->reduce;
            $right = Formula("$c^2");
            Context("Fraction");
            $solnum1 = $c-$b;
            $solnum2 = -$c-$b;
            $sol1 = Fraction($solnum1,$m);
            $sol2 = Fraction($solnum2,$m);
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Use a square root to solve <m><var name="$leftexpanded"/>=<var name="$right"/></m>.
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              The left side is a perfect square trinomial.
              So the equation may be written <m><var name="$left"/>=<var name="$right"/></m>.
              Then using the square root property:
              <md>
                <mrow><var name="$linear"/>\amp=\sqrt{<var name="$right"/>}\amp\amp\text{or}\amp <var name="$linear"/>\amp=-\sqrt{<var name="$right"/>}</mrow>
                <mrow><var name="$linear"/>\amp=<var name="$c"/>\amp\amp\text{or}\amp <var name="$linear"/>\amp=-<var name="$c"/></mrow>
                <mrow><var name="$m"/><var name="$x"/>\amp=<var name="$solnum1"/>\amp\amp\text{or}\amp <var name="$m"/><var name="$x"/>\amp=<var name="$solnum2"/></mrow>
                <mrow><var name="$x"/>\amp=<var name="$sol1"/>\amp\amp\text{or}\amp <var name="$x"/>\amp=<var name="$sol2"/></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-using-square-root-5"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-using-square-root-6">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $m = random(2,9,1);
            $b = non_zero_random(-9,9,1);
            $c = list_random(2,3,5,6,7,10,11,13,14,15,17,19);
            Context()->variables->are($x=>'Real');
            $linear = Formula("$m $x + $b")->reduce;
            $left = Formula("($linear)^2");
            $leftexpanded = Formula("$m^2 $x^2 + 2*$m*$b $x + ($b)^2")->reduce;
            $right = Formula("$c");
            Context("FiniteSolutionSets");
            $nb = -$b;
            $nbpsq = Formula("$nb+sqrt($c)");
            $nbmsq = Formula("$nb-sqrt($c)");
            $sol1 = Formula("($nbpsq)/$m");
            $sol2 = Formula("($nbmsq)/$m");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Use a square root to solve <m><var name="$leftexpanded"/>=<var name="$right"/></m>.
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              The left side is a perfect square trinomial.
              So the equation may be written <m><var name="$left"/>=<var name="$right"/></m>.
              Then using the square root property:
              <md>
                <mrow><var name="$linear"/>\amp=\sqrt{<var name="$c"/>}\amp\amp\text{or}\amp <var name="$linear"/>\amp=-\sqrt{<var name="$c"/>}</mrow>
                <mrow><var name="$m"/><var name="$x"/>\amp=<var name="$nbpsq"/>\amp\amp\text{or}\amp <var name="$m"/><var name="$x"/>\amp=<var name="$nbmsq"/></mrow>
                <mrow><var name="$x"/>\amp=<var name="$sol1"/>\amp\amp\text{or}\amp <var name="$x"/>\amp=<var name="$sol2"/></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-using-square-root-6"/>
      </exercise>
    </exercisegroup>

    <exercisegroup cols="3">
      <title>Completing the Square to Solve Equations</title>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $a = 1;
            do {
              $sol1 = non_zero_random(-9,9,1);
              $sol2 = non_zero_random(-9,9,1);
              ($sol1, $sol2) = (min($sol1, $sol2), max($sol1, $sol2));
            } until (abs($sol1) != abs($sol2)  and  ($sol1 + $sol2) % 2 == 0);
            $b = -($sol1 + $sol2);
            Context()->variables->are($x=>'Real');
            $left = Formula("$a^2 $x^2 + $b $x")->reduce;
            $right = Formula("-$sol1*$sol2")->reduce;
            Context("Fraction");
            $helper = Fraction(-$sol1 - $sol2, 2);
            $helpersquared = $helper**2;
            $rightplushelpersquared = Fraction("$right + $helpersquared");
            $margin = Fraction(sqrt($rightplushelpersquared));
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
            $linear = Formula("$a $x")->reduce;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            $linear = ($helper > 0) ? Formula("$linear + $helper") : Formula("$linear - $absnum/$den");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left"/>=<var name="$right"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-2">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $a = 1;
            do {
              $sol1 = non_zero_random(-9,9,1);
              $sol2 = non_zero_random(-9,9,1);
              ($sol1, $sol2) = (min($sol1, $sol2), max($sol1, $sol2));
            } until (abs($sol1) != abs($sol2)  and  ($sol1 + $sol2) % 2 == 1);
            $b = -($sol1 + $sol2);
            Context()->variables->are($x=>'Real');
            $left = Formula("$a^2 $x^2 + $b $x")->reduce;
            $right = Formula("-$sol1*$sol2")->reduce;
            Context("Fraction");
            $helper = Fraction(-$sol1 - $sol2, 2);
            $helpersquared = $helper**2;
            $rightplushelpersquared = Fraction("$right + $helpersquared");
            $margin = Fraction(sqrt($rightplushelpersquared));
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
            $linear = Formula("$a $x")->reduce;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            $linear = ($helper > 0) ? Formula("$linear + $helper") : Formula("$linear - $absnum/$den");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left"/>=<var name="$right"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-2"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-3">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            @squares = map{$_**2} (2, 3, 5, 7, 11);
            do {
              Context("Numeric");
              $squarefree = 1;
              do {
                $a = 1;
                $b = non_zero_random(-10,10,2);
                $c = non_zero_random(-10,10,1);
                $discriminant = $b**2 - 4*$a*$c;
              } until ($discriminant > 0);
              Context()->variables->are($x=>'Real');
              $left = Formula("$a^2 $x^2 + $b $x")->reduce;
              $right = Formula("-$c")->reduce;
              Context("Fraction");
              $helper = Fraction($b, 2);
              $helpersquared = $helper**2;
              $rightplushelpersquared = Fraction("$right + $helpersquared");
              Context("FiniteSolutionSets");
              Context()->variables->are($x=>'Real');
              @divsquares = map {(($rightplushelpersquared->value)[0] % $_ == 0) ? $_ : 1} (@squares);
              $squarepart = 1;
              foreach my $element (@divsquares) {
                $power = 1;
                while ($element != 1 and ($rightplushelpersquared->value)[0] % $element**($power+1) == 0) {$power += 1;}  
                $squarepart *= $element**$power;
              };
              $nonsquarepart = $rightplushelpersquared/$squarepart;
            } until ($nonsquarepart > 1);
            $reducedpart = sqrt($squarepart);
            $margin = Formula("$reducedpart sqrt($x)")->reduce->substitute($x=>Formula("$nonsquarepart"));
            $ax = Formula("$a $x")->reduce;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            if ($den == 1) {$linear = ($helper > 0) ? Formula("$ax + $helper") : Formula("$ax - $absnum");}
            else {$linear = ($helper > 0) ? Formula("$ax + $helper") : Formula("$ax - $absnum/$den");}
            $twoa = Formula("2*$a");
            $nhelper = -$helper;
            $sol1 = Formula("$nhelper - $margin");
            $sol2 = Formula("$nhelper + $margin");
            if (int(sqrt($nonsquarepart)) == sqrt($nonsquarepart)) {
              $mycontext = Context();
              Context("Fraction");
              $sol1 = Compute("$sol1");
              $sol2 = Compute("$sol2");
              Context($mycontext);
            }
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left"/>=<var name="$right"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$ax" /> \amp = <var name="$nhelper" />-<var name="$margin" />\amp\amp\text{or}\amp <var name="$ax" /> \amp = <var name="$nhelper" />+<var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-3"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-4">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $a = 1;
            do {
              $sol1 = non_zero_random(-9,9,1);
              $sol2 = non_zero_random(-9,9,1);
              ($sol1, $sol2) = (min($sol1, $sol2), max($sol1, $sol2));
            } until (abs($sol1) != abs($sol2)  and  ($sol1 + $sol2) % 2 == 0);
            $b = -($sol1 + $sol2);
            $c = $sol1*$sol2;
            Context()->variables->are($x=>'Real');
            $left0 = Formula("$a^2 $x^2 + $b $x + $c")->reduce;
            $right0 = Formula("0")->reduce;
            $left = Formula("$a^2 $x^2 + $b $x")->reduce;
            $right = Formula("-$c")->reduce;
            Context("Fraction");
            $helper = Fraction(-$sol1 - $sol2, 2);
            $helpersquared = $helper**2;
            $rightplushelpersquared = Fraction("$right + $helpersquared");
            $margin = Fraction(sqrt($rightplushelpersquared));
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
            $linear = Formula("$a $x")->reduce;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            $linear = ($helper > 0) ? Formula("$linear + $helper") : Formula("$linear - $absnum/$den");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left0"/>=<var name="$right0"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Move the constant term to the other side to get <m><var name="$left" /> = <var name="$right" /></m>.
              Then compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-4"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-5">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            $a = 1;
            do {
              $sol1 = non_zero_random(-9,9,1);
              $sol2 = non_zero_random(-9,9,1);
              ($sol1, $sol2) = (min($sol1, $sol2), max($sol1, $sol2));
            } until (abs($sol1) != abs($sol2)  and  ($sol1 + $sol2) % 2 == 1);
            $b = -($sol1 + $sol2);
            $c = $sol1*$sol2;
            Context()->variables->are($x=>'Real');
            $left0 = Formula("$a^2 $x^2 + $b $x + $c")->reduce;
            $right0 = Formula("0")->reduce;
            $left = Formula("$a^2 $x^2 + $b $x")->reduce;
            $right = Formula("-$sol1*$sol2")->reduce;
            Context("Fraction");
            $helper = Fraction(-$sol1 - $sol2, 2);
            $helpersquared = $helper**2;
            $rightplushelpersquared = Fraction("$right + $helpersquared");
            $margin = Fraction(sqrt($rightplushelpersquared));
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
            $linear = Formula("$a $x")->reduce;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
              $linear = ($helper > 0) ? Formula("$linear + $helper") : Formula("$linear - $absnum/$den");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left0"/>=<var name="$right0"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Move the constant term to the other side to get <m><var name="$left" /> = <var name="$right" /></m>.
              Then compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-5"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-6">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            @squares = map{$_**2} (2, 3, 5, 7, 11);
            $squarefree = 1;
            do {
              $a = 1;
              $b = non_zero_random(-10,10,2);
              $c = non_zero_random(-10,10,1);
              $discriminant = $b**2 - 4*$a*$c;
            } until ($discriminant > 0);
            Context()->variables->are($x=>'Real');
            $left0 = Formula("$a^2 $x^2 + $b $x + $c")->reduce;
            $right0 = Formula("0")->reduce;
            $left = Formula("$a^2 $x^2 + $b $x")->reduce;
            $right = Formula("-$c")->reduce;
            Context("Fraction");
            $helper = Fraction($b, 2);
            $helpersquared = $helper**2;
            $rightplushelpersquared = Fraction("$right + $helpersquared");
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            @divsquares = map {(($rightplushelpersquared->value)[0] % $_ == 0) ? $_ : 1} (@squares);
            $squarepart = 1;
            foreach my $element (@divsquares) {
              $power = 1;
              while ($element != 1 and ($rightplushelpersquared->value)[0] % $element**($power+1) == 0) {$power += 1;}  
              $squarepart *= $element**$power;
            };
            $nonsquarepart = $rightplushelpersquared/$squarepart;
            $reducedpart = sqrt($squarepart);
            $margin = Formula("$reducedpart sqrt($x)")->reduce->substitute($x=>Formula("$nonsquarepart"));
            $ax = Formula("$a $x")->reduce;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            if ($den == 1) {$linear = ($helper > 0) ? Formula("$ax + $helper") : Formula("$ax - $absnum");}
            else {$linear = ($helper > 0) ? Formula("$ax + $helper") : Formula("$ax - $absnum/$den");}
            $twoa = Formula("2*$a");
            $nhelper = -$helper;
            $sol1 = Formula("$nhelper - $margin");
            $sol2 = Formula("$nhelper + $margin");
            if (int(sqrt($nonsquarepart)) == sqrt($nonsquarepart)) {
              $mycontext = Context();
              Context("Fraction");
              $sol1 = Compute("$sol1");
              $sol2 = Compute("$sol2");
              Context($mycontext);
            }
            $answer = Formula("{$sol1, $sol2}");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left0"/>=<var name="$right0"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Move the constant term to the other side to get <m><var name="$left" /> = <var name="$right" /></m>.
              Then compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$ax" /> \amp = <var name="$nhelper" />-<var name="$margin" />\amp\amp\text{or}\amp <var name="$ax" /> \amp = <var name="$nhelper" />+<var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-6"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-7">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            Context("Fraction");
            Context()->variables->are($x=>'Real');
            do {
              $m1 = random(1,9,1);
              $m2 = random(1,9,1);
              $b1 = non_zero_random(-9,9,1);
              $b2 = non_zero_random(-9,9,1);
              $a = $m1*$m2;
              $b = $m1*$b2 + $m2*$b1;
              $c = $b1*$b2;
              $B = Fraction($b,$a);
              $C = Fraction($c,$a);
              ($Bnum,$Bden) = $B->value;
              $absBnum = abs($Bnum);
              ($Cnum,$Cden) = $C->value;
              $absCnum = abs($Cnum);
              $helper = $B/2;
              $helpersquared = $helper**2;
              $rightplushelpersquared = Fraction("-$C + $helpersquared");
            } until (gcd($m1,$b1) == 1 and gcd($m2,$b2) == 1 and $m1 != $m2 and ($rightplushelpersquared->value)[0] &lt;= 10 and ($rightplushelpersquared->value)[1] &lt; 10);
            $left0 = Formula("$a $x^2 + $b $x + $c")->reduce;
            $right0 = Formula("0")->reduce;
            $left1 = Formula("$a $x^2 + $b $x")->reduce;
            $right1 = Formula("-$c")->reduce;
            $left = ($B > 0) ? Formula("$x^2 + $B $x") : Formula("$x^2 - $absBnum/$Bden $x");
            $right = ($C > 0) ? Formula("-$C") : Formula("$absCnum/$Cden");
            $sol1 = Fraction(-$b1,$m1);
            $sol2 = Fraction(-$b2,$m2);
            ($sol1, $sol2) = (min($sol1, $sol2), max($sol1, $sol2));
            $margin = Fraction(sqrt(($rightplushelpersquared->value)[0]),sqrt(($rightplushelpersquared->value)[1]));
            $solstep1 = -$helper - $margin;
            $solstep2 = -$helper + $margin;
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $answer = Formula("{$sol1, $sol2}");
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            $linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum/$den");
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left0"/>=<var name="$right0"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Move the constant term to the other side to get <m><var name="$left1" /> = <var name="$right1" /></m>.
            </p>
            <p>
              Divide through by <m><var name="$a"/></m> to get <m><var name="$left" /> = <var name="$right" /></m>.
            </p>
            <p>
              Compute <m>\left(\frac{<var name="$B" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-7"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-solve-quadratic-equation-by-completing-the-square-8">
          <pg-code>
            $x = RandomVariableName(type=>'variable');
            Context("Fraction");
            Context()->variables->are($x=>'Real');
            @squares = map{$_**2} (2..23);
            do {
              do {
                $a = 2;#random(2,9,1);
                $b = non_zero_random(-9,9,1);
                $c = non_zero_random(-5,5,1);
                $discriminant = $b**2 - 4*$a*$c;
              } until ($discriminant > 0);
              $B = Fraction($b,$a);
              $C = Fraction($c,$a);
              ($Bnum,$Bden) = $B->value;
              $absBnum = abs($Bnum);
              ($Cnum,$Cden) = $C->value;
              $absCnum = abs($Cnum);
              $helper = $B/2;
              $helpersquared = $helper**2;
              $rightplushelpersquared = Fraction("-$C + $helpersquared");
              $squarenumpart = 1;
              $squaredenpart = 1;
              for my $square (@squares) {
                $squarenumpart = $square if (($rightplushelpersquared->value)[0] % $square == 0);
                $squaredenpart = $square if (($rightplushelpersquared->value)[1] % $square == 0);
              }
              $nonsquarenumpart = ($rightplushelpersquared->value)[0]/$squarenumpart;
              $nonsquaredenpart = ($rightplushelpersquared->value)[1]/$squaredenpart;
            } until ($nonsquarenumpart > 1);
            $reducednumpart = sqrt($squarenumpart);
            $reduceddenpart = sqrt($squaredenpart);
            $reducedpartMargin = Fraction($reducednumpart, $reduceddenpart * $nonsquaredenpart);
            $nonsquarepartMargin = Fraction($nonsquarenumpart * $nonsquaredenpart,1);
            $left0 = Formula("$a $x^2 + $b $x + $c")->reduce;
            $right0 = Formula("0")->reduce;
            $left1 = Formula("$a $x^2 + $b $x")->reduce;
            $right1 = Formula("-$c")->reduce;
            $left = ($B > 0) ? Formula("$x^2 + $B $x") : Formula("$x^2 - $absBnum/$Bden $x");
            $right = ($C > 0) ? Formula("-$C") : Formula("$absCnum/$Cden");
            Context("FiniteSolutionSets");
            Context()->variables->are($x=>'Real');
            $margin = ($reducedpartMargin == 1) ? Formula("sqrt($nonsquarepartMargin)") : Formula("$reducedpartMargin sqrt($nonsquarepartMargin)");
            $nhelper = -$helper;
            $sol1 = Formula("$nhelper-$margin");
            $sol2 = Formula("$nhelper+$margin");
            if (int(sqrt($nonsquarepartMargin)) == sqrt($nonsquarepartMargin)) {
              $mycontext = Context();
              Context("Fraction");
              $sol1 = Compute("$sol1");
              $sol2 = Compute("$sol2");
              Context($mycontext);
            }
            $solstep1 = Formula("-$helper - $margin");
            $solstep2 = Formula("-$helper + $margin");
            $answer = Formula("{$sol1, $sol2}");
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            if ($den != 1) {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum/$den");}
            else {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum");}
          </pg-code>
          <statement>
            <p>
              Solve the equation by completing the square.
            </p>
            <p>
              <m><var name="$left0"/>=<var name="$right0"/></m>
            </p>
            <p>
              <var name="$answer" width="25" />
            </p>
          </statement>
          <solution>
            <p>
              Move the constant term to the other side to get <m><var name="$left1" /> = <var name="$right1" /></m>.
            </p>
            <p>
              Divide through by <m><var name="$a"/></m> to get <m><var name="$left" /> = <var name="$right" /></m>.
            </p>
            <p>
              Compute <m>\left(\frac{<var name="$B" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$right" />+<var name="$helpersquared" /></mrow>
                <mrow><var name="$left" />+<var name="$helpersquared" />\amp = <var name="$rightplushelpersquared" /></mrow>
                <mrow>\left(<var name="$linear" />\right)^2\amp = <var name="$rightplushelpersquared" /></mrow>
              </md>
              <md>
                <mrow><var name="$linear" /> \amp = -<var name="$margin" />\amp\amp\text{or}\amp <var name="$linear" /> \amp = <var name="$margin" /></mrow>
                <mrow><var name="$x" /> \amp = <var name="$sol1" />\amp\amp\text{or}\amp <var name="$x" /> \amp = <var name="$sol2" /></mrow>
              </md>
              So the solution set is <m><var name="$answer" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-solve-quadratic-equation-by-completing-the-square-8"/>
      </exercise>
    </exercisegroup>

    <exercisegroup cols="2">
      <title>Converting to Vertex Form</title>
      <exercise>
        <webwork xml:id="webwork-convert-to-vertex-form">
          <pg-code>
            $f = RandomVariableName(type=>'function');
            $x = RandomVariableName(type=>'variable');
            Context()->variables->are($x=>'Real');
            $a = 1;
            $b = non_zero_random(-8,8,2);
            $c = non_zero_random(-5,5,1);
            $formula = Formula("$a $x^2 + $b $x + $c")->reduce;
            $nonconstant = Formula("$a $x^2 + $b $x")->reduce;
            Context("Fraction");
            Context()->variables->are($x=>'Real');
            $h = Fraction(-$b, 2*$a);
            $k = Fraction($formula->eval($x=>$h));
            $helper = Fraction($b,2);
            $helpersquared = $helper**2;
            $perfectsquare = $nonconstant+$helpersquared;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            if ($den != 1) {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum/$den");}
            {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum");};
            Context("Point");
            Context()->flags->set(reduceConstants=>0);
            $vertex = Formula("($h,$k)");
            Context("Numeric");
            Parser::Number::NoDecimals();
            parser::Assignment->Allow;
            parser::Assignment->Function("$f");
            Context()->variables->are($x=>'Real');
            Context()->noreduce('(-x)-y','(-x)+y');
            Context()->flags->set(reduceConstants=>0);
            Context()->operators->set(
              '+' => {class => 'bizarro::BOP::add', isCommand => 1},
              '-' => {class => 'bizarro::BOP::subtract', isCommand => 1},
              '*' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              ' *' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              '* ' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              '/' => {class => 'bizarro::BOP::divide', isCommand => 1},
              ' /' => {class => 'bizarro::BOP::divide', isCommand => 1},
              '/ ' => {class => 'bizarro::BOP::divide', isCommand => 1},
              '//' => {class => 'bizarro::BOP::divide', isCommand => 1},
            );
            ($hnum,$hden) = $h->value;
            $abshnum = abs($hnum);
            if ($hden != 1) {$hshift = ($h > 0) ? Formula("$x - $h") : Formula("$x + $abshnum/$hden")}
            else {$hshift = ($h > 0) ? Formula("$x - $h") : Formula("$x + $abshnum")};
            ($knum,$kden) = $k->value;
            $absknum = abs($knum);
            if ($kden != 1) {$vshift = ($k > 0) ? Formula("$x + $k") : Formula("$x - $absknum/$kden")}
            else {$vshift = ($k > 0) ? Formula("$x + $k") : Formula("$x - $absknum")};
            $vform = Formula("$a $x^2")->reduce;
            $vform = $vshift->substitute($x => $vform)->substitute($x => $hshift);
            $fxvform = Formula("$f($x)=$vform");
            $evaluator = $fxvform->cmp(checker=>sub{
              my ( $correct, $student, $ansHash ) = @_;
              return 0 if $ansHash->{isPreview} || $correct != $student;
              $student = $ansHash->{student_formula};
              $correct = $correct->{original_formula} if defined $correct->{original_formula};
              $student = Formula("$student"); $correct = Formula("$correct");
              return 0 unless ($correct == $student);
              Context()->flags->set(bizarroAdd=>1,bizarroSub=>1,bizarroMul=>1,bizarroDiv=>1);
              delete $correct->{test_values}, $student->{test_values};
              my $OK = (($correct == $student) or ($student == $correct));
              Context()->flags->set(bizarroAdd=>0,bizarroSub=>0,bizarroMul=>0,bizarroDiv=>0);
              Value::Error("Your answer is a formula for $f, but not in vertex form") unless $OK;
              return $OK;
            });
          </pg-code>
          <statement>
            <p>
              Consider <m><var name="$f" />(<var name="$x" />)=<var name="$formula" /></m>.
              <ol marker="a.">
                <li>
                  <p>
                    Give the formula for <m><var name="$f" /></m> in vertex form.
                  </p>
                  <instruction>
                    Use function notation with your answer.
                  </instruction>
                  <p>
                    <var name="$fxvform" evaluator="$evaluator" width="20" />
                  </p>
                </li>
                <li>
                  <p>
                    What is the vertex of the parabola graph of <m><var name="$f" /></m>?
                  </p>
                  <p>
                    <var name="$vertex" width="20" />
                  </p>
                </li>
              </ol>
            </p>
          </statement>
          <solution>
            <p>
              Compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$f" />(<var name="$x" />)\amp = <var name="$nonconstant" />+<var name="$helpersquared" />-<var name="$helpersquared" />+<var name="$c" /></mrow>
                <mrow>\amp=\left(<var name="$perfectsquare" />\right)-<var name="$helpersquared" />+<var name="$c" /></mrow>
                <mrow>\amp=<var name="$vform" /></mrow>
              </md>
              From the vertex form,
              we can see the vertex is <m><var name="$vertex" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-convert-to-vertex-form"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-convert-to-vertex-form-2">
          <pg-code>
            $f = RandomVariableName(type=>'function');
            $x = RandomVariableName(type=>'variable');
            Context()->variables->are($x=>'Real');
            $a = 1;
            $b = non_zero_random(-9,9,2);
            $c = non_zero_random(-5,5,1);
            $formula = Formula("$a $x^2 + $b $x + $c")->reduce;
            $nonconstant = Formula("$a $x^2 + $b $x")->reduce;
            Context("Fraction");
            Context()->variables->are($x=>'Real');
            $h = Fraction(-$b, 2*$a);
            $k = Fraction($formula->eval($x=>$h));
            $helper = Fraction($b,2);
            $helpersquared = $helper**2;
            $perfectsquare = $nonconstant+$helpersquared;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            if ($den != 1) {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum/$den");}
            {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum");};
            Context("Point");
            Context()->flags->set(reduceConstants=>0);
            $vertex = Formula("($h,$k)");
            Context("Numeric");
            Parser::Number::NoDecimals();
            parser::Assignment->Allow;
            parser::Assignment->Function("$f");
            Context()->variables->are($x=>'Real');
            Context()->noreduce('(-x)-y','(-x)+y');
            Context()->flags->set(reduceConstants=>0);
            Context()->operators->set(
              '+' => {class => 'bizarro::BOP::add', isCommand => 1},
              '-' => {class => 'bizarro::BOP::subtract', isCommand => 1},
              '*' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              ' *' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              '* ' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              '/' => {class => 'bizarro::BOP::divide', isCommand => 1},
              ' /' => {class => 'bizarro::BOP::divide', isCommand => 1},
              '/ ' => {class => 'bizarro::BOP::divide', isCommand => 1},
              '//' => {class => 'bizarro::BOP::divide', isCommand => 1},
            );
            ($hnum,$hden) = $h->value;
            $abshnum = abs($hnum);
            if ($hden != 1) {$hshift = ($h > 0) ? Formula("$x - $h") : Formula("$x + $abshnum/$hden")}
            else {$hshift = ($h > 0) ? Formula("$x - $h") : Formula("$x + $abshnum")};
            ($knum,$kden) = $k->value;
            $absknum = abs($knum);
            if ($kden != 1) {$vshift = ($k > 0) ? Formula("$x + $k") : Formula("$x - $absknum/$kden")}
            else {$vshift = ($k > 0) ? Formula("$x + $k") : Formula("$x - $absknum")};
            $vform = Formula("$a $x^2")->reduce;
            $vform = $vshift->substitute($x => $vform)->substitute($x => $hshift);
            $fxvform = Formula("$f($x)=$vform");
            $evaluator = $fxvform->cmp(checker=>sub{
              my ( $correct, $student, $ansHash ) = @_;
              return 0 if $ansHash->{isPreview} || $correct != $student;
              $student = $ansHash->{student_formula};
              $correct = $correct->{original_formula} if defined $correct->{original_formula};
              $student = Formula("$student"); $correct = Formula("$correct");
              return 0 unless ($correct == $student);
              Context()->flags->set(bizarroAdd=>1,bizarroSub=>1,bizarroMul=>1,bizarroDiv=>1);
              delete $correct->{test_values}, $student->{test_values};
              my $OK = (($correct == $student) or ($student == $correct));
              Context()->flags->set(bizarroAdd=>0,bizarroSub=>0,bizarroMul=>0,bizarroDiv=>0);
              Value::Error("Your answer is a formula for $f, but not in vertex form") unless $OK;
              return $OK;
            });
          </pg-code>
          <statement>
            <p>
              Consider <m><var name="$f" />(<var name="$x" />)=<var name="$formula" /></m>.
              <ol marker="a.">
                <li>
                  <p>
                    Give the formula for <m><var name="$f" /></m> in vertex form.
                  </p>
                  <instruction>
                    Use function notation with your answer.
                  </instruction>
                  <p>
                    <var name="$fxvform" evaluator="$evaluator" width="20" />
                  </p>
                </li>
                <li>
                  <p>
                    What is the vertex of the parabola graph of <m><var name="$f" /></m>?
                  </p>
                  <p>
                    <var name="$vertex" width="20" />
                  </p>
                </li>
              </ol>
            </p>
          </statement>
          <solution>
            <p>
              Compute <m>\left(\frac{<var name="$b" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$f" />(<var name="$x" />)\amp = <var name="$nonconstant" />+<var name="$helpersquared" />-<var name="$helpersquared" />+<var name="$c" /></mrow>
                <mrow>\amp=\left(<var name="$perfectsquare" />\right)-<var name="$helpersquared" />+<var name="$c" /></mrow>
                <mrow>\amp=<var name="$vform" /></mrow>
              </md>
              From the vertex form,
              we can see the vertex is <m><var name="$vertex" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-convert-to-vertex-form-2"/>
      </exercise>
      <exercise>
        <webwork xml:id="webwork-convert-to-vertex-form-3">
          <pg-code>
            $f = RandomVariableName(type=>'function');
            $x = RandomVariableName(type=>'variable');
            Context()->variables->are($x=>'Real');
            $a = random(2,9,1);
            $bovera = non_zero_random(-9,9,1);
            $b = $a*$bovera;
            $c = non_zero_random(-5,5,1);
            $absc = abs($c);
            $formula = Formula("$a $x^2 + $b $x + $c")->reduce;
            $nonconstant = Formula("$a ($x^2 + $bovera $x)")->reduce;
            $partlyfactored = ($c > 0) ? $nonconstant + $c : Formula("$nonconstant - $absc");
            Context("Fraction");
            Context()->variables->are($x=>'Real');
            $h = Fraction(-$b, 2*$a)->reduce;
            $k = Fraction($formula->eval($x=>$h))->reduce;
            $helper = Fraction($bovera,2);
            $helpersquared = $helper**2;
            $perfectsquare = $nonconstant+$helpersquared;
            ($num,$den) = $helper->value;
            $absnum = abs($num);
            if ($den != 1) {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum/$den");}
            {$linear = ($helper > 0) ? Formula("$x + $helper") : Formula("$x - $absnum");};
            $inner = Formula("$x^2 + $bovera $x")->reduce;
            $solutionstep[0] = ($c > 0) ? Formula("$a($inner + $helpersquared - $helpersquared) + $c") : Formula("$a($inner + $helpersquared - $helpersquared) - $absc");
            $ah2 = $a*$helpersquared;
            $solutionstep[1] = ($c > 0) ? Formula("$a($inner + $helpersquared) - $ah2 + $c") : Formula("$a($inner + $helpersquared) - $ah2 - $absc");
            $ah2pc = -$a*$helpersquared+$c;
            $absah2pc = abs($ah2pc);
            $solutionstep[2] = ($ah2pc > 0) ? Formula("$a($inner + $helpersquared) + $ah2pc") : Formula("$a($inner + $helpersquared) - $absah2pc");
            Context("Point");
            Context()->flags->set(reduceConstants=>0);
            $vertex = Formula("($h,$k)");
            Context("Numeric");
            Parser::Number::NoDecimals();
            parser::Assignment->Allow;
            parser::Assignment->Function("$f");
            Context()->variables->are($x=>'Real');
            Context()->noreduce('(-x)-y','(-x)+y');
            Context()->flags->set(reduceConstants=>0);
            Context()->operators->set(
              '+' => {class => 'bizarro::BOP::add', isCommand => 1},
              '-' => {class => 'bizarro::BOP::subtract', isCommand => 1},
              '*' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              ' *' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              '* ' => {class => 'bizarro::BOP::multiply', isCommand => 1},
              '/' => {class => 'bizarro::BOP::divide', isCommand => 1},
              ' /' => {class => 'bizarro::BOP::divide', isCommand => 1},
              '/ ' => {class => 'bizarro::BOP::divide', isCommand => 1},
              '//' => {class => 'bizarro::BOP::divide', isCommand => 1},
            );
            ($hnum,$hden) = $h->value;
            $abshnum = abs($hnum);
            if ($hden != 1) {$hshift = ($h > 0) ? Formula("$x - $h") : Formula("$x + $abshnum/$hden")}
            else {$hshift = ($h > 0) ? Formula("$x - $h") : Formula("$x + $abshnum")};
            ($knum,$kden) = $k->value;
            $absknum = abs($knum);
            if ($kden != 1) {$vshift = ($k > 0) ? Formula("$x + $k") : Formula("$x - $absknum/$kden")}
            else {$vshift = ($k > 0) ? Formula("$x + $k") : Formula("$x - $absknum")};
            $vform = Formula("$a $x^2")->reduce;
            $vform = $vshift->substitute($x => $vform)->substitute($x => $hshift);
            $fxvform = Formula("$f($x)=$vform");
            $evaluator = $fxvform->cmp(checker=>sub{
              my ( $correct, $student, $ansHash ) = @_;
              return 0 if $ansHash->{isPreview} || $correct != $student;
              $student = $ansHash->{student_formula};
              $correct = $correct->{original_formula} if defined $correct->{original_formula};
              $student = Formula("$student"); $correct = Formula("$correct");
              return 0 unless ($correct == $student);
              Context()->flags->set(bizarroAdd=>1,bizarroSub=>1,bizarroMul=>1,bizarroDiv=>1);
              delete $correct->{test_values}, $student->{test_values};
              my $OK = (($correct == $student) or ($student == $correct));
              Context()->flags->set(bizarroAdd=>0,bizarroSub=>0,bizarroMul=>0,bizarroDiv=>0);
              Value::Error("Your answer is a formula for $f, but not in vertex form") unless $OK;
              return $OK;
            });
          </pg-code>
          <statement>
            <p>
              Consider <m><var name="$f" />(<var name="$x" />)=<var name="$formula" /></m>.
              <ol marker="a.">
                <li>
                  <p>
                    Give the formula for <m><var name="$f" /></m> in vertex form.
                  </p>
                  <instruction>
                    Use function notation with your answer.
                  </instruction>
                  <p>
                    <var name="$fxvform" evaluator="$evaluator" width="20" />
                  </p>
                </li>
                <li>
                  <p>
                    What is the vertex of the parabola graph of <m><var name="$f" /></m>?
                  </p>
                  <p>
                    <var name="$vertex" width="20" />
                  </p>
                </li>
              </ol>
            </p>
          </statement>
          <solution>
            <p>
              First factor out the leading coefficient from the first two terms,
              giving <m><var name="$f" />(<var name="$x" />)=<var name="$partlyfactored" /></m>.
              Then compute <m>\left(\frac{<var name="$bovera" />}{2}\right)^2=<var name="$helpersquared" /></m>.
              Then
              <md>
                <mrow><var name="$f" />(<var name="$x" />)\amp = <var name="$solutionstep[0]" /></mrow>
                <mrow>\amp = <var name="$solutionstep[1]" /></mrow>
                <mrow>\amp = <var name="$solutionstep[2]" /></mrow>
                <mrow>\amp=<var name="$vform" /></mrow>
              </md>
              From the vertex form,
              we can see the vertex is <m><var name="$vertex" /></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork copy="webwork-convert-to-vertex-form-3"/>
      </exercise>
    </exercisegroup>

    <exercisegroup cols="2">
      <title>Domain and Range</title>
      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange10.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange10.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange20.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange20.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange30.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange30.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange40.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticDomainRange40.pg" />
      </exercise>

    </exercisegroup>
    <exercisegroup cols="3">
      <title>Sketching Graphs of Quadratic Functions</title>
      <introduction>
        <p>
          Graph each function by algebraically determining its key features.
          Then state the domain and range of the function.
        </p>
      </introduction>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-7x+12</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(3,0)</m> and <m>(4,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,12)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 3.5)^2 - 0.25</m>.
              </p>

              <p>
                The vertex is <m>(3.5,-0.25)</m> and the axis of symmetry is <m>x=3.5</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(7,12)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-0.25,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-7x+12 opens upward and the key features are labeled;the vertex is (3.5,-0.25);the axis of symmetry is drawn at x=3.5;the y-intercept is (0,12) and its symmetric point is (7,12);the x-intercepts are (3,0) and (4,0);the domain is (-infinity,infinity);the range is [-0.25,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-5,ymax=15,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={0,5,10},minor ytick={-5,-4,...,15}]
                            \addplot+[domain=-0.405:7.405] {x^2-7*x+12};
                            \addplot[soliddot] coordinates {(3,0) (4,0) (0,12) (3.5,-0.25) (7,12)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2+5x-14</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-7,0)</m> and <m>(2,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,-14)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x + 2.5)^2 - 20.25</m>.
              </p>

              <p>
                The vertex is <m>(-2.5,-20.25)</m> and the axis of symmetry is <m>x=-2.5</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-5,-14)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-20.25,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2+5x-14 opens upward and the key features are labeled;the vertex is (-2.5,-20.25);the axis of symmetry is drawn at x=-2.5;the y-intercept is (0,-14) and its symmetric point is (-5,-14);the x-intercepts are (-7,0) and (2,0);the domain is (-infinity,infinity);the range is [-20.25,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-25,ymax=5,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-20,-15,-10,-5,0},minor ytick={-25,-24,...,5}]
                            \addplot+[domain=-7.525:2.525] {x^2+5*x-14};
                            \addplot[soliddot] coordinates {(-7,0) (2,0) (0,-14) (-2.5,-20.25) (-5,-14)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=-x^2-x+20</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens downward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-5,0)</m> and <m>(4,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,20)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=-(x + 0.5)^2 + 20.25</m>.
              </p>

              <p>
                The vertex is <m>(-0.5,20.25)</m> and the axis of symmetry is <m>x=-0.5</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-1,20)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>(-\infty,20.25]</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2-x+20 opens downward and the key features are labeled;the vertex is (-0.5,20.25);the axis of symmetry is drawn at x=-0.5;the y-intercept is (0,20) and its symmetric point is (-1,20);the x-intercepts are (-5,0) and (4,0);the domain is (-infinity,infinity);the range is (-infinity,20.25]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-5,ymax=25,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={0,5,10,15,20},minor ytick={-5,-4,...,25}]
                            \addplot+[domain=-5.525:4.525] {-x^2-x+20};
                            \addplot[soliddot] coordinates {(-5,0) (4,0) (0,20) (-0.5,20.25) (-1,20)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=-x^2+4x+21</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens downward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-3,0)</m> and <m>(7,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,21)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=-(x - 2)^2 + 25</m>.
              </p>

              <p>
                The vertex is <m>(2,25)</m> and the axis of symmetry is <m>x=2</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(4,21)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>(-\infty,25]</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2+4x+21 opens downward and the key features are labeled;the vertex is (2,25);the axis of symmetry is drawn at x=2;the y-intercept is (0,21) and its symmetric point is (4,21);the x-intercepts are (-3,0) and (7,0);the domain is (-infinity,infinity);the range is (-infinity,25]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=30,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,...,25},minor ytick={-10,-9,...,30}]
                            \addplot+[domain=-3.916:7.916] {-x^2+4*x+21};
                            \addplot[soliddot] coordinates {(7,0) (-3,0) (0,21) (2,25)  (4,21)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-8x+16</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercept is <m>(4,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,16)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 4)^2 + 0</m>.
              </p>

              <p>
                The vertex is <m>(4,0)</m> and the axis of symmetry is <m>x=4</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(8,16)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[0,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-8x+16 opens upward and the key features are labeled;the vertex is (4,0);the axis of symmetry is drawn at x=4;the y-intercept is (0,16) and its symmetric point is (8,16);there is only one x-intercept at (4,0);the domain is (-infinity,infinity);the range is [0,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-5,ymax=20,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={0,5,10,15},minor ytick={-5,-4,...,19}]
                            \addplot+[domain=-0.472:8.472] {x^2-8*x+16};
                            \addplot[soliddot] coordinates {(4,0) (0,16) (8,16)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2+6x+9</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercept is <m>(-3,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,9)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x + 3)^2 + 0</m>.
              </p>

              <p>
                The vertex is <m>(-3,0)</m> and the axis of symmetry is <m>x=-3</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-6,9)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[0,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2+6x+9 opens upward and the key features are labeled;the vertex is (-3,0);the axis of symmetry is drawn at x=-3;the y-intercept is (0,9) and its symmetric point is (-6,9);there is only one x-intercept at (-3,0);the domain is (-infinity,infinity);the range is [0,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-5,ymax=20,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={0,5,10,15},minor ytick={-5,-4,...,20}]
                            \addplot+[domain=-7.472:1.472] {x^2+6*x+9};
                            \addplot[soliddot] coordinates {(-3,0) (0,9)  (-6,9)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-4</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-2,0)</m> and <m>(2,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,-4)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 0)^2 - 4</m>.
              </p>

              <p>
                The vertex is <m>(0,-4)</m> and the axis of symmetry is <m>x=0</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-4,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-4 opens upward and the key features are labeled;the vertex is (0,-4);the axis of symmetry is drawn at x=0;the y-intercept is also the vertex at (0,-4) so it does not have a symmetric point;the x-intercepts are (-2,0) and (2,0);the domain is (-infinity,infinity);the range is [-4,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[]
                            \addplot+[domain=-3.317:3.317] {x^2-4};
                            \addplot[soliddot] coordinates {(-2,0) (2,0) (0,-4) };
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-9</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-3,0)</m> and <m>(3,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,-9)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 0)^2 - 9</m>.
              </p>

              <p>
                The vertex is <m>(0,-9)</m> and the axis of symmetry is <m>x=0</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-9,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-9 opens upward and the key features are labeled;the vertex is (0,-9);the axis of symmetry is drawn at x=0;the y-intercept is also the vertex at (0,-9) so it does not have a symmetric point;the x-intercepts are (-3,0) and (3,0);the domain is (-infinity,infinity);the range is [-9,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-4.359:4.359] {x^2-9};
                            \addplot[soliddot] coordinates {(-3,0) (3,0) (0,-9) };
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2+6x</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-6,0)</m> and <m>(0,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,0)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x + 3)^2 - 9</m>.
              </p>

              <p>
                The vertex is <m>(-3,-9)</m> and the axis of symmetry is <m>x=-3</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-9,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2+6x opens upward and the key features are labeled;the vertex is (-3,-9);the axis of symmetry is drawn at x=-3;the y-intercept is (0,0) and its symmetric point is (-6,0); these are also the x-intercepts;the domain is (-infinity,infinity);the range is [-4,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-7.359:1.359] {x^2+6*x};
                            \addplot[soliddot] coordinates {(-6,0) (0,0) (-3,-9)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-8x</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(0,0)</m> and <m>(8,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,0)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 4)^2 - 16</m>.
              </p>

              <p>
                The vertex is <m>(4,-16)</m> and the axis of symmetry is <m>x=4</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-16,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-8x opens upward and the key features are labeled;the vertex is (4,-16);the axis of symmetry is drawn at x=4;the y-intercept is (0,0) and its symmetric point is (8,0); these are also the x-intercepts;the domain is (-infinity,infinity);the range is [-16,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-25,ymax=5,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-20,-15,-10,-5,0},minor ytick={-25,-24,...,5}]
                            \addplot+[domain=-0.583:8.583] {x^2-8*x};
                            \addplot[soliddot] coordinates {(8,0) (0,0) (4,-16)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=-x^2+5x</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens downward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(5,0)</m> and <m>(0,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,0)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=-(x - 2.5)^2 + 6.25</m>.
              </p>

              <p>
                The vertex is <m>(2.5,6.25)</m> and the axis of symmetry is <m>x=2.5</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>(-\infty,6.25]</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2+5x opens downward and the key features are labeled;the vertex is (2.5,6.25);the axis of symmetry is drawn at x=2.5;the y-intercept is (0,0) and its symmetric point is (5,0); these are also the x-intercepts;the domain is (-infinity,infinity);the range is (-infinity,6.25]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[]
                            \addplot+[domain=-1.14:6.14] {-x^2+5*x};
                            \addplot[soliddot] coordinates {(5,0) (0,0) (2.5,6.25)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=-x^2+16</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens downward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-4,0)</m> and <m>(4,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,16)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=-(x - 0)^2 + 16</m>.
              </p>

              <p>
                The vertex is <m>(0,16)</m> and the axis of symmetry is <m>x=0</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>(-\infty,16]</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2+16 opens downward and the key features are labeled;the vertex is (0,16);the axis of symmetry is drawn at x=0;the y-intercept is (0,16) which is also the vertex so there is no symmetric point; the x-intercepts are (-4,0) and (4,0);the domain is (-infinity,infinity);the range is (-infinity,16]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[ymax=20,ytick={-5,0,5,10,15},minor ytick={-7,-6,...,20}]
                            \addplot+[domain=-4.796:4.796] {-x^2+16};
                            \addplot[soliddot] coordinates {(4,0) (-4,0) (0,16) };
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2+4x+7</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                There are no <m>x</m>-intercepts.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,7)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x + 2)^2 + 3</m>.
              </p>

              <p>
                The vertex is <m>(-2,3)</m> and the axis of symmetry is <m>x=-2</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-4,7)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[3,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2+4x+7 opens downward and the key features are labeled;the vertex is (0,16);the axis of symmetry is drawn at x=0;the y-intercept is (0,16) which is also the vertex so there is no symmetric point; the x-intercepts are (-4,0) and (4,0);the domain is (-infinity,infinity);the range is (-infinity,16]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-4.646:0.646] {x^2+4*x+7};
                            \addplot[soliddot] coordinates { (0,7) (-2,3) (-4,7)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-2x+6</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                There are no <m>x</m>-intercepts.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,6)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 1)^2 + 5</m>.
              </p>

              <p>
                The vertex is <m>(1,5)</m> and the axis of symmetry is <m>x=1</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(2,6)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[5,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-2x+6 opens upward and the key features are labeled;the vertex is (1,5);the axis of symmetry is drawn at x=1;the y-intercept is (0,6) and its symmetric point is (2,6);there are no x-intercepts;the domain is (-infinity,infinity);the range is [5,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-1.236:3.236] {x^2-2*x+6};
                            \addplot[soliddot] coordinates {(0,6) (1,5) (2,6)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2+2x-5</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are
                <m>(-1+\sqrt{6},0)</m> and <m>(-1-\sqrt{6},0)</m>,
                or approximately <m>(-3.449,0)</m> and <m>(1.449,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,-5)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x + 1)^2 - 6</m>.
              </p>

              <p>
                The vertex is <m>(-1,-6)</m> and the axis of symmetry is <m>x=-1</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-2,-5)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-6,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2+2x-5 opens upward and the key features are labeled;the vertex is (-1,-6);the axis of symmetry is drawn at x=-1;the y-intercept is (0,-5) and its symmetric point is (-2,-5);the x-intercepts are (-3.449,0) and (1.449,0);the domain is (-infinity,infinity);the range is [-5,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-5:3] {x^2+2*x-5};
                            \addplot[soliddot] coordinates {(-3.449,0) (1.449,0) (0,-5) (-1,-6) (-2,-5)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=x^2-6x+2</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are
                <m>(3-\sqrt{7},0)</m> and <m>(3+\sqrt{7},0)</m>,
                or approximately <m>(0.354,0)</m> and <m>(5.646,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,2)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=(x - 3)^2 - 7</m>.
              </p>

              <p>
                The vertex is <m>(3,-7)</m> and the axis of symmetry is <m>x=3</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(6,2)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-7,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=x^2-6x+2 opens upward and the key features are labeled;the vertex is (3,-7);the axis of symmetry is drawn at x=3;the y-intercept is (0,2) and its symmetric point is (6,2);the x-intercepts are (0.354,0) and (5.646,0);the domain is (-infinity,infinity);the range is [-7,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-1.123:7.123] {x^2-6*x+2};
                            \addplot[soliddot] coordinates {(0,2) (0.354,0) (5.646,0) (3,-7) (6,2)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=-x^2+4x-1</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens downward.
              </p>

              <p>
                The <m>x</m>-intercepts are
                <m>(2-\sqrt{3},0)</m> and <m>(2+\sqrt{3},0)</m>,
                or approximately <m>(0.268,0)</m> and <m>(3.732,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,-1)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=-(x - 2)^2 + 3</m>.
              </p>

              <p>
                The vertex is <m>(2,3)</m> and the axis of symmetry is <m>x=2</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(4,-1)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>(-\infty,3]</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2+4x-1 opens downward and the key features are labeled;the vertex is (2,3);the axis of symmetry is drawn at x=2;the y-intercept is (0,-1) and its symmetric point is (4,-1);the x-intercepts are (0.268,0) and (3.732,0);the domain is (-infinity,infinity);the range is (-infinity,3]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                       \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                             \addplot+[domain=-1.606:5.606] {-x^2+4*x-1};
                            \addplot[soliddot] coordinates {(0.268,0) (3.732,0) (0,-1) (2,3) (4,-1)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=-x^2-x+3</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens downward.
              </p>

              <p>
                The <m>x</m>-intercepts are
                <m>\left(\frac{-1-\sqrt{13}}{2},0\right)</m> and <m>\left(\frac{-1+\sqrt{13}}{2},0\right)</m>,
                or approximately <m>(-2.303,0)</m> and <m>(1.303,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,3)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=-(x + 0.5)^2 + 3.25</m>.
              </p>

              <p>
                The vertex is <m>(-0.5,3.25)</m> and the axis of symmetry is <m>x=-0.5</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-1,3)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>(-\infty,3.25]</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=-x^2-x+3 opens downward and the key features are labeled;the vertex is (-0.5,3.25);the axis of symmetry is drawn at x=-0.5;the y-intercept is (0,3) and its symmetric point is (-1,3);the x-intercepts are (-2.303,0) and (1.303,0);the domain is (-infinity,infinity);the range is (-infinity,3.25]</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                       \begin{axis}[xmin=-10,xmax=10,ymin=-10,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-5,0,5},minor ytick={-10,-9,...,10}]
                            \addplot+[domain=-4.14:3.14] {-x^2-x+3};
                            \addplot[soliddot] coordinates {(-2.303,0) (1.303,0) (0,3) (-0.5,3.25) (-1,3)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=2x^2-4x-30</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-3,0)</m> and <m>(5,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,-30)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=2(x - 1)^2 - 32</m>.
              </p>

              <p>
                The vertex is <m>(1,-32)</m> and the axis of symmetry is <m>x=1</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(2,-30)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-32,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=2x^2-4x-30 opens upward and the key features are labeled;the vertex is (1,-32);the axis of symmetry is drawn at x=1;the y-intercept is (0,-30) and its symmetric point is (2,-30);the x-intercepts are (-3,0) and (5,0);the domain is (-infinity,infinity);the range is [-32,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                        \begin{axis}[xmin=-10,xmax=10,ymin=-40,ymax=10,
                            xtick={-5,0,5},minor xtick={-10,-9,...,10},
                            ytick={-35,-20,...,5},minor ytick={-40,-39,...,10}]
                            \addplot+[domain=-3.583:5.583] {2*x^2-4*x-30};
                            \addplot[soliddot] coordinates {(-3,0) (5,0) (0,-30) (1,-32) (2,-30)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

      <exercise>
        <statement>
          <p>
            <m>f(x)=3x^2+21x+36</m>
          </p>
        </statement>
        <solution>
          <sidebyside widths="47% 47%" margins="0%">

            <stack>
              <p>
                The parabola opens upward.
              </p>

              <p>
                The <m>x</m>-intercepts are <m>(-4,0)</m> and <m>(-3,0)</m>.
              </p>

              <p>
                The <m>y</m>-intercept is <m>(0,36)</m>.
              </p>

              <p>
                The vertex form is <m>f(x)=3(x + 3.5)^2 - 0.75</m>.
              </p>

              <p>
                The vertex is <m>(-3.5,-0.75)</m> and the axis of symmetry is <m>x=-3.5</m>.
              </p>

              <p>
                Symmetry can be used to determine the point <m>(-7,36)</m>.
              </p>

              <p>
                The domain is <m>(-\infty,\infty)</m> and the range is <m>[-0.75,\infty)</m>.
              </p>
            </stack>

            <figure>
              <caption></caption>
              <image>
                <shortdescription>the graph of the parabola f(x)=3x^2+21x+36 opens upward and the key features are labeled;the vertex is (-3.5,-0.75);the axis of symmetry is drawn at x=-3.5;the y-intercept is (0,36) and its symmetric point is (-7,-36);the x-intercepts are (-4,0) and (-3,0);the domain is (-infinity,infinity);the range is [-0.75,infinity)</shortdescription>

            <latex-image>
                <![CDATA[
                    \begin{tikzpicture}
                       \begin{axis}[xmin=-10,xmax=5,ymin=-10,ymax=40,
                            xtick={-5,0},minor xtick={-10,-9,...,5},
                            ytick={-5,0,...,35},minor ytick={-10,-9,...,40}]
                            \addplot+[domain=-7.186:0.186] {3*x^2+21*x+36};
                            \addplot[soliddot] coordinates {(-4,0) (-3,0) (0,36) (-3.5,-0.75) (-7,36)};
                        \end{axis}
                    \end{tikzpicture}
                ]]>
            </latex-image>
              </image>

            </figure>
          </sidebyside>
        </solution>
      </exercise>

    </exercisegroup>
    <exercisegroup cols="2">
      <title>Information from Vertex Form</title>
      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex5.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex5.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex6.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex6.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex7.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex7.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex8.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex8.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex9.pg" />
      </exercise>

      <exercise>
        <webwork source="Contrib/PCC/Math95/ParabolaVertex/ParabolaVertex9.pg" />
      </exercise>

    </exercisegroup>
        <!-- <exercisegroup>
            <introduction>
                <p>A Second Method to Convert to Vertex Form</p>
            </introduction>
            <exercise>
                <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticVertexForm20.pg" />
            </exercise>
            <exercise>
                <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticVertexForm21.pg" />
            </exercise>
            <exercise>
                <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticVertexForm22.pg" />
            </exercise>
            <exercise>
                <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticVertexForm22.pg" />
            </exercise>
            <exercise>
                <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticVertexForm30.pg" />
            </exercise>
            <exercise>
                <webwork source="Contrib/PCC/BasicAlgebra/QuadraticFunctions/QuadraticVertexForm40.pg" />
            </exercise>
        </exercisegroup> -->
    <exercisegroup>
      <title>Challenge</title>
      <exercise>
<!-- Kara's challenge problem -->
        <webwork>
            <statement>
              <p>
                Let <m>f(x) = x^{2}+bx+c</m>.
                Let <m>b</m> and <m>c</m> be real numbers.
                Complete the square to find the vertex of <m>f(x) = x^{2}+bx+c</m>.
                Write <m>f(x)</m> in vertex form and then state the vertex.
              </p>

              <p>
                <var form="essay"/>
              </p>
            </statement>
            <solution>
              <p>
                <md>
                  <mrow>f(x) = x^{2}+bx+c  \amp = \left(x + \frac{b}{2}\right)^{2} - \frac{b^{2}}{4} +c</mrow>
                  <mrow>\amp = \left(x + \frac{b}{2}\right)^{2} - \frac{b^{2}}{4} +\frac{4c}{4}</mrow>
                  <mrow>\amp = \left(x + \frac{b}{2}\right)^{2} + \frac{4c-b^{2}}{4}</mrow>
                </md>
                Thus, the vertex is <m>(\frac{-b}{2},\frac{4c-b^{2}}{4})</m>.
              </p>
            </solution>
        </webwork>
      </exercise>

    </exercisegroup>
  </exercises>
</section>

